(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))a(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function i(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function a(u){if(u.ep)return;u.ep=!0;const h=i(u);fetch(u.href,h)}})();var pf={exports:{}},Il={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function AE(){if(Kp)return Il;Kp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function i(a,u,h){var d=null;if(h!==void 0&&(d=""+h),u.key!==void 0&&(d=""+u.key),"key"in u){h={};for(var g in u)g!=="key"&&(h[g]=u[g])}else h=u;return u=h.ref,{$$typeof:s,type:a,key:d,ref:u!==void 0?u:null,props:h}}return Il.Fragment=e,Il.jsx=i,Il.jsxs=i,Il}var Yp;function SE(){return Yp||(Yp=1,pf.exports=AE()),pf.exports}var Et=SE(),yf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function bE(){if(Fp)return vt;Fp=1;var s=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),V=Symbol.iterator;function P(D){return D===null||typeof D!="object"?null:(D=V&&D[V]||D["@@iterator"],typeof D=="function"?D:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,nt={};function J(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||j}J.prototype.isReactComponent={},J.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},J.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function Tt(){}Tt.prototype=J.prototype;function At(D,X,et){this.props=D,this.context=X,this.refs=nt,this.updater=et||j}var gt=At.prototype=new Tt;gt.constructor=At,F(gt,J.prototype),gt.isPureReactComponent=!0;var Bt=Array.isArray,_t={H:null,A:null,T:null,S:null,V:null},zt=Object.prototype.hasOwnProperty;function N(D,X,et,$,ut,Rt){return et=Rt.ref,{$$typeof:s,type:D,key:X,ref:et!==void 0?et:null,props:Rt}}function S(D,X){return N(D.type,X,void 0,void 0,void 0,D.props)}function w(D){return typeof D=="object"&&D!==null&&D.$$typeof===s}function I(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(et){return X[et]})}var O=/\/+/g;function x(D,X){return typeof D=="object"&&D!==null&&D.key!=null?I(""+D.key):X.toString(36)}function R(){}function Ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(R,R):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function ie(D,X,et,$,ut){var Rt=typeof D;(Rt==="undefined"||Rt==="boolean")&&(D=null);var mt=!1;if(D===null)mt=!0;else switch(Rt){case"bigint":case"string":case"number":mt=!0;break;case"object":switch(D.$$typeof){case s:case e:mt=!0;break;case A:return mt=D._init,ie(mt(D._payload),X,et,$,ut)}}if(mt)return ut=ut(D),mt=$===""?"."+x(D,0):$,Bt(ut)?(et="",mt!=null&&(et=mt.replace(O,"$&/")+"/"),ie(ut,X,et,"",function(xn){return xn})):ut!=null&&(w(ut)&&(ut=S(ut,et+(ut.key==null||D&&D.key===ut.key?"":(""+ut.key).replace(O,"$&/")+"/")+mt)),X.push(ut)),1;mt=0;var be=$===""?".":$+":";if(Bt(D))for(var Zt=0;Zt<D.length;Zt++)$=D[Zt],Rt=be+x($,Zt),mt+=ie($,X,et,Rt,ut);else if(Zt=P(D),typeof Zt=="function")for(D=Zt.call(D),Zt=0;!($=D.next()).done;)$=$.value,Rt=be+x($,Zt++),mt+=ie($,X,et,Rt,ut);else if(Rt==="object"){if(typeof D.then=="function")return ie(Ne(D),X,et,$,ut);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return mt}function H(D,X,et){if(D==null)return D;var $=[],ut=0;return ie(D,$,"","",function(Rt){return X.call(et,Rt,ut++)}),$}function tt(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(et){(D._status===0||D._status===-1)&&(D._status=1,D._result=et)},function(et){(D._status===0||D._status===-1)&&(D._status=2,D._result=et)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var st=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Lt(){}return vt.Children={map:H,forEach:function(D,X,et){H(D,function(){X.apply(this,arguments)},et)},count:function(D){var X=0;return H(D,function(){X++}),X},toArray:function(D){return H(D,function(X){return X})||[]},only:function(D){if(!w(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},vt.Component=J,vt.Fragment=i,vt.Profiler=u,vt.PureComponent=At,vt.StrictMode=a,vt.Suspense=v,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=_t,vt.__COMPILER_RUNTIME={__proto__:null,c:function(D){return _t.H.useMemoCache(D)}},vt.cache=function(D){return function(){return D.apply(null,arguments)}},vt.cloneElement=function(D,X,et){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var $=F({},D.props),ut=D.key,Rt=void 0;if(X!=null)for(mt in X.ref!==void 0&&(Rt=void 0),X.key!==void 0&&(ut=""+X.key),X)!zt.call(X,mt)||mt==="key"||mt==="__self"||mt==="__source"||mt==="ref"&&X.ref===void 0||($[mt]=X[mt]);var mt=arguments.length-2;if(mt===1)$.children=et;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];$.children=be}return N(D.type,ut,void 0,void 0,Rt,$)},vt.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:h,_context:D},D},vt.createElement=function(D,X,et){var $,ut={},Rt=null;if(X!=null)for($ in X.key!==void 0&&(Rt=""+X.key),X)zt.call(X,$)&&$!=="key"&&$!=="__self"&&$!=="__source"&&(ut[$]=X[$]);var mt=arguments.length-2;if(mt===1)ut.children=et;else if(1<mt){for(var be=Array(mt),Zt=0;Zt<mt;Zt++)be[Zt]=arguments[Zt+2];ut.children=be}if(D&&D.defaultProps)for($ in mt=D.defaultProps,mt)ut[$]===void 0&&(ut[$]=mt[$]);return N(D,Rt,void 0,void 0,null,ut)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(D){return{$$typeof:g,render:D}},vt.isValidElement=w,vt.lazy=function(D){return{$$typeof:A,_payload:{_status:-1,_result:D},_init:tt}},vt.memo=function(D,X){return{$$typeof:_,type:D,compare:X===void 0?null:X}},vt.startTransition=function(D){var X=_t.T,et={};_t.T=et;try{var $=D(),ut=_t.S;ut!==null&&ut(et,$),typeof $=="object"&&$!==null&&typeof $.then=="function"&&$.then(Lt,st)}catch(Rt){st(Rt)}finally{_t.T=X}},vt.unstable_useCacheRefresh=function(){return _t.H.useCacheRefresh()},vt.use=function(D){return _t.H.use(D)},vt.useActionState=function(D,X,et){return _t.H.useActionState(D,X,et)},vt.useCallback=function(D,X){return _t.H.useCallback(D,X)},vt.useContext=function(D){return _t.H.useContext(D)},vt.useDebugValue=function(){},vt.useDeferredValue=function(D,X){return _t.H.useDeferredValue(D,X)},vt.useEffect=function(D,X,et){var $=_t.H;if(typeof et=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return $.useEffect(D,X)},vt.useId=function(){return _t.H.useId()},vt.useImperativeHandle=function(D,X,et){return _t.H.useImperativeHandle(D,X,et)},vt.useInsertionEffect=function(D,X){return _t.H.useInsertionEffect(D,X)},vt.useLayoutEffect=function(D,X){return _t.H.useLayoutEffect(D,X)},vt.useMemo=function(D,X){return _t.H.useMemo(D,X)},vt.useOptimistic=function(D,X){return _t.H.useOptimistic(D,X)},vt.useReducer=function(D,X,et){return _t.H.useReducer(D,X,et)},vt.useRef=function(D){return _t.H.useRef(D)},vt.useState=function(D){return _t.H.useState(D)},vt.useSyncExternalStore=function(D,X,et){return _t.H.useSyncExternalStore(D,X,et)},vt.useTransition=function(){return _t.H.useTransition()},vt.version="19.1.0",vt}var Xp;function Wf(){return Xp||(Xp=1,yf.exports=bE()),yf.exports}var en=Wf(),_f={exports:{}},Nl={},vf={exports:{}},Ef={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function RE(){return Zp||(Zp=1,function(s){function e(H,tt){var st=H.length;H.push(tt);t:for(;0<st;){var Lt=st-1>>>1,D=H[Lt];if(0<u(D,tt))H[Lt]=tt,H[st]=D,st=Lt;else break t}}function i(H){return H.length===0?null:H[0]}function a(H){if(H.length===0)return null;var tt=H[0],st=H.pop();if(st!==tt){H[0]=st;t:for(var Lt=0,D=H.length,X=D>>>1;Lt<X;){var et=2*(Lt+1)-1,$=H[et],ut=et+1,Rt=H[ut];if(0>u($,st))ut<D&&0>u(Rt,$)?(H[Lt]=Rt,H[ut]=st,Lt=ut):(H[Lt]=$,H[et]=st,Lt=et);else if(ut<D&&0>u(Rt,st))H[Lt]=Rt,H[ut]=st,Lt=ut;else break t}}return tt}function u(H,tt){var st=H.sortIndex-tt.sortIndex;return st!==0?st:H.id-tt.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;s.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();s.unstable_now=function(){return d.now()-g}}var v=[],_=[],A=1,V=null,P=3,j=!1,F=!1,nt=!1,J=!1,Tt=typeof setTimeout=="function"?setTimeout:null,At=typeof clearTimeout=="function"?clearTimeout:null,gt=typeof setImmediate<"u"?setImmediate:null;function Bt(H){for(var tt=i(_);tt!==null;){if(tt.callback===null)a(_);else if(tt.startTime<=H)a(_),tt.sortIndex=tt.expirationTime,e(v,tt);else break;tt=i(_)}}function _t(H){if(nt=!1,Bt(H),!F)if(i(v)!==null)F=!0,zt||(zt=!0,x());else{var tt=i(_);tt!==null&&ie(_t,tt.startTime-H)}}var zt=!1,N=-1,S=5,w=-1;function I(){return J?!0:!(s.unstable_now()-w<S)}function O(){if(J=!1,zt){var H=s.unstable_now();w=H;var tt=!0;try{t:{F=!1,nt&&(nt=!1,At(N),N=-1),j=!0;var st=P;try{e:{for(Bt(H),V=i(v);V!==null&&!(V.expirationTime>H&&I());){var Lt=V.callback;if(typeof Lt=="function"){V.callback=null,P=V.priorityLevel;var D=Lt(V.expirationTime<=H);if(H=s.unstable_now(),typeof D=="function"){V.callback=D,Bt(H),tt=!0;break e}V===i(v)&&a(v),Bt(H)}else a(v);V=i(v)}if(V!==null)tt=!0;else{var X=i(_);X!==null&&ie(_t,X.startTime-H),tt=!1}}break t}finally{V=null,P=st,j=!1}tt=void 0}}finally{tt?x():zt=!1}}}var x;if(typeof gt=="function")x=function(){gt(O)};else if(typeof MessageChannel<"u"){var R=new MessageChannel,Ne=R.port2;R.port1.onmessage=O,x=function(){Ne.postMessage(null)}}else x=function(){Tt(O,0)};function ie(H,tt){N=Tt(function(){H(s.unstable_now())},tt)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(H){H.callback=null},s.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<H?Math.floor(1e3/H):5},s.unstable_getCurrentPriorityLevel=function(){return P},s.unstable_next=function(H){switch(P){case 1:case 2:case 3:var tt=3;break;default:tt=P}var st=P;P=tt;try{return H()}finally{P=st}},s.unstable_requestPaint=function(){J=!0},s.unstable_runWithPriority=function(H,tt){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var st=P;P=H;try{return tt()}finally{P=st}},s.unstable_scheduleCallback=function(H,tt,st){var Lt=s.unstable_now();switch(typeof st=="object"&&st!==null?(st=st.delay,st=typeof st=="number"&&0<st?Lt+st:Lt):st=Lt,H){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=st+D,H={id:A++,callback:tt,priorityLevel:H,startTime:st,expirationTime:D,sortIndex:-1},st>Lt?(H.sortIndex=st,e(_,H),i(v)===null&&H===i(_)&&(nt?(At(N),N=-1):nt=!0,ie(_t,st-Lt))):(H.sortIndex=D,e(v,H),F||j||(F=!0,zt||(zt=!0,x()))),H},s.unstable_shouldYield=I,s.unstable_wrapCallback=function(H){var tt=P;return function(){var st=P;P=tt;try{return H.apply(this,arguments)}finally{P=st}}}}(Ef)),Ef}var $p;function wE(){return $p||($p=1,vf.exports=RE()),vf.exports}var Tf={exports:{}},je={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function DE(){if(Jp)return je;Jp=1;var s=Wf();function e(v){var _="https://react.dev/errors/"+v;if(1<arguments.length){_+="?args[]="+encodeURIComponent(arguments[1]);for(var A=2;A<arguments.length;A++)_+="&args[]="+encodeURIComponent(arguments[A])}return"Minified React error #"+v+"; visit "+_+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var a={d:{f:i,r:function(){throw Error(e(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},u=Symbol.for("react.portal");function h(v,_,A){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:V==null?null:""+V,children:v,containerInfo:_,implementation:A}}var d=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(v,_){if(v==="font")return"";if(typeof _=="string")return _==="use-credentials"?_:""}return je.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,je.createPortal=function(v,_){var A=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!_||_.nodeType!==1&&_.nodeType!==9&&_.nodeType!==11)throw Error(e(299));return h(v,_,null,A)},je.flushSync=function(v){var _=d.T,A=a.p;try{if(d.T=null,a.p=2,v)return v()}finally{d.T=_,a.p=A,a.d.f()}},je.preconnect=function(v,_){typeof v=="string"&&(_?(_=_.crossOrigin,_=typeof _=="string"?_==="use-credentials"?_:"":void 0):_=null,a.d.C(v,_))},je.prefetchDNS=function(v){typeof v=="string"&&a.d.D(v)},je.preinit=function(v,_){if(typeof v=="string"&&_&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin),P=typeof _.integrity=="string"?_.integrity:void 0,j=typeof _.fetchPriority=="string"?_.fetchPriority:void 0;A==="style"?a.d.S(v,typeof _.precedence=="string"?_.precedence:void 0,{crossOrigin:V,integrity:P,fetchPriority:j}):A==="script"&&a.d.X(v,{crossOrigin:V,integrity:P,fetchPriority:j,nonce:typeof _.nonce=="string"?_.nonce:void 0})}},je.preinitModule=function(v,_){if(typeof v=="string")if(typeof _=="object"&&_!==null){if(_.as==null||_.as==="script"){var A=g(_.as,_.crossOrigin);a.d.M(v,{crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0})}}else _==null&&a.d.M(v)},je.preload=function(v,_){if(typeof v=="string"&&typeof _=="object"&&_!==null&&typeof _.as=="string"){var A=_.as,V=g(A,_.crossOrigin);a.d.L(v,A,{crossOrigin:V,integrity:typeof _.integrity=="string"?_.integrity:void 0,nonce:typeof _.nonce=="string"?_.nonce:void 0,type:typeof _.type=="string"?_.type:void 0,fetchPriority:typeof _.fetchPriority=="string"?_.fetchPriority:void 0,referrerPolicy:typeof _.referrerPolicy=="string"?_.referrerPolicy:void 0,imageSrcSet:typeof _.imageSrcSet=="string"?_.imageSrcSet:void 0,imageSizes:typeof _.imageSizes=="string"?_.imageSizes:void 0,media:typeof _.media=="string"?_.media:void 0})}},je.preloadModule=function(v,_){if(typeof v=="string")if(_){var A=g(_.as,_.crossOrigin);a.d.m(v,{as:typeof _.as=="string"&&_.as!=="script"?_.as:void 0,crossOrigin:A,integrity:typeof _.integrity=="string"?_.integrity:void 0})}else a.d.m(v)},je.requestFormReset=function(v){a.d.r(v)},je.unstable_batchedUpdates=function(v,_){return v(_)},je.useFormState=function(v,_,A){return d.H.useFormState(v,_,A)},je.useFormStatus=function(){return d.H.useHostTransitionStatus()},je.version="19.1.0",je}var Wp;function CE(){if(Wp)return Tf.exports;Wp=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),Tf.exports=DE(),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ty;function VE(){if(ty)return Nl;ty=1;var s=wE(),e=Wf(),i=CE();function a(t){var n="https://react.dev/errors/"+t;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+t+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function h(t){var n=t,r=t;if(t.alternate)for(;n.return;)n=n.return;else{t=n;do n=t,(n.flags&4098)!==0&&(r=n.return),t=n.return;while(t)}return n.tag===3?r:null}function d(t){if(t.tag===13){var n=t.memoizedState;if(n===null&&(t=t.alternate,t!==null&&(n=t.memoizedState)),n!==null)return n.dehydrated}return null}function g(t){if(h(t)!==t)throw Error(a(188))}function v(t){var n=t.alternate;if(!n){if(n=h(t),n===null)throw Error(a(188));return n!==t?null:t}for(var r=t,l=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(l=c.return,l!==null){r=l;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return g(c),t;if(f===l)return g(c),n;f=f.sibling}throw Error(a(188))}if(r.return!==l.return)r=c,l=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,l=f;break}if(E===l){y=!0,l=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,l=c;break}if(E===l){y=!0,l=f,r=c;break}E=E.sibling}if(!y)throw Error(a(189))}}if(r.alternate!==l)throw Error(a(190))}if(r.tag!==3)throw Error(a(188));return r.stateNode.current===r?t:n}function _(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t;for(t=t.child;t!==null;){if(n=_(t),n!==null)return n;t=t.sibling}return null}var A=Object.assign,V=Symbol.for("react.element"),P=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),nt=Symbol.for("react.strict_mode"),J=Symbol.for("react.profiler"),Tt=Symbol.for("react.provider"),At=Symbol.for("react.consumer"),gt=Symbol.for("react.context"),Bt=Symbol.for("react.forward_ref"),_t=Symbol.for("react.suspense"),zt=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),w=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function x(t){return t===null||typeof t!="object"?null:(t=O&&t[O]||t["@@iterator"],typeof t=="function"?t:null)}var R=Symbol.for("react.client.reference");function Ne(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===R?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case F:return"Fragment";case J:return"Profiler";case nt:return"StrictMode";case _t:return"Suspense";case zt:return"SuspenseList";case w:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case j:return"Portal";case gt:return(t.displayName||"Context")+".Provider";case At:return(t._context.displayName||"Context")+".Consumer";case Bt:var n=t.render;return t=t.displayName,t||(t=n.displayName||n.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return n=t.displayName||null,n!==null?n:Ne(t.type)||"Memo";case S:n=t._payload,t=t._init;try{return Ne(t(n))}catch{}}return null}var ie=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,st={pending:!1,data:null,method:null,action:null},Lt=[],D=-1;function X(t){return{current:t}}function et(t){0>D||(t.current=Lt[D],Lt[D]=null,D--)}function $(t,n){D++,Lt[D]=t.current,t.current=n}var ut=X(null),Rt=X(null),mt=X(null),be=X(null);function Zt(t,n){switch($(mt,n),$(Rt,t),$(ut,null),n.nodeType){case 9:case 11:t=(t=n.documentElement)&&(t=t.namespaceURI)?Ep(t):0;break;default:if(t=n.tagName,n=n.namespaceURI)n=Ep(n),t=Tp(n,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}et(ut),$(ut,t)}function xn(){et(ut),et(Rt),et(mt)}function Oi(t){t.memoizedState!==null&&$(be,t);var n=ut.current,r=Tp(n,t.type);n!==r&&($(Rt,t),$(ut,r))}function ni(t){Rt.current===t&&(et(ut),et(Rt)),be.current===t&&(et(be),Rl._currentValue=st)}var Tr=Object.prototype.hasOwnProperty,Ar=s.unstable_scheduleCallback,Sr=s.unstable_cancelCallback,As=s.unstable_shouldYield,Wl=s.unstable_requestPaint,mn=s.unstable_now,gc=s.unstable_getCurrentPriorityLevel,Ss=s.unstable_ImmediatePriority,ha=s.unstable_UserBlockingPriority,br=s.unstable_NormalPriority,pc=s.unstable_LowPriority,fa=s.unstable_IdlePriority,bs=s.log,tu=s.unstable_setDisableYieldValue,re=null,jt=null;function nn(t){if(typeof bs=="function"&&tu(t),jt&&typeof jt.setStrictMode=="function")try{jt.setStrictMode(re,t)}catch{}}var ke=Math.clz32?Math.clz32:Rr,eu=Math.log,yc=Math.LN2;function Rr(t){return t>>>=0,t===0?32:31-(eu(t)/yc|0)|0}var wr=256,Dr=4194304;function Dn(t){var n=t&42;if(n!==0)return n;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function da(t,n,r){var l=t.pendingLanes;if(l===0)return 0;var c=0,f=t.suspendedLanes,y=t.pingedLanes;t=t.warmLanes;var E=l&134217727;return E!==0?(l=E&~f,l!==0?c=Dn(l):(y&=E,y!==0?c=Dn(y):r||(r=E&~t,r!==0&&(c=Dn(r))))):(E=l&~f,E!==0?c=Dn(E):y!==0?c=Dn(y):r||(r=l&~t,r!==0&&(c=Dn(r)))),c===0?0:n!==0&&n!==c&&(n&f)===0&&(f=c&-c,r=n&-n,f>=r||f===32&&(r&4194048)!==0)?n:c}function Cr(t,n){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&n)===0}function Rs(t,n){switch(t){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ws(){var t=wr;return wr<<=1,(wr&4194048)===0&&(wr=256),t}function Ds(){var t=Dr;return Dr<<=1,(Dr&62914560)===0&&(Dr=4194304),t}function ii(t){for(var n=[],r=0;31>r;r++)n.push(t);return n}function ri(t,n){t.pendingLanes|=n,n!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function Cs(t,n,r,l,c,f){var y=t.pendingLanes;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=r,t.entangledLanes&=r,t.errorRecoveryDisabledLanes&=r,t.shellSuspendCounter=0;var E=t.entanglements,b=t.expirationTimes,L=t.hiddenUpdates;for(r=y&~r;0<r;){var G=31-ke(r),K=1<<G;E[G]=0,b[G]=-1;var B=L[G];if(B!==null)for(L[G]=null,G=0;G<B.length;G++){var k=B[G];k!==null&&(k.lane&=-536870913)}r&=~K}l!==0&&Un(t,l,0),f!==0&&c===0&&t.tag!==0&&(t.suspendedLanes|=f&~(y&~n))}function Un(t,n,r){t.pendingLanes|=n,t.suspendedLanes&=~n;var l=31-ke(n);t.entangledLanes|=n,t.entanglements[l]=t.entanglements[l]|1073741824|r&4194090}function Vs(t,n){var r=t.entangledLanes|=n;for(t=t.entanglements;r;){var l=31-ke(r),c=1<<l;c&n|t[l]&n&&(t[l]|=n),r&=~c}}function Mi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ma(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function xi(){var t=tt.p;return t!==0?t:(t=window.event,t===void 0?32:kp(t.type))}function nu(t,n){var r=tt.p;try{return tt.p=t,n()}finally{tt.p=r}}var Jt=Math.random().toString(36).slice(2),pe="__reactFiber$"+Jt,he="__reactProps$"+Jt,gn="__reactContainer$"+Jt,Is="__reactEvents$"+Jt,_c="__reactListeners$"+Jt,Ui="__reactHandles$"+Jt,iu="__reactResources$"+Jt,Vr="__reactMarker$"+Jt;function zi(t){delete t[pe],delete t[he],delete t[Is],delete t[_c],delete t[Ui]}function ai(t){var n=t[pe];if(n)return n;for(var r=t.parentNode;r;){if(n=r[gn]||r[pe]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(t=Rp(t);t!==null;){if(r=t[pe])return r;t=Rp(t)}return n}t=r,r=t.parentNode}return null}function zn(t){if(t=t[pe]||t[gn]){var n=t.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return t}return null}function Ln(t){var n=t.tag;if(n===5||n===26||n===27||n===6)return t.stateNode;throw Error(a(33))}function Ke(t){var n=t[iu];return n||(n=t[iu]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function le(t){t[Vr]=!0}var Ns=new Set,ga={};function Cn(t,n){si(t,n),si(t+"Capture",n)}function si(t,n){for(ga[t]=n,t=0;t<n.length;t++)Ns.add(n[t])}var ru=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),au={},Ir={};function su(t){return Tr.call(Ir,t)?!0:Tr.call(au,t)?!1:ru.test(t)?Ir[t]=!0:(au[t]=!0,!1)}function Li(t,n,r){if(su(n))if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":t.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(n);return}}t.setAttribute(n,""+r)}}function Pn(t,n,r){if(r===null)t.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(n);return}t.setAttribute(n,""+r)}}function Oe(t,n,r,l){if(l===null)t.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttributeNS(n,r,""+l)}}var Nr,lu;function li(t){if(Nr===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);Nr=n&&n[1]||"",lu=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Nr+t+lu}var pa=!1;function ya(t,n){if(!t||pa)return"";pa=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(k){var B=k}Reflect.construct(t,[],K)}else{try{K.call()}catch(k){B=k}t.call(K.prototype)}}else{try{throw Error()}catch(k){B=k}(K=t())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(k){if(k&&B&&typeof k.stack=="string")return[k.stack,B.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),L=E.split(`
`);for(c=l=0;l<b.length&&!b[l].includes("DetermineComponentFrameRoot");)l++;for(;c<L.length&&!L[c].includes("DetermineComponentFrameRoot");)c++;if(l===b.length||c===L.length)for(l=b.length-1,c=L.length-1;1<=l&&0<=c&&b[l]!==L[c];)c--;for(;1<=l&&0<=c;l--,c--)if(b[l]!==L[c]){if(l!==1||c!==1)do if(l--,c--,0>c||b[l]!==L[c]){var G=`
`+b[l].replace(" at new "," at ");return t.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",t.displayName)),G}while(1<=l&&0<=c);break}}}finally{pa=!1,Error.prepareStackTrace=r}return(r=t?t.displayName||t.name:"")?li(r):""}function Os(t){switch(t.tag){case 26:case 27:case 5:return li(t.type);case 16:return li("Lazy");case 13:return li("Suspense");case 19:return li("SuspenseList");case 0:case 15:return ya(t.type,!1);case 11:return ya(t.type.render,!1);case 1:return ya(t.type,!0);case 31:return li("Activity");default:return""}}function _a(t){try{var n="";do n+=Os(t),t=t.return;while(t);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function Ye(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Ms(t){var n=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function vc(t){var n=Ms(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,n),l=""+t[n];if(!t.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(t,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){l=""+y,f.call(this,y)}}),Object.defineProperty(t,n,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(y){l=""+y},stopTracking:function(){t._valueTracker=null,delete t[n]}}}}function va(t){t._valueTracker||(t._valueTracker=vc(t))}function xs(t){if(!t)return!1;var n=t._valueTracker;if(!n)return!0;var r=n.getValue(),l="";return t&&(l=Ms(t)?t.checked?"true":"false":t.value),t=l,t!==r?(n.setValue(t),!0):!1}function Or(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Ec=/[\n"\\]/g;function fe(t){return t.replace(Ec,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function rn(t,n,r,l,c,f,y,E){t.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.type=y:t.removeAttribute("type"),n!=null?y==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+Ye(n)):t.value!==""+Ye(n)&&(t.value=""+Ye(n)):y!=="submit"&&y!=="reset"||t.removeAttribute("value"),n!=null?Pi(t,y,Ye(n)):r!=null?Pi(t,y,Ye(r)):l!=null&&t.removeAttribute("value"),c==null&&f!=null&&(t.defaultChecked=!!f),c!=null&&(t.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?t.name=""+Ye(E):t.removeAttribute("name")}function Mr(t,n,r,l,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===t.value||(t.value=n),t.defaultValue=n}l=l??c,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=E?t.checked:!!l,t.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(t.name=y)}function Pi(t,n,r){n==="number"&&Or(t.ownerDocument)===t||t.defaultValue===""+r||(t.defaultValue=""+r)}function ui(t,n,r,l){if(t=t.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<t.length;r++)c=n.hasOwnProperty("$"+t[r].value),t[r].selected!==c&&(t[r].selected=c),c&&l&&(t[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<t.length;c++){if(t[c].value===r){t[c].selected=!0,l&&(t[c].defaultSelected=!0);return}n!==null||t[c].disabled||(n=t[c])}n!==null&&(n.selected=!0)}}function Qt(t,n,r){if(n!=null&&(n=""+Ye(n),n!==t.value&&(t.value=n),r==null)){t.defaultValue!==n&&(t.defaultValue=n);return}t.defaultValue=r!=null?""+Ye(r):""}function xr(t,n,r,l){if(n==null){if(l!=null){if(r!=null)throw Error(a(92));if(ie(l)){if(1<l.length)throw Error(a(93));l=l[0]}r=l}r==null&&(r=""),n=r}r=Ye(n),t.defaultValue=r,l=t.textContent,l===r&&l!==""&&l!==null&&(t.value=l)}function pn(t,n){if(n){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=n;return}}t.textContent=n}var Ur=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uu(t,n,r){var l=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?l?t.setProperty(n,""):n==="float"?t.cssFloat="":t[n]="":l?t.setProperty(n,r):typeof r!="number"||r===0||Ur.has(n)?n==="float"?t.cssFloat=r:t[n]=(""+r).trim():t[n]=r+"px"}function Us(t,n,r){if(n!=null&&typeof n!="object")throw Error(a(62));if(t=t.style,r!=null){for(var l in r)!r.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var c in n)l=n[c],n.hasOwnProperty(c)&&r[c]!==l&&uu(t,c,l)}else for(var f in n)n.hasOwnProperty(f)&&uu(t,f,n[f])}function zs(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ac=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ea(t){return Ac.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var oi=null;function yn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ci=null,hi=null;function Ls(t){var n=zn(t);if(n&&(t=n.stateNode)){var r=t[he]||null;t:switch(t=n.stateNode,n.type){case"input":if(rn(t,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+fe(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var l=r[n];if(l!==t&&l.form===t.form){var c=l[he]||null;if(!c)throw Error(a(90));rn(l,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)l=r[n],l.form===t.form&&xs(l)}break t;case"textarea":Qt(t,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&ui(t,!!r.multiple,n,!1)}}}var Bn=!1;function ou(t,n,r){if(Bn)return t(n,r);Bn=!0;try{var l=t(n);return l}finally{if(Bn=!1,(ci!==null||hi!==null)&&(no(),ci&&(n=ci,t=hi,hi=ci=null,Ls(n),t)))for(n=0;n<t.length;n++)Ls(t[n])}}function zr(t,n){var r=t.stateNode;if(r===null)return null;var l=r[he]||null;if(l===null)return null;r=l[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break t;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(a(231,n,typeof r));return r}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),_n=!1;if(Vn)try{var Lr={};Object.defineProperty(Lr,"passive",{get:function(){_n=!0}}),window.addEventListener("test",Lr,Lr),window.removeEventListener("test",Lr,Lr)}catch{_n=!1}var kn=null,Bi=null,fi=null;function Ps(){if(fi)return fi;var t,n=Bi,r=n.length,l,c="value"in kn?kn.value:kn.textContent,f=c.length;for(t=0;t<r&&n[t]===c[t];t++);var y=r-t;for(l=1;l<=y&&n[r-l]===c[f-l];l++);return fi=c.slice(t,1<l?1-l:void 0)}function qn(t){var n=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&n===13&&(t=13)):t=n,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Bs(){return!1}function Re(t){function n(r,l,c,f,y){this._reactName=r,this._targetInst=c,this.type=l,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in t)t.hasOwnProperty(E)&&(r=t[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?jn:Bs,this.isPropagationStopped=Bs,this}return A(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),n}var kt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ta=Re(kt),Pr=A({},kt,{view:0,detail:0}),cu=Re(Pr),Aa,Sa,Hn,Br=A({},Pr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:jr,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hn&&(Hn&&t.type==="mousemove"?(Aa=t.screenX-Hn.screenX,Sa=t.screenY-Hn.screenY):Sa=Aa=0,Hn=t),Aa)},movementY:function(t){return"movementY"in t?t.movementY:Sa}}),vn=Re(Br),hu=A({},Br,{dataTransfer:0}),Sc=Re(hu),kr=A({},Pr,{relatedTarget:0}),ba=Re(kr),ks=A({},kt,{animationName:0,elapsedTime:0,pseudoElement:0}),Ra=Re(ks),fu=A({},kt,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wa=Re(fu),bc=A({},kt,{data:0}),qs=Re(bc),qr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},du={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function js(t){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(t):(t=mu[t])?!!n[t]:!1}function jr(){return js}var gu=A({},Pr,{key:function(t){if(t.key){var n=qr[t.key]||t.key;if(n!=="Unidentified")return n}return t.type==="keypress"?(t=qn(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?du[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:jr,charCode:function(t){return t.type==="keypress"?qn(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?qn(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=Re(gu),pu=A({},Br,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hs=Re(pu),di=A({},Pr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:jr}),yu=Re(di),_u=A({},kt,{propertyName:0,elapsedTime:0,pseudoElement:0}),vu=Re(_u),Eu=A({},Br,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ca=Re(Eu),Fe=A({},kt,{newState:0,oldState:0}),Tu=Re(Fe),Au=[9,13,27,32],Gn=Vn&&"CompositionEvent"in window,o=null;Vn&&"documentMode"in document&&(o=document.documentMode);var m=Vn&&"TextEvent"in window&&!o,p=Vn&&(!Gn||o&&8<o&&11>=o),T=" ",U=!1;function q(t,n){switch(t){case"keyup":return Au.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var It=!1;function ye(t,n){switch(t){case"compositionend":return W(n);case"keypress":return n.which!==32?null:(U=!0,T);case"textInput":return t=n.data,t===T&&U?null:t;default:return null}}function Nt(t,n){if(It)return t==="compositionend"||!Gn&&q(t,n)?(t=Ps(),fi=Bi=kn=null,It=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var we={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _e(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n==="input"?!!we[t.type]:n==="textarea"}function mi(t,n,r,l){ci?hi?hi.push(l):hi=[l]:ci=l,n=uo(n,"onChange"),0<n.length&&(r=new Ta("onChange","change",null,r,l),t.push({event:r,listeners:n}))}var Me=null,Qn=null;function Gs(t){gp(t,0)}function Su(t){var n=Ln(t);if(xs(n))return t}function zd(t,n){if(t==="change")return n}var Ld=!1;if(Vn){var Rc;if(Vn){var wc="oninput"in document;if(!wc){var Pd=document.createElement("div");Pd.setAttribute("oninput","return;"),wc=typeof Pd.oninput=="function"}Rc=wc}else Rc=!1;Ld=Rc&&(!document.documentMode||9<document.documentMode)}function Bd(){Me&&(Me.detachEvent("onpropertychange",kd),Qn=Me=null)}function kd(t){if(t.propertyName==="value"&&Su(Qn)){var n=[];mi(n,Qn,t,yn(t)),ou(Gs,n)}}function Jv(t,n,r){t==="focusin"?(Bd(),Me=n,Qn=r,Me.attachEvent("onpropertychange",kd)):t==="focusout"&&Bd()}function Wv(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Su(Qn)}function t0(t,n){if(t==="click")return Su(n)}function e0(t,n){if(t==="input"||t==="change")return Su(n)}function n0(t,n){return t===n&&(t!==0||1/t===1/n)||t!==t&&n!==n}var an=typeof Object.is=="function"?Object.is:n0;function Qs(t,n){if(an(t,n))return!0;if(typeof t!="object"||t===null||typeof n!="object"||n===null)return!1;var r=Object.keys(t),l=Object.keys(n);if(r.length!==l.length)return!1;for(l=0;l<r.length;l++){var c=r[l];if(!Tr.call(n,c)||!an(t[c],n[c]))return!1}return!0}function qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jd(t,n){var r=qd(t);t=0;for(var l;r;){if(r.nodeType===3){if(l=t+r.textContent.length,t<=n&&l>=n)return{node:r,offset:n-t};t=l}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=qd(r)}}function Hd(t,n){return t&&n?t===n?!0:t&&t.nodeType===3?!1:n&&n.nodeType===3?Hd(t,n.parentNode):"contains"in t?t.contains(n):t.compareDocumentPosition?!!(t.compareDocumentPosition(n)&16):!1:!1}function Gd(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var n=Or(t.document);n instanceof t.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)t=n.contentWindow;else break;n=Or(t.document)}return n}function Dc(t){var n=t&&t.nodeName&&t.nodeName.toLowerCase();return n&&(n==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||n==="textarea"||t.contentEditable==="true")}var i0=Vn&&"documentMode"in document&&11>=document.documentMode,Va=null,Cc=null,Ks=null,Vc=!1;function Qd(t,n,r){var l=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Vc||Va==null||Va!==Or(l)||(l=Va,"selectionStart"in l&&Dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Ks&&Qs(Ks,l)||(Ks=l,l=uo(Cc,"onSelect"),0<l.length&&(n=new Ta("onSelect","select",null,n,r),t.push({event:n,listeners:l}),n.target=Va)))}function Hr(t,n){var r={};return r[t.toLowerCase()]=n.toLowerCase(),r["Webkit"+t]="webkit"+n,r["Moz"+t]="moz"+n,r}var Ia={animationend:Hr("Animation","AnimationEnd"),animationiteration:Hr("Animation","AnimationIteration"),animationstart:Hr("Animation","AnimationStart"),transitionrun:Hr("Transition","TransitionRun"),transitionstart:Hr("Transition","TransitionStart"),transitioncancel:Hr("Transition","TransitionCancel"),transitionend:Hr("Transition","TransitionEnd")},Ic={},Kd={};Vn&&(Kd=document.createElement("div").style,"AnimationEvent"in window||(delete Ia.animationend.animation,delete Ia.animationiteration.animation,delete Ia.animationstart.animation),"TransitionEvent"in window||delete Ia.transitionend.transition);function Gr(t){if(Ic[t])return Ic[t];if(!Ia[t])return t;var n=Ia[t],r;for(r in n)if(n.hasOwnProperty(r)&&r in Kd)return Ic[t]=n[r];return t}var Yd=Gr("animationend"),Fd=Gr("animationiteration"),Xd=Gr("animationstart"),r0=Gr("transitionrun"),a0=Gr("transitionstart"),s0=Gr("transitioncancel"),Zd=Gr("transitionend"),$d=new Map,Nc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Nc.push("scrollEnd");function In(t,n){$d.set(t,n),Cn(n,[t])}var Jd=new WeakMap;function En(t,n){if(typeof t=="object"&&t!==null){var r=Jd.get(t);return r!==void 0?r:(n={value:t,source:n,stack:_a(n)},Jd.set(t,n),n)}return{value:t,source:n,stack:_a(n)}}var Tn=[],Na=0,Oc=0;function bu(){for(var t=Na,n=Oc=Na=0;n<t;){var r=Tn[n];Tn[n++]=null;var l=Tn[n];Tn[n++]=null;var c=Tn[n];Tn[n++]=null;var f=Tn[n];if(Tn[n++]=null,l!==null&&c!==null){var y=l.pending;y===null?c.next=c:(c.next=y.next,y.next=c),l.pending=c}f!==0&&Wd(r,c,f)}}function Ru(t,n,r,l){Tn[Na++]=t,Tn[Na++]=n,Tn[Na++]=r,Tn[Na++]=l,Oc|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Mc(t,n,r,l){return Ru(t,n,r,l),wu(t)}function Oa(t,n){return Ru(t,null,null,n),wu(t)}function Wd(t,n,r){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r);for(var c=!1,f=t.return;f!==null;)f.childLanes|=r,l=f.alternate,l!==null&&(l.childLanes|=r),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(c=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,c&&n!==null&&(c=31-ke(r),t=f.hiddenUpdates,l=t[c],l===null?t[c]=[n]:l.push(n),n.lane=r|536870912),f):null}function wu(t){if(50<yl)throw yl=0,Bh=null,Error(a(185));for(var n=t.return;n!==null;)t=n,n=t.return;return t.tag===3?t.stateNode:null}var Ma={};function l0(t,n,r,l){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sn(t,n,r,l){return new l0(t,n,r,l)}function xc(t){return t=t.prototype,!(!t||!t.isReactComponent)}function gi(t,n){var r=t.alternate;return r===null?(r=sn(t.tag,n,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=n,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&65011712,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,n=t.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r.refCleanup=t.refCleanup,r}function tm(t,n){t.flags&=65011714;var r=t.alternate;return r===null?(t.childLanes=0,t.lanes=n,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=r.childLanes,t.lanes=r.lanes,t.child=r.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=r.memoizedProps,t.memoizedState=r.memoizedState,t.updateQueue=r.updateQueue,t.type=r.type,n=r.dependencies,t.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t}function Du(t,n,r,l,c,f){var y=0;if(l=t,typeof t=="function")xc(t)&&(y=1);else if(typeof t=="string")y=oE(t,r,ut.current)?26:t==="html"||t==="head"||t==="body"?27:5;else t:switch(t){case w:return t=sn(31,r,n,c),t.elementType=w,t.lanes=f,t;case F:return Qr(r.children,c,f,n);case nt:y=8,c|=24;break;case J:return t=sn(12,r,n,c|2),t.elementType=J,t.lanes=f,t;case _t:return t=sn(13,r,n,c),t.elementType=_t,t.lanes=f,t;case zt:return t=sn(19,r,n,c),t.elementType=zt,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Tt:case gt:y=10;break t;case At:y=9;break t;case Bt:y=11;break t;case N:y=14;break t;case S:y=16,l=null;break t}y=29,r=Error(a(130,t===null?"null":typeof t,"")),l=null}return n=sn(y,r,n,c),n.elementType=t,n.type=l,n.lanes=f,n}function Qr(t,n,r,l){return t=sn(7,t,l,n),t.lanes=r,t}function Uc(t,n,r){return t=sn(6,t,null,n),t.lanes=r,t}function zc(t,n,r){return n=sn(4,t.children!==null?t.children:[],t.key,n),n.lanes=r,n.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},n}var xa=[],Ua=0,Cu=null,Vu=0,An=[],Sn=0,Kr=null,pi=1,yi="";function Yr(t,n){xa[Ua++]=Vu,xa[Ua++]=Cu,Cu=t,Vu=n}function em(t,n,r){An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Kr,Kr=t;var l=pi;t=yi;var c=32-ke(l)-1;l&=~(1<<c),r+=1;var f=32-ke(n)+c;if(30<f){var y=c-c%5;f=(l&(1<<y)-1).toString(32),l>>=y,c-=y,pi=1<<32-ke(n)+c|r<<c|l,yi=f+t}else pi=1<<f|r<<c|l,yi=t}function Lc(t){t.return!==null&&(Yr(t,1),em(t,1,0))}function Pc(t){for(;t===Cu;)Cu=xa[--Ua],xa[Ua]=null,Vu=xa[--Ua],xa[Ua]=null;for(;t===Kr;)Kr=An[--Sn],An[Sn]=null,yi=An[--Sn],An[Sn]=null,pi=An[--Sn],An[Sn]=null}var Xe=null,ae=null,Pt=!1,Fr=null,Kn=!1,Bc=Error(a(519));function Xr(t){var n=Error(a(418,""));throw Xs(En(n,t)),Bc}function nm(t){var n=t.stateNode,r=t.type,l=t.memoizedProps;switch(n[pe]=t,n[he]=l,r){case"dialog":Ct("cancel",n),Ct("close",n);break;case"iframe":case"object":case"embed":Ct("load",n);break;case"video":case"audio":for(r=0;r<vl.length;r++)Ct(vl[r],n);break;case"source":Ct("error",n);break;case"img":case"image":case"link":Ct("error",n),Ct("load",n);break;case"details":Ct("toggle",n);break;case"input":Ct("invalid",n),Mr(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),va(n);break;case"select":Ct("invalid",n);break;case"textarea":Ct("invalid",n),xr(n,l.value,l.defaultValue,l.children),va(n)}r=l.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||l.suppressHydrationWarning===!0||vp(n.textContent,r)?(l.popover!=null&&(Ct("beforetoggle",n),Ct("toggle",n)),l.onScroll!=null&&Ct("scroll",n),l.onScrollEnd!=null&&Ct("scrollend",n),l.onClick!=null&&(n.onclick=oo),n=!0):n=!1,n||Xr(t)}function im(t){for(Xe=t.return;Xe;)switch(Xe.tag){case 5:case 13:Kn=!1;return;case 27:case 3:Kn=!0;return;default:Xe=Xe.return}}function Ys(t){if(t!==Xe)return!1;if(!Pt)return im(t),Pt=!0,!1;var n=t.tag,r;if((r=n!==3&&n!==27)&&((r=n===5)&&(r=t.type,r=!(r!=="form"&&r!=="button")||ef(t.type,t.memoizedProps)),r=!r),r&&ae&&Xr(t),im(t),n===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(a(317));t:{for(t=t.nextSibling,n=0;t;){if(t.nodeType===8)if(r=t.data,r==="/$"){if(n===0){ae=On(t.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;t=t.nextSibling}ae=null}}else n===27?(n=ae,er(t.type)?(t=sf,sf=null,ae=t):ae=n):ae=Xe?On(t.stateNode.nextSibling):null;return!0}function Fs(){ae=Xe=null,Pt=!1}function rm(){var t=Fr;return t!==null&&(Je===null?Je=t:Je.push.apply(Je,t),Fr=null),t}function Xs(t){Fr===null?Fr=[t]:Fr.push(t)}var kc=X(null),Zr=null,_i=null;function ki(t,n,r){$(kc,n._currentValue),n._currentValue=r}function vi(t){t._currentValue=kc.current,et(kc)}function qc(t,n,r){for(;t!==null;){var l=t.alternate;if((t.childLanes&n)!==n?(t.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),t===r)break;t=t.return}}function jc(t,n,r,l){var c=t.child;for(c!==null&&(c.return=t);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),qc(f.return,r,t),l||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(a(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),qc(y,r,t),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===t){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Zs(t,n,r,l){t=null;for(var c=n,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(a(387));if(y=y.memoizedProps,y!==null){var E=c.type;an(c.pendingProps.value,y.value)||(t!==null?t.push(E):t=[E])}}else if(c===be.current){if(y=c.alternate,y===null)throw Error(a(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(t!==null?t.push(Rl):t=[Rl])}c=c.return}t!==null&&jc(n,t,r,l),n.flags|=262144}function Iu(t){for(t=t.firstContext;t!==null;){if(!an(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function $r(t){Zr=t,_i=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function qe(t){return am(Zr,t)}function Nu(t,n){return Zr===null&&$r(t),am(t,n)}function am(t,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},_i===null){if(t===null)throw Error(a(308));_i=n,t.dependencies={lanes:0,firstContext:n},t.flags|=524288}else _i=_i.next=n;return r}var u0=typeof AbortController<"u"?AbortController:function(){var t=[],n=this.signal={aborted:!1,addEventListener:function(r,l){t.push(l)}};this.abort=function(){n.aborted=!0,t.forEach(function(r){return r()})}},o0=s.unstable_scheduleCallback,c0=s.unstable_NormalPriority,ve={$$typeof:gt,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Hc(){return{controller:new u0,data:new Map,refCount:0}}function $s(t){t.refCount--,t.refCount===0&&o0(c0,function(){t.controller.abort()})}var Js=null,Gc=0,za=0,La=null;function h0(t,n){if(Js===null){var r=Js=[];Gc=0,za=Kh(),La={status:"pending",value:void 0,then:function(l){r.push(l)}}}return Gc++,n.then(sm,sm),n}function sm(){if(--Gc===0&&Js!==null){La!==null&&(La.status="fulfilled");var t=Js;Js=null,za=0,La=null;for(var n=0;n<t.length;n++)(0,t[n])()}}function f0(t,n){var r=[],l={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return t.then(function(){l.status="fulfilled",l.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(l.status="rejected",l.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),l}var lm=H.S;H.S=function(t,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&h0(t,n),lm!==null&&lm(t,n)};var Jr=X(null);function Qc(){var t=Jr.current;return t!==null?t:$t.pooledCache}function Ou(t,n){n===null?$(Jr,Jr.current):$(Jr,n.pool)}function um(){var t=Qc();return t===null?null:{parent:ve._currentValue,pool:t}}var Ws=Error(a(460)),om=Error(a(474)),Mu=Error(a(542)),Kc={then:function(){}};function cm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function xu(){}function hm(t,n,r){switch(r=t[r],r===void 0?t.push(n):r!==n&&(n.then(xu,xu),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dm(t),t;default:if(typeof n.status=="string")n.then(xu,xu);else{if(t=$t,t!==null&&100<t.shellSuspendCounter)throw Error(a(482));t=n,t.status="pending",t.then(function(l){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=l}},function(l){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw t=n.reason,dm(t),t}throw tl=n,Ws}}var tl=null;function fm(){if(tl===null)throw Error(a(459));var t=tl;return tl=null,t}function dm(t){if(t===Ws||t===Mu)throw Error(a(483))}var qi=!1;function Yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fc(t,n){t=t.updateQueue,n.updateQueue===t&&(n.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function ji(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(t,n,r){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ht&2)!==0){var c=l.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),l.pending=n,n=wu(t),Wd(t,null,r),n}return Ru(t,l,n,r),wu(t)}function el(t,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194048)!==0)){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}function Xc(t,n){var r=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,r===l)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:l.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=n:t.next=n,r.lastBaseUpdate=n}var Zc=!1;function nl(){if(Zc){var t=La;if(t!==null)throw t}}function il(t,n,r,l){Zc=!1;var c=t.updateQueue;qi=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,L=b.next;b.next=null,y===null?f=L:y.next=L,y=b;var G=t.alternate;G!==null&&(G=G.updateQueue,E=G.lastBaseUpdate,E!==y&&(E===null?G.firstBaseUpdate=L:E.next=L,G.lastBaseUpdate=b))}if(f!==null){var K=c.baseState;y=0,G=L=b=null,E=f;do{var B=E.lane&-536870913,k=B!==E.lane;if(k?(Ot&B)===B:(l&B)===B){B!==0&&B===za&&(Zc=!0),G!==null&&(G=G.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var ft=t,ct=E;B=n;var Ft=r;switch(ct.tag){case 1:if(ft=ct.payload,typeof ft=="function"){K=ft.call(Ft,K,B);break t}K=ft;break t;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=ct.payload,B=typeof ft=="function"?ft.call(Ft,K,B):ft,B==null)break t;K=A({},K,B);break t;case 2:qi=!0}}B=E.callback,B!==null&&(t.flags|=64,k&&(t.flags|=8192),k=c.callbacks,k===null?c.callbacks=[B]:k.push(B))}else k={lane:B,tag:E.tag,payload:E.payload,callback:E.callback,next:null},G===null?(L=G=k,b=K):G=G.next=k,y|=B;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;k=E,E=k.next,k.next=null,c.lastBaseUpdate=k,c.shared.pending=null}}while(!0);G===null&&(b=K),c.baseState=b,c.firstBaseUpdate=L,c.lastBaseUpdate=G,f===null&&(c.shared.lanes=0),$i|=y,t.lanes=y,t.memoizedState=K}}function mm(t,n){if(typeof t!="function")throw Error(a(191,t));t.call(n)}function gm(t,n){var r=t.callbacks;if(r!==null)for(t.callbacks=null,t=0;t<r.length;t++)mm(r[t],n)}var Pa=X(null),Uu=X(0);function pm(t,n){t=wi,$(Uu,t),$(Pa,n),wi=t|n.baseLanes}function $c(){$(Uu,wi),$(Pa,Pa.current)}function Jc(){wi=Uu.current,et(Pa),et(Uu)}var Gi=0,St=null,Kt=null,de=null,zu=!1,Ba=!1,Wr=!1,Lu=0,rl=0,ka=null,d0=0;function ue(){throw Error(a(321))}function Wc(t,n){if(n===null)return!1;for(var r=0;r<n.length&&r<t.length;r++)if(!an(t[r],n[r]))return!1;return!0}function th(t,n,r,l,c,f){return Gi=f,St=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,H.H=t===null||t.memoizedState===null?Wm:tg,Wr=!1,f=r(l,c),Wr=!1,Ba&&(f=_m(n,r,l,c)),ym(t),f}function ym(t){H.H=Hu;var n=Kt!==null&&Kt.next!==null;if(Gi=0,de=Kt=St=null,zu=!1,rl=0,ka=null,n)throw Error(a(300));t===null||De||(t=t.dependencies,t!==null&&Iu(t)&&(De=!0))}function _m(t,n,r,l){St=t;var c=0;do{if(Ba&&(ka=null),rl=0,Ba=!1,25<=c)throw Error(a(301));if(c+=1,de=Kt=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}H.H=E0,f=n(r,l)}while(Ba);return f}function m0(){var t=H.H,n=t.useState()[0];return n=typeof n.then=="function"?al(n):n,t=t.useState()[0],(Kt!==null?Kt.memoizedState:null)!==t&&(St.flags|=1024),n}function eh(){var t=Lu!==0;return Lu=0,t}function nh(t,n,r){n.updateQueue=t.updateQueue,n.flags&=-2053,t.lanes&=~r}function ih(t){if(zu){for(t=t.memoizedState;t!==null;){var n=t.queue;n!==null&&(n.pending=null),t=t.next}zu=!1}Gi=0,de=Kt=St=null,Ba=!1,rl=Lu=0,ka=null}function Ze(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return de===null?St.memoizedState=de=t:de=de.next=t,de}function me(){if(Kt===null){var t=St.alternate;t=t!==null?t.memoizedState:null}else t=Kt.next;var n=de===null?St.memoizedState:de.next;if(n!==null)de=n,Kt=t;else{if(t===null)throw St.alternate===null?Error(a(467)):Error(a(310));Kt=t,t={memoizedState:Kt.memoizedState,baseState:Kt.baseState,baseQueue:Kt.baseQueue,queue:Kt.queue,next:null},de===null?St.memoizedState=de=t:de=de.next=t}return de}function rh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(t){var n=rl;return rl+=1,ka===null&&(ka=[]),t=hm(ka,t,n),n=St,(de===null?n.memoizedState:de.next)===null&&(n=n.alternate,H.H=n===null||n.memoizedState===null?Wm:tg),t}function Pu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return al(t);if(t.$$typeof===gt)return qe(t)}throw Error(a(438,String(t)))}function ah(t){var n=null,r=St.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var l=St.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=rh(),St.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(t),l=0;l<t;l++)r[l]=I;return n.index++,r}function Ei(t,n){return typeof n=="function"?n(t):n}function Bu(t){var n=me();return sh(n,Kt,t)}function sh(t,n,r){var l=t.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=r;var c=t.baseQueue,f=l.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,l.pending=null}if(f=t.baseState,c===null)t.memoizedState=f;else{n=c.next;var E=y=null,b=null,L=n,G=!1;do{var K=L.lane&-536870913;if(K!==L.lane?(Ot&K)===K:(Gi&K)===K){var B=L.revertLane;if(B===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null}),K===za&&(G=!0);else if((Gi&B)===B){L=L.next,B===za&&(G=!0);continue}else K={lane:0,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=K,y=f):b=b.next=K,St.lanes|=B,$i|=B;K=L.action,Wr&&r(f,K),f=L.hasEagerState?L.eagerState:r(f,K)}else B={lane:K,revertLane:L.revertLane,action:L.action,hasEagerState:L.hasEagerState,eagerState:L.eagerState,next:null},b===null?(E=b=B,y=f):b=b.next=B,St.lanes|=K,$i|=K;L=L.next}while(L!==null&&L!==n);if(b===null?y=f:b.next=E,!an(f,t.memoizedState)&&(De=!0,G&&(r=La,r!==null)))throw r;t.memoizedState=f,t.baseState=y,t.baseQueue=b,l.lastRenderedState=f}return c===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function lh(t){var n=me(),r=n.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=t;var l=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=t(f,y.action),y=y.next;while(y!==c);an(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,l]}function vm(t,n,r){var l=St,c=me(),f=Pt;if(f){if(r===void 0)throw Error(a(407));r=r()}else r=n();var y=!an((Kt||c).memoizedState,r);y&&(c.memoizedState=r,De=!0),c=c.queue;var E=Am.bind(null,l,c,t);if(sl(2048,8,E,[t]),c.getSnapshot!==n||y||de!==null&&de.memoizedState.tag&1){if(l.flags|=2048,qa(9,ku(),Tm.bind(null,l,c,r,n),null),$t===null)throw Error(a(349));f||(Gi&124)!==0||Em(l,n,r)}return r}function Em(t,n,r){t.flags|=16384,t={getSnapshot:n,value:r},n=St.updateQueue,n===null?(n=rh(),St.updateQueue=n,n.stores=[t]):(r=n.stores,r===null?n.stores=[t]:r.push(t))}function Tm(t,n,r,l){n.value=r,n.getSnapshot=l,Sm(n)&&bm(t)}function Am(t,n,r){return r(function(){Sm(n)&&bm(t)})}function Sm(t){var n=t.getSnapshot;t=t.value;try{var r=n();return!an(t,r)}catch{return!0}}function bm(t){var n=Oa(t,2);n!==null&&hn(n,t,2)}function uh(t){var n=Ze();if(typeof t=="function"){var r=t;if(t=r(),Wr){nn(!0);try{r()}finally{nn(!1)}}}return n.memoizedState=n.baseState=t,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:t},n}function Rm(t,n,r,l){return t.baseState=r,sh(t,Kt,typeof l=="function"?l:Ei)}function g0(t,n,r,l,c){if(ju(t))throw Error(a(485));if(t=n.action,t!==null){var f={payload:c,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};H.T!==null?r(!0):f.isTransition=!1,l(f),r=n.pending,r===null?(f.next=n.pending=f,wm(n,f)):(f.next=r.next,n.pending=r.next=f)}}function wm(t,n){var r=n.action,l=n.payload,c=t.state;if(n.isTransition){var f=H.T,y={};H.T=y;try{var E=r(c,l),b=H.S;b!==null&&b(y,E),Dm(t,n,E)}catch(L){oh(t,n,L)}finally{H.T=f}}else try{f=r(c,l),Dm(t,n,f)}catch(L){oh(t,n,L)}}function Dm(t,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(l){Cm(t,n,l)},function(l){return oh(t,n,l)}):Cm(t,n,r)}function Cm(t,n,r){n.status="fulfilled",n.value=r,Vm(n),t.state=r,n=t.pending,n!==null&&(r=n.next,r===n?t.pending=null:(r=r.next,n.next=r,wm(t,r)))}function oh(t,n,r){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=r,Vm(n),n=n.next;while(n!==l)}t.action=null}function Vm(t){t=t.listeners;for(var n=0;n<t.length;n++)(0,t[n])()}function Im(t,n){return n}function Nm(t,n){if(Pt){var r=$t.formState;if(r!==null){t:{var l=St;if(Pt){if(ae){e:{for(var c=ae,f=Kn;c.nodeType!==8;){if(!f){c=null;break e}if(c=On(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){ae=On(c.nextSibling),l=c.data==="F!";break t}}Xr(l)}l=!1}l&&(n=r[0])}}return r=Ze(),r.memoizedState=r.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Im,lastRenderedState:n},r.queue=l,r=Zm.bind(null,St,l),l.dispatch=r,l=uh(!1),f=mh.bind(null,St,!1,l.queue),l=Ze(),c={state:n,dispatch:null,action:t,pending:null},l.queue=c,r=g0.bind(null,St,c,f,r),c.dispatch=r,l.memoizedState=t,[n,r,!1]}function Om(t){var n=me();return Mm(n,Kt,t)}function Mm(t,n,r){if(n=sh(t,n,Im)[0],t=Bu(Ei)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=al(n)}catch(y){throw y===Ws?Mu:y}else l=n;n=me();var c=n.queue,f=c.dispatch;return r!==n.memoizedState&&(St.flags|=2048,qa(9,ku(),p0.bind(null,c,r),null)),[l,f,t]}function p0(t,n){t.action=n}function xm(t){var n=me(),r=Kt;if(r!==null)return Mm(n,r,t);me(),n=n.memoizedState,r=me();var l=r.queue.dispatch;return r.memoizedState=t,[n,l,!1]}function qa(t,n,r,l){return t={tag:t,create:r,deps:l,inst:n,next:null},n=St.updateQueue,n===null&&(n=rh(),St.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=t.next=t:(l=r.next,r.next=t,t.next=l,n.lastEffect=t),t}function ku(){return{destroy:void 0,resource:void 0}}function Um(){return me().memoizedState}function qu(t,n,r,l){var c=Ze();l=l===void 0?null:l,St.flags|=t,c.memoizedState=qa(1|n,ku(),r,l)}function sl(t,n,r,l){var c=me();l=l===void 0?null:l;var f=c.memoizedState.inst;Kt!==null&&l!==null&&Wc(l,Kt.memoizedState.deps)?c.memoizedState=qa(n,f,r,l):(St.flags|=t,c.memoizedState=qa(1|n,f,r,l))}function zm(t,n){qu(8390656,8,t,n)}function Lm(t,n){sl(2048,8,t,n)}function Pm(t,n){return sl(4,2,t,n)}function Bm(t,n){return sl(4,4,t,n)}function km(t,n){if(typeof n=="function"){t=t();var r=n(t);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return t=t(),n.current=t,function(){n.current=null}}function qm(t,n,r){r=r!=null?r.concat([t]):null,sl(4,4,km.bind(null,n,t),r)}function ch(){}function jm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;return n!==null&&Wc(n,l[1])?l[0]:(r.memoizedState=[t,n],t)}function Hm(t,n){var r=me();n=n===void 0?null:n;var l=r.memoizedState;if(n!==null&&Wc(n,l[1]))return l[0];if(l=t(),Wr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l}function hh(t,n,r){return r===void 0||(Gi&1073741824)!==0?t.memoizedState=n:(t.memoizedState=r,t=Kg(),St.lanes|=t,$i|=t,r)}function Gm(t,n,r,l){return an(r,n)?r:Pa.current!==null?(t=hh(t,r,l),an(t,n)||(De=!0),t):(Gi&42)===0?(De=!0,t.memoizedState=r):(t=Kg(),St.lanes|=t,$i|=t,n)}function Qm(t,n,r,l,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=H.T,E={};H.T=E,mh(t,!1,n,r);try{var b=c(),L=H.S;if(L!==null&&L(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var G=f0(b,l);ll(t,n,G,cn(t))}else ll(t,n,l,cn(t))}catch(K){ll(t,n,{then:function(){},status:"rejected",reason:K},cn())}finally{tt.p=f,H.T=y}}function y0(){}function fh(t,n,r,l){if(t.tag!==5)throw Error(a(476));var c=Km(t).queue;Qm(t,c,n,st,r===null?y0:function(){return Ym(t),r(l)})}function Km(t){var n=t.memoizedState;if(n!==null)return n;n={memoizedState:st,baseState:st,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:st},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ei,lastRenderedState:r},next:null},t.memoizedState=n,t=t.alternate,t!==null&&(t.memoizedState=n),n}function Ym(t){var n=Km(t).next.queue;ll(t,n,{},cn())}function dh(){return qe(Rl)}function Fm(){return me().memoizedState}function Xm(){return me().memoizedState}function _0(t){for(var n=t.return;n!==null;){switch(n.tag){case 24:case 3:var r=cn();t=ji(r);var l=Hi(n,t,r);l!==null&&(hn(l,n,r),el(l,n,r)),n={cache:Hc()},t.payload=n;return}n=n.return}}function v0(t,n,r){var l=cn();r={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},ju(t)?$m(n,r):(r=Mc(t,n,r,l),r!==null&&(hn(r,t,l),Jm(r,n,l)))}function Zm(t,n,r){var l=cn();ll(t,n,r,l)}function ll(t,n,r,l){var c={lane:l,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(ju(t))$m(n,c);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,an(E,y))return Ru(t,n,c,0),$t===null&&bu(),!1}catch{}finally{}if(r=Mc(t,n,c,l),r!==null)return hn(r,t,l),Jm(r,n,l),!0}return!1}function mh(t,n,r,l){if(l={lane:2,revertLane:Kh(),action:l,hasEagerState:!1,eagerState:null,next:null},ju(t)){if(n)throw Error(a(479))}else n=Mc(t,r,l,2),n!==null&&hn(n,t,2)}function ju(t){var n=t.alternate;return t===St||n!==null&&n===St}function $m(t,n){Ba=zu=!0;var r=t.pending;r===null?n.next=n:(n.next=r.next,r.next=n),t.pending=n}function Jm(t,n,r){if((r&4194048)!==0){var l=n.lanes;l&=t.pendingLanes,r|=l,n.lanes=r,Vs(t,r)}}var Hu={readContext:qe,use:Pu,useCallback:ue,useContext:ue,useEffect:ue,useImperativeHandle:ue,useLayoutEffect:ue,useInsertionEffect:ue,useMemo:ue,useReducer:ue,useRef:ue,useState:ue,useDebugValue:ue,useDeferredValue:ue,useTransition:ue,useSyncExternalStore:ue,useId:ue,useHostTransitionStatus:ue,useFormState:ue,useActionState:ue,useOptimistic:ue,useMemoCache:ue,useCacheRefresh:ue},Wm={readContext:qe,use:Pu,useCallback:function(t,n){return Ze().memoizedState=[t,n===void 0?null:n],t},useContext:qe,useEffect:zm,useImperativeHandle:function(t,n,r){r=r!=null?r.concat([t]):null,qu(4194308,4,km.bind(null,n,t),r)},useLayoutEffect:function(t,n){return qu(4194308,4,t,n)},useInsertionEffect:function(t,n){qu(4,2,t,n)},useMemo:function(t,n){var r=Ze();n=n===void 0?null:n;var l=t();if(Wr){nn(!0);try{t()}finally{nn(!1)}}return r.memoizedState=[l,n],l},useReducer:function(t,n,r){var l=Ze();if(r!==void 0){var c=r(n);if(Wr){nn(!0);try{r(n)}finally{nn(!1)}}}else c=n;return l.memoizedState=l.baseState=c,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:c},l.queue=t,t=t.dispatch=v0.bind(null,St,t),[l.memoizedState,t]},useRef:function(t){var n=Ze();return t={current:t},n.memoizedState=t},useState:function(t){t=uh(t);var n=t.queue,r=Zm.bind(null,St,n);return n.dispatch=r,[t.memoizedState,r]},useDebugValue:ch,useDeferredValue:function(t,n){var r=Ze();return hh(r,t,n)},useTransition:function(){var t=uh(!1);return t=Qm.bind(null,St,t.queue,!0,!1),Ze().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,n,r){var l=St,c=Ze();if(Pt){if(r===void 0)throw Error(a(407));r=r()}else{if(r=n(),$t===null)throw Error(a(349));(Ot&124)!==0||Em(l,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,zm(Am.bind(null,l,f,t),[t]),l.flags|=2048,qa(9,ku(),Tm.bind(null,l,f,r,n),null),r},useId:function(){var t=Ze(),n=$t.identifierPrefix;if(Pt){var r=yi,l=pi;r=(l&~(1<<32-ke(l)-1)).toString(32)+r,n=""+n+"R"+r,r=Lu++,0<r&&(n+="H"+r.toString(32)),n+=""}else r=d0++,n=""+n+"r"+r.toString(32)+"";return t.memoizedState=n},useHostTransitionStatus:dh,useFormState:Nm,useActionState:Nm,useOptimistic:function(t){var n=Ze();n.memoizedState=n.baseState=t;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=mh.bind(null,St,!0,r),r.dispatch=n,[t,n]},useMemoCache:ah,useCacheRefresh:function(){return Ze().memoizedState=_0.bind(null,St)}},tg={readContext:qe,use:Pu,useCallback:jm,useContext:qe,useEffect:Lm,useImperativeHandle:qm,useInsertionEffect:Pm,useLayoutEffect:Bm,useMemo:Hm,useReducer:Bu,useRef:Um,useState:function(){return Bu(Ei)},useDebugValue:ch,useDeferredValue:function(t,n){var r=me();return Gm(r,Kt.memoizedState,t,n)},useTransition:function(){var t=Bu(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:vm,useId:Fm,useHostTransitionStatus:dh,useFormState:Om,useActionState:Om,useOptimistic:function(t,n){var r=me();return Rm(r,Kt,t,n)},useMemoCache:ah,useCacheRefresh:Xm},E0={readContext:qe,use:Pu,useCallback:jm,useContext:qe,useEffect:Lm,useImperativeHandle:qm,useInsertionEffect:Pm,useLayoutEffect:Bm,useMemo:Hm,useReducer:lh,useRef:Um,useState:function(){return lh(Ei)},useDebugValue:ch,useDeferredValue:function(t,n){var r=me();return Kt===null?hh(r,t,n):Gm(r,Kt.memoizedState,t,n)},useTransition:function(){var t=lh(Ei)[0],n=me().memoizedState;return[typeof t=="boolean"?t:al(t),n]},useSyncExternalStore:vm,useId:Fm,useHostTransitionStatus:dh,useFormState:xm,useActionState:xm,useOptimistic:function(t,n){var r=me();return Kt!==null?Rm(r,Kt,t,n):(r.baseState=t,[t,r.queue.dispatch])},useMemoCache:ah,useCacheRefresh:Xm},ja=null,ul=0;function Gu(t){var n=ul;return ul+=1,ja===null&&(ja=[]),hm(ja,t,n)}function ol(t,n){n=n.props.ref,t.ref=n!==void 0?n:null}function Qu(t,n){throw n.$$typeof===V?Error(a(525)):(t=Object.prototype.toString.call(n),Error(a(31,t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)))}function eg(t){var n=t._init;return n(t._payload)}function ng(t){function n(M,C){if(t){var z=M.deletions;z===null?(M.deletions=[C],M.flags|=16):z.push(C)}}function r(M,C){if(!t)return null;for(;C!==null;)n(M,C),C=C.sibling;return null}function l(M){for(var C=new Map;M!==null;)M.key!==null?C.set(M.key,M):C.set(M.index,M),M=M.sibling;return C}function c(M,C){return M=gi(M,C),M.index=0,M.sibling=null,M}function f(M,C,z){return M.index=z,t?(z=M.alternate,z!==null?(z=z.index,z<C?(M.flags|=67108866,C):z):(M.flags|=67108866,C)):(M.flags|=1048576,C)}function y(M){return t&&M.alternate===null&&(M.flags|=67108866),M}function E(M,C,z,Q){return C===null||C.tag!==6?(C=Uc(z,M.mode,Q),C.return=M,C):(C=c(C,z),C.return=M,C)}function b(M,C,z,Q){var rt=z.type;return rt===F?G(M,C,z.props.children,Q,z.key):C!==null&&(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&eg(rt)===C.type)?(C=c(C,z.props),ol(C,z),C.return=M,C):(C=Du(z.type,z.key,z.props,null,M.mode,Q),ol(C,z),C.return=M,C)}function L(M,C,z,Q){return C===null||C.tag!==4||C.stateNode.containerInfo!==z.containerInfo||C.stateNode.implementation!==z.implementation?(C=zc(z,M.mode,Q),C.return=M,C):(C=c(C,z.children||[]),C.return=M,C)}function G(M,C,z,Q,rt){return C===null||C.tag!==7?(C=Qr(z,M.mode,Q,rt),C.return=M,C):(C=c(C,z),C.return=M,C)}function K(M,C,z){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=Uc(""+C,M.mode,z),C.return=M,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case P:return z=Du(C.type,C.key,C.props,null,M.mode,z),ol(z,C),z.return=M,z;case j:return C=zc(C,M.mode,z),C.return=M,C;case S:var Q=C._init;return C=Q(C._payload),K(M,C,z)}if(ie(C)||x(C))return C=Qr(C,M.mode,z,null),C.return=M,C;if(typeof C.then=="function")return K(M,Gu(C),z);if(C.$$typeof===gt)return K(M,Nu(M,C),z);Qu(M,C)}return null}function B(M,C,z,Q){var rt=C!==null?C.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return rt!==null?null:E(M,C,""+z,Q);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case P:return z.key===rt?b(M,C,z,Q):null;case j:return z.key===rt?L(M,C,z,Q):null;case S:return rt=z._init,z=rt(z._payload),B(M,C,z,Q)}if(ie(z)||x(z))return rt!==null?null:G(M,C,z,Q,null);if(typeof z.then=="function")return B(M,C,Gu(z),Q);if(z.$$typeof===gt)return B(M,C,Nu(M,z),Q);Qu(M,z)}return null}function k(M,C,z,Q,rt){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return M=M.get(z)||null,E(C,M,""+Q,rt);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case P:return M=M.get(Q.key===null?z:Q.key)||null,b(C,M,Q,rt);case j:return M=M.get(Q.key===null?z:Q.key)||null,L(C,M,Q,rt);case S:var wt=Q._init;return Q=wt(Q._payload),k(M,C,z,Q,rt)}if(ie(Q)||x(Q))return M=M.get(z)||null,G(C,M,Q,rt,null);if(typeof Q.then=="function")return k(M,C,z,Gu(Q),rt);if(Q.$$typeof===gt)return k(M,C,z,Nu(C,Q),rt);Qu(C,Q)}return null}function ft(M,C,z,Q){for(var rt=null,wt=null,at=C,ht=C=0,Ve=null;at!==null&&ht<z.length;ht++){at.index>ht?(Ve=at,at=null):Ve=at.sibling;var Ut=B(M,at,z[ht],Q);if(Ut===null){at===null&&(at=Ve);break}t&&at&&Ut.alternate===null&&n(M,at),C=f(Ut,C,ht),wt===null?rt=Ut:wt.sibling=Ut,wt=Ut,at=Ve}if(ht===z.length)return r(M,at),Pt&&Yr(M,ht),rt;if(at===null){for(;ht<z.length;ht++)at=K(M,z[ht],Q),at!==null&&(C=f(at,C,ht),wt===null?rt=at:wt.sibling=at,wt=at);return Pt&&Yr(M,ht),rt}for(at=l(at);ht<z.length;ht++)Ve=k(at,M,ht,z[ht],Q),Ve!==null&&(t&&Ve.alternate!==null&&at.delete(Ve.key===null?ht:Ve.key),C=f(Ve,C,ht),wt===null?rt=Ve:wt.sibling=Ve,wt=Ve);return t&&at.forEach(function(sr){return n(M,sr)}),Pt&&Yr(M,ht),rt}function ct(M,C,z,Q){if(z==null)throw Error(a(151));for(var rt=null,wt=null,at=C,ht=C=0,Ve=null,Ut=z.next();at!==null&&!Ut.done;ht++,Ut=z.next()){at.index>ht?(Ve=at,at=null):Ve=at.sibling;var sr=B(M,at,Ut.value,Q);if(sr===null){at===null&&(at=Ve);break}t&&at&&sr.alternate===null&&n(M,at),C=f(sr,C,ht),wt===null?rt=sr:wt.sibling=sr,wt=sr,at=Ve}if(Ut.done)return r(M,at),Pt&&Yr(M,ht),rt;if(at===null){for(;!Ut.done;ht++,Ut=z.next())Ut=K(M,Ut.value,Q),Ut!==null&&(C=f(Ut,C,ht),wt===null?rt=Ut:wt.sibling=Ut,wt=Ut);return Pt&&Yr(M,ht),rt}for(at=l(at);!Ut.done;ht++,Ut=z.next())Ut=k(at,M,ht,Ut.value,Q),Ut!==null&&(t&&Ut.alternate!==null&&at.delete(Ut.key===null?ht:Ut.key),C=f(Ut,C,ht),wt===null?rt=Ut:wt.sibling=Ut,wt=Ut);return t&&at.forEach(function(TE){return n(M,TE)}),Pt&&Yr(M,ht),rt}function Ft(M,C,z,Q){if(typeof z=="object"&&z!==null&&z.type===F&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case P:t:{for(var rt=z.key;C!==null;){if(C.key===rt){if(rt=z.type,rt===F){if(C.tag===7){r(M,C.sibling),Q=c(C,z.props.children),Q.return=M,M=Q;break t}}else if(C.elementType===rt||typeof rt=="object"&&rt!==null&&rt.$$typeof===S&&eg(rt)===C.type){r(M,C.sibling),Q=c(C,z.props),ol(Q,z),Q.return=M,M=Q;break t}r(M,C);break}else n(M,C);C=C.sibling}z.type===F?(Q=Qr(z.props.children,M.mode,Q,z.key),Q.return=M,M=Q):(Q=Du(z.type,z.key,z.props,null,M.mode,Q),ol(Q,z),Q.return=M,M=Q)}return y(M);case j:t:{for(rt=z.key;C!==null;){if(C.key===rt)if(C.tag===4&&C.stateNode.containerInfo===z.containerInfo&&C.stateNode.implementation===z.implementation){r(M,C.sibling),Q=c(C,z.children||[]),Q.return=M,M=Q;break t}else{r(M,C);break}else n(M,C);C=C.sibling}Q=zc(z,M.mode,Q),Q.return=M,M=Q}return y(M);case S:return rt=z._init,z=rt(z._payload),Ft(M,C,z,Q)}if(ie(z))return ft(M,C,z,Q);if(x(z)){if(rt=x(z),typeof rt!="function")throw Error(a(150));return z=rt.call(z),ct(M,C,z,Q)}if(typeof z.then=="function")return Ft(M,C,Gu(z),Q);if(z.$$typeof===gt)return Ft(M,C,Nu(M,z),Q);Qu(M,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,C!==null&&C.tag===6?(r(M,C.sibling),Q=c(C,z),Q.return=M,M=Q):(r(M,C),Q=Uc(z,M.mode,Q),Q.return=M,M=Q),y(M)):r(M,C)}return function(M,C,z,Q){try{ul=0;var rt=Ft(M,C,z,Q);return ja=null,rt}catch(at){if(at===Ws||at===Mu)throw at;var wt=sn(29,at,null,M.mode);return wt.lanes=Q,wt.return=M,wt}finally{}}}var Ha=ng(!0),ig=ng(!1),bn=X(null),Yn=null;function Qi(t){var n=t.alternate;$(Ee,Ee.current&1),$(bn,t),Yn===null&&(n===null||Pa.current!==null||n.memoizedState!==null)&&(Yn=t)}function rg(t){if(t.tag===22){if($(Ee,Ee.current),$(bn,t),Yn===null){var n=t.alternate;n!==null&&n.memoizedState!==null&&(Yn=t)}}else Ki()}function Ki(){$(Ee,Ee.current),$(bn,bn.current)}function Ti(t){et(bn),Yn===t&&(Yn=null),et(Ee)}var Ee=X(0);function Ku(t){for(var n=t;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||af(r)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}function gh(t,n,r,l){n=t.memoizedState,r=r(l,n),r=r==null?n:A({},n,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ph={enqueueSetState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ji(l);c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueReplaceState:function(t,n,r){t=t._reactInternals;var l=cn(),c=ji(l);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=Hi(t,c,l),n!==null&&(hn(n,t,l),el(n,t,l))},enqueueForceUpdate:function(t,n){t=t._reactInternals;var r=cn(),l=ji(r);l.tag=2,n!=null&&(l.callback=n),n=Hi(t,l,r),n!==null&&(hn(n,t,r),el(n,t,r))}};function ag(t,n,r,l,c,f,y){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,y):n.prototype&&n.prototype.isPureReactComponent?!Qs(r,l)||!Qs(c,f):!0}function sg(t,n,r,l){t=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,l),n.state!==t&&ph.enqueueReplaceState(n,n.state,null)}function ta(t,n){var r=n;if("ref"in n){r={};for(var l in n)l!=="ref"&&(r[l]=n[l])}if(t=t.defaultProps){r===n&&(r=A({},r));for(var c in t)r[c]===void 0&&(r[c]=t[c])}return r}var Yu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function lg(t){Yu(t)}function ug(t){console.error(t)}function og(t){Yu(t)}function Fu(t,n){try{var r=t.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function cg(t,n,r){try{var l=t.onCaughtError;l(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function yh(t,n,r){return r=ji(r),r.tag=3,r.payload={element:null},r.callback=function(){Fu(t,n)},r}function hg(t){return t=ji(t),t.tag=3,t}function fg(t,n,r,l){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=l.value;t.payload=function(){return c(f)},t.callback=function(){cg(n,r,l)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(t.callback=function(){cg(n,r,l),typeof c!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var E=l.stack;this.componentDidCatch(l.value,{componentStack:E!==null?E:""})})}function T0(t,n,r,l,c){if(r.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=r.alternate,n!==null&&Zs(n,r,c,!0),r=bn.current,r!==null){switch(r.tag){case 13:return Yn===null?qh():r.alternate===null&&se===0&&(se=3),r.flags&=-257,r.flags|=65536,r.lanes=c,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([l]):n.add(l),Hh(t,l,c)),!1;case 22:return r.flags|=65536,l===Kc?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([l]):r.add(l)),Hh(t,l,c)),!1}throw Error(a(435,r.tag))}return Hh(t,l,c),qh(),!1}if(Pt)return n=bn.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=c,l!==Bc&&(t=Error(a(422),{cause:l}),Xs(En(t,r)))):(l!==Bc&&(n=Error(a(423),{cause:l}),Xs(En(n,r))),t=t.current.alternate,t.flags|=65536,c&=-c,t.lanes|=c,l=En(l,r),c=yh(t.stateNode,l,c),Xc(t,c),se!==4&&(se=2)),!1;var f=Error(a(520),{cause:l});if(f=En(f,r),pl===null?pl=[f]:pl.push(f),se!==4&&(se=2),n===null)return!0;l=En(l,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,t=c&-c,r.lanes|=t,t=yh(r.stateNode,l,t),Xc(r,t),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Ji===null||!Ji.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=hg(c),fg(c,t,r,l),Xc(r,c),!1}r=r.return}while(r!==null);return!1}var dg=Error(a(461)),De=!1;function xe(t,n,r,l){n.child=t===null?ig(n,null,r,l):Ha(n,t.child,r,l)}function mg(t,n,r,l,c){r=r.render;var f=n.ref;if("ref"in l){var y={};for(var E in l)E!=="ref"&&(y[E]=l[E])}else y=l;return $r(n),l=th(t,n,r,y,f,c),E=eh(),t!==null&&!De?(nh(t,n,c),Ai(t,n,c)):(Pt&&E&&Lc(n),n.flags|=1,xe(t,n,l,c),n.child)}function gg(t,n,r,l,c){if(t===null){var f=r.type;return typeof f=="function"&&!xc(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,pg(t,n,f,l,c)):(t=Du(r.type,null,l,n,n.mode,c),t.ref=n.ref,t.return=n,n.child=t)}if(f=t.child,!Rh(t,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:Qs,r(y,l)&&t.ref===n.ref)return Ai(t,n,c)}return n.flags|=1,t=gi(f,l),t.ref=n.ref,t.return=n,n.child=t}function pg(t,n,r,l,c){if(t!==null){var f=t.memoizedProps;if(Qs(f,l)&&t.ref===n.ref)if(De=!1,n.pendingProps=l=f,Rh(t,c))(t.flags&131072)!==0&&(De=!0);else return n.lanes=t.lanes,Ai(t,n,c)}return _h(t,n,r,l,c)}function yg(t,n,r){var l=n.pendingProps,c=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((n.flags&128)!==0){if(l=f!==null?f.baseLanes|r:r,t!==null){for(c=n.child=t.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~l}else n.childLanes=0,n.child=null;return _g(t,n,l,r)}if((r&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},t!==null&&Ou(n,f!==null?f.cachePool:null),f!==null?pm(n,f):$c(),rg(n);else return n.lanes=n.childLanes=536870912,_g(t,n,f!==null?f.baseLanes|r:r,r)}else f!==null?(Ou(n,f.cachePool),pm(n,f),Ki(),n.memoizedState=null):(t!==null&&Ou(n,null),$c(),Ki());return xe(t,n,c,r),n.child}function _g(t,n,r,l){var c=Qc();return c=c===null?null:{parent:ve._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},t!==null&&Ou(n,null),$c(),rg(n),t!==null&&Zs(t,n,l,!0),null}function Xu(t,n){var r=n.ref;if(r===null)t!==null&&t.ref!==null&&(n.flags|=4194816);else{if(typeof r!="function"&&typeof r!="object")throw Error(a(284));(t===null||t.ref!==r)&&(n.flags|=4194816)}}function _h(t,n,r,l,c){return $r(n),r=th(t,n,r,l,void 0,c),l=eh(),t!==null&&!De?(nh(t,n,c),Ai(t,n,c)):(Pt&&l&&Lc(n),n.flags|=1,xe(t,n,r,c),n.child)}function vg(t,n,r,l,c,f){return $r(n),n.updateQueue=null,r=_m(n,l,r,c),ym(t),l=eh(),t!==null&&!De?(nh(t,n,f),Ai(t,n,f)):(Pt&&l&&Lc(n),n.flags|=1,xe(t,n,r,f),n.child)}function Eg(t,n,r,l,c){if($r(n),n.stateNode===null){var f=Ma,y=r.contextType;typeof y=="object"&&y!==null&&(f=qe(y)),f=new r(l,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=ph,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=l,f.state=n.memoizedState,f.refs={},Yc(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?qe(y):Ma,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(gh(n,r,y,l),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&ph.enqueueReplaceState(f,f.state,null),il(n,l,f,c),nl(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(t===null){f=n.stateNode;var E=n.memoizedProps,b=ta(r,E);f.props=b;var L=f.context,G=r.contextType;y=Ma,typeof G=="object"&&G!==null&&(y=qe(G));var K=r.getDerivedStateFromProps;G=typeof K=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,G||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||L!==y)&&sg(n,f,l,y),qi=!1;var B=n.memoizedState;f.state=B,il(n,l,f,c),nl(),L=n.memoizedState,E||B!==L||qi?(typeof K=="function"&&(gh(n,r,K,l),L=n.memoizedState),(b=qi||ag(n,r,b,l,B,L,y))?(G||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=L),f.props=l,f.state=L,f.context=y,l=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{f=n.stateNode,Fc(t,n),y=n.memoizedProps,G=ta(r,y),f.props=G,K=n.pendingProps,B=f.context,L=r.contextType,b=Ma,typeof L=="object"&&L!==null&&(b=qe(L)),E=r.getDerivedStateFromProps,(L=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==K||B!==b)&&sg(n,f,l,b),qi=!1,B=n.memoizedState,f.state=B,il(n,l,f,c),nl();var k=n.memoizedState;y!==K||B!==k||qi||t!==null&&t.dependencies!==null&&Iu(t.dependencies)?(typeof E=="function"&&(gh(n,r,E,l),k=n.memoizedState),(G=qi||ag(n,r,G,l,B,k,b)||t!==null&&t.dependencies!==null&&Iu(t.dependencies))?(L||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,k,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,k,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=k),f.props=l,f.state=k,f.context=b,l=G):(typeof f.componentDidUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===t.memoizedProps&&B===t.memoizedState||(n.flags|=1024),l=!1)}return f=l,Xu(t,n),l=(n.flags&128)!==0,f||l?(f=n.stateNode,r=l&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,t!==null&&l?(n.child=Ha(n,t.child,null,c),n.child=Ha(n,null,r,c)):xe(t,n,r,c),n.memoizedState=f.state,t=n.child):t=Ai(t,n,c),t}function Tg(t,n,r,l){return Fs(),n.flags|=256,xe(t,n,r,l),n.child}var vh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Eh(t){return{baseLanes:t,cachePool:um()}}function Th(t,n,r){return t=t!==null?t.childLanes&~r:0,n&&(t|=Rn),t}function Ag(t,n,r){var l=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=t!==null&&t.memoizedState===null?!1:(Ee.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,t===null){if(Pt){if(c?Qi(n):Ki(),Pt){var E=ae,b;if(b=E){t:{for(b=E,E=Kn;b.nodeType!==8;){if(!E){E=null;break t}if(b=On(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:Kr!==null?{id:pi,overflow:yi}:null,retryLane:536870912,hydrationErrors:null},b=sn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,Xe=n,ae=null,b=!0):b=!1}b||Xr(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return af(E)?n.lanes=32:n.lanes=536870912,null;Ti(n)}return E=l.children,l=l.fallback,c?(Ki(),c=n.mode,E=Zu({mode:"hidden",children:E},c),l=Qr(l,c,r,null),E.return=n,l.return=n,E.sibling=l,n.child=E,c=n.child,c.memoizedState=Eh(r),c.childLanes=Th(t,y,r),n.memoizedState=vh,l):(Qi(n),Ah(n,E))}if(b=t.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(Qi(n),n.flags&=-257,n=Sh(t,n,r)):n.memoizedState!==null?(Ki(),n.child=t.child,n.flags|=128,n=null):(Ki(),c=l.fallback,E=n.mode,l=Zu({mode:"visible",children:l.children},E),c=Qr(c,E,r,null),c.flags|=2,l.return=n,c.return=n,l.sibling=c,n.child=l,Ha(n,t.child,null,r),l=n.child,l.memoizedState=Eh(r),l.childLanes=Th(t,y,r),n.memoizedState=vh,n=c);else if(Qi(n),af(E)){if(y=E.nextSibling&&E.nextSibling.dataset,y)var L=y.dgst;y=L,l=Error(a(419)),l.stack="",l.digest=y,Xs({value:l,source:null,stack:null}),n=Sh(t,n,r)}else if(De||Zs(t,n,r,!1),y=(r&t.childLanes)!==0,De||y){if(y=$t,y!==null&&(l=r&-r,l=(l&42)!==0?1:Mi(l),l=(l&(y.suspendedLanes|r))!==0?0:l,l!==0&&l!==b.retryLane))throw b.retryLane=l,Oa(t,l),hn(y,t,l),dg;E.data==="$?"||qh(),n=Sh(t,n,r)}else E.data==="$?"?(n.flags|=192,n.child=t.child,n=null):(t=b.treeContext,ae=On(E.nextSibling),Xe=n,Pt=!0,Fr=null,Kn=!1,t!==null&&(An[Sn++]=pi,An[Sn++]=yi,An[Sn++]=Kr,pi=t.id,yi=t.overflow,Kr=n),n=Ah(n,l.children),n.flags|=4096);return n}return c?(Ki(),c=l.fallback,E=n.mode,b=t.child,L=b.sibling,l=gi(b,{mode:"hidden",children:l.children}),l.subtreeFlags=b.subtreeFlags&65011712,L!==null?c=gi(L,c):(c=Qr(c,E,r,null),c.flags|=2),c.return=n,l.return=n,l.sibling=c,n.child=l,l=c,c=n.child,E=t.child.memoizedState,E===null?E=Eh(r):(b=E.cachePool,b!==null?(L=ve._currentValue,b=b.parent!==L?{parent:L,pool:L}:b):b=um(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Th(t,y,r),n.memoizedState=vh,l):(Qi(n),r=t.child,t=r.sibling,r=gi(r,{mode:"visible",children:l.children}),r.return=n,r.sibling=null,t!==null&&(y=n.deletions,y===null?(n.deletions=[t],n.flags|=16):y.push(t)),n.child=r,n.memoizedState=null,r)}function Ah(t,n){return n=Zu({mode:"visible",children:n},t.mode),n.return=t,t.child=n}function Zu(t,n){return t=sn(22,t,null,n),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Sh(t,n,r){return Ha(n,t.child,null,r),t=Ah(n,n.pendingProps.children),t.flags|=2,n.memoizedState=null,t}function Sg(t,n,r){t.lanes|=n;var l=t.alternate;l!==null&&(l.lanes|=n),qc(t.return,n,r)}function bh(t,n,r,l,c){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=r,f.tailMode=c)}function bg(t,n,r){var l=n.pendingProps,c=l.revealOrder,f=l.tail;if(xe(t,n,l.children,r),l=Ee.current,(l&2)!==0)l=l&1|2,n.flags|=128;else{if(t!==null&&(t.flags&128)!==0)t:for(t=n.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sg(t,r,n);else if(t.tag===19)Sg(t,r,n);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break t;for(;t.sibling===null;){if(t.return===null||t.return===n)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch($(Ee,l),c){case"forwards":for(r=n.child,c=null;r!==null;)t=r.alternate,t!==null&&Ku(t)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),bh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(t=c.alternate,t!==null&&Ku(t)===null){n.child=c;break}t=c.sibling,c.sibling=r,r=c,c=t}bh(n,!0,r,null,f);break;case"together":bh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Ai(t,n,r){if(t!==null&&(n.dependencies=t.dependencies),$i|=n.lanes,(r&n.childLanes)===0)if(t!==null){if(Zs(t,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(t!==null&&n.child!==t.child)throw Error(a(153));if(n.child!==null){for(t=n.child,r=gi(t,t.pendingProps),n.child=r,r.return=n;t.sibling!==null;)t=t.sibling,r=r.sibling=gi(t,t.pendingProps),r.return=n;r.sibling=null}return n.child}function Rh(t,n){return(t.lanes&n)!==0?!0:(t=t.dependencies,!!(t!==null&&Iu(t)))}function A0(t,n,r){switch(n.tag){case 3:Zt(n,n.stateNode.containerInfo),ki(n,ve,t.memoizedState.cache),Fs();break;case 27:case 5:Oi(n);break;case 4:Zt(n,n.stateNode.containerInfo);break;case 10:ki(n,n.type,n.memoizedProps.value);break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(Qi(n),n.flags|=128,null):(r&n.child.childLanes)!==0?Ag(t,n,r):(Qi(n),t=Ai(t,n,r),t!==null?t.sibling:null);Qi(n);break;case 19:var c=(t.flags&128)!==0;if(l=(r&n.childLanes)!==0,l||(Zs(t,n,r,!1),l=(r&n.childLanes)!==0),c){if(l)return bg(t,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),$(Ee,Ee.current),l)break;return null;case 22:case 23:return n.lanes=0,yg(t,n,r);case 24:ki(n,ve,t.memoizedState.cache)}return Ai(t,n,r)}function Rg(t,n,r){if(t!==null)if(t.memoizedProps!==n.pendingProps)De=!0;else{if(!Rh(t,r)&&(n.flags&128)===0)return De=!1,A0(t,n,r);De=(t.flags&131072)!==0}else De=!1,Pt&&(n.flags&1048576)!==0&&em(n,Vu,n.index);switch(n.lanes=0,n.tag){case 16:t:{t=n.pendingProps;var l=n.elementType,c=l._init;if(l=c(l._payload),n.type=l,typeof l=="function")xc(l)?(t=ta(l,t),n.tag=1,n=Eg(null,n,l,t,r)):(n.tag=0,n=_h(null,n,l,t,r));else{if(l!=null){if(c=l.$$typeof,c===Bt){n.tag=11,n=mg(null,n,l,t,r);break t}else if(c===N){n.tag=14,n=gg(null,n,l,t,r);break t}}throw n=Ne(l)||l,Error(a(306,n,""))}}return n;case 0:return _h(t,n,n.type,n.pendingProps,r);case 1:return l=n.type,c=ta(l,n.pendingProps),Eg(t,n,l,c,r);case 3:t:{if(Zt(n,n.stateNode.containerInfo),t===null)throw Error(a(387));l=n.pendingProps;var f=n.memoizedState;c=f.element,Fc(t,n),il(n,l,null,r);var y=n.memoizedState;if(l=y.cache,ki(n,ve,l),l!==f.cache&&jc(n,[ve],r,!0),nl(),l=y.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Tg(t,n,l,r);break t}else if(l!==c){c=En(Error(a(424)),n),Xs(c),n=Tg(t,n,l,r);break t}else{switch(t=n.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ae=On(t.firstChild),Xe=n,Pt=!0,Fr=null,Kn=!0,r=ig(n,null,l,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling}else{if(Fs(),l===c){n=Ai(t,n,r);break t}xe(t,n,l,r)}n=n.child}return n;case 26:return Xu(t,n),t===null?(r=Vp(n.type,null,n.pendingProps,null))?n.memoizedState=r:Pt||(r=n.type,t=n.pendingProps,l=co(mt.current).createElement(r),l[pe]=n,l[he]=t,ze(l,r,t),le(l),n.stateNode=l):n.memoizedState=Vp(n.type,t.memoizedProps,n.pendingProps,t.memoizedState),null;case 27:return Oi(n),t===null&&Pt&&(l=n.stateNode=wp(n.type,n.pendingProps,mt.current),Xe=n,Kn=!0,c=ae,er(n.type)?(sf=c,ae=On(l.firstChild)):ae=c),xe(t,n,n.pendingProps.children,r),Xu(t,n),t===null&&(n.flags|=4194304),n.child;case 5:return t===null&&Pt&&((c=l=ae)&&(l=Z0(l,n.type,n.pendingProps,Kn),l!==null?(n.stateNode=l,Xe=n,ae=On(l.firstChild),Kn=!1,c=!0):c=!1),c||Xr(n)),Oi(n),c=n.type,f=n.pendingProps,y=t!==null?t.memoizedProps:null,l=f.children,ef(c,f)?l=null:y!==null&&ef(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=th(t,n,m0,null,null,r),Rl._currentValue=c),Xu(t,n),xe(t,n,l,r),n.child;case 6:return t===null&&Pt&&((t=r=ae)&&(r=$0(r,n.pendingProps,Kn),r!==null?(n.stateNode=r,Xe=n,ae=null,t=!0):t=!1),t||Xr(n)),null;case 13:return Ag(t,n,r);case 4:return Zt(n,n.stateNode.containerInfo),l=n.pendingProps,t===null?n.child=Ha(n,null,l,r):xe(t,n,l,r),n.child;case 11:return mg(t,n,n.type,n.pendingProps,r);case 7:return xe(t,n,n.pendingProps,r),n.child;case 8:return xe(t,n,n.pendingProps.children,r),n.child;case 12:return xe(t,n,n.pendingProps.children,r),n.child;case 10:return l=n.pendingProps,ki(n,n.type,l.value),xe(t,n,l.children,r),n.child;case 9:return c=n.type._context,l=n.pendingProps.children,$r(n),c=qe(c),l=l(c),n.flags|=1,xe(t,n,l,r),n.child;case 14:return gg(t,n,n.type,n.pendingProps,r);case 15:return pg(t,n,n.type,n.pendingProps,r);case 19:return bg(t,n,r);case 31:return l=n.pendingProps,r=n.mode,l={mode:l.mode,children:l.children},t===null?(r=Zu(l,r),r.ref=n.ref,n.child=r,r.return=n,n=r):(r=gi(t.child,l),r.ref=n.ref,n.child=r,r.return=n,n=r),n;case 22:return yg(t,n,r);case 24:return $r(n),l=qe(ve),t===null?(c=Qc(),c===null&&(c=$t,f=Hc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:l,cache:c},Yc(n),ki(n,ve,c)):((t.lanes&r)!==0&&(Fc(t,n),il(n,null,null,r),nl()),c=t.memoizedState,f=n.memoizedState,c.parent!==l?(c={parent:l,cache:l},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),ki(n,ve,l)):(l=f.cache,ki(n,ve,l),l!==c.cache&&jc(n,[ve],r,!0))),xe(t,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(a(156,n.tag))}function Si(t){t.flags|=4}function wg(t,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!xp(n)){if(n=bn.current,n!==null&&((Ot&4194048)===Ot?Yn!==null:(Ot&62914560)!==Ot&&(Ot&536870912)===0||n!==Yn))throw tl=Kc,om;t.flags|=8192}}function $u(t,n){n!==null&&(t.flags|=4),t.flags&16384&&(n=t.tag!==22?Ds():536870912,t.lanes|=n,Ya|=n)}function cl(t,n){if(!Pt)switch(t.tailMode){case"hidden":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?n||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ee(t){var n=t.alternate!==null&&t.alternate.child===t.child,r=0,l=0;if(n)for(var c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags&65011712,l|=c.flags&65011712,c.return=t,c=c.sibling;else for(c=t.child;c!==null;)r|=c.lanes|c.childLanes,l|=c.subtreeFlags,l|=c.flags,c.return=t,c=c.sibling;return t.subtreeFlags|=l,t.childLanes=r,n}function S0(t,n,r){var l=n.pendingProps;switch(Pc(n),n.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ee(n),null;case 1:return ee(n),null;case 3:return r=n.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),vi(ve),xn(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ys(n)?Si(n):t===null||t.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,rm())),ee(n),null;case 26:return r=n.memoizedState,t===null?(Si(n),r!==null?(ee(n),wg(n,r)):(ee(n),n.flags&=-16777217)):r?r!==t.memoizedState?(Si(n),ee(n),wg(n,r)):(ee(n),n.flags&=-16777217):(t.memoizedProps!==l&&Si(n),ee(n),n.flags&=-16777217),null;case 27:ni(n),r=mt.current;var c=n.type;if(t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}t=ut.current,Ys(n)?nm(n):(t=wp(c,l,r),n.stateNode=t,Si(n))}return ee(n),null;case 5:if(ni(n),r=n.type,t!==null&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(!l){if(n.stateNode===null)throw Error(a(166));return ee(n),null}if(t=ut.current,Ys(n))nm(n);else{switch(c=co(mt.current),t){case 1:t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":t=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":t=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":t=c.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?c.createElement("select",{is:l.is}):c.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?c.createElement(r,{is:l.is}):c.createElement(r)}}t[pe]=n,t[he]=l;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)t.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=t;t:switch(ze(t,r,l),r){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break t;case"img":t=!0;break t;default:t=!1}t&&Si(n)}}return ee(n),n.flags&=-16777217,null;case 6:if(t&&n.stateNode!=null)t.memoizedProps!==l&&Si(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(a(166));if(t=mt.current,Ys(n)){if(t=n.stateNode,r=n.memoizedProps,l=null,c=Xe,c!==null)switch(c.tag){case 27:case 5:l=c.memoizedProps}t[pe]=n,t=!!(t.nodeValue===r||l!==null&&l.suppressHydrationWarning===!0||vp(t.nodeValue,r)),t||Xr(n)}else t=co(t).createTextNode(l),t[pe]=n,n.stateNode=t}return ee(n),null;case 13:if(l=n.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(c=Ys(n),l!==null&&l.dehydrated!==null){if(t===null){if(!c)throw Error(a(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(a(317));c[pe]=n}else Fs(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;ee(n),c=!1}else c=rm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=c),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),(n.flags&128)!==0)return n.lanes=r,n;if(r=l!==null,t=t!==null&&t.memoizedState!==null,r){l=n.child,c=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(c=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==c&&(l.flags|=2048)}return r!==t&&r&&(n.child.flags|=8192),$u(n,n.updateQueue),ee(n),null;case 4:return xn(),t===null&&Zh(n.stateNode.containerInfo),ee(n),null;case 10:return vi(n.type),ee(n),null;case 19:if(et(Ee),c=n.memoizedState,c===null)return ee(n),null;if(l=(n.flags&128)!==0,f=c.rendering,f===null)if(l)cl(c,!1);else{if(se!==0||t!==null&&(t.flags&128)!==0)for(t=n.child;t!==null;){if(f=Ku(t),f!==null){for(n.flags|=128,cl(c,!1),t=f.updateQueue,n.updateQueue=t,$u(n,t),n.subtreeFlags=0,t=r,r=n.child;r!==null;)tm(r,t),r=r.sibling;return $(Ee,Ee.current&1|2),n.child}t=t.sibling}c.tail!==null&&mn()>to&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304)}else{if(!l)if(t=Ku(f),t!==null){if(n.flags|=128,l=!0,t=t.updateQueue,n.updateQueue=t,$u(n,t),cl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!Pt)return ee(n),null}else 2*mn()-c.renderingStartTime>to&&r!==536870912&&(n.flags|=128,l=!0,cl(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(t=c.last,t!==null?t.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=mn(),n.sibling=null,t=Ee.current,$(Ee,l?t&1|2:t&1),n):(ee(n),null);case 22:case 23:return Ti(n),Jc(),l=n.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(r&536870912)!==0&&(n.flags&128)===0&&(ee(n),n.subtreeFlags&6&&(n.flags|=8192)):ee(n),r=n.updateQueue,r!==null&&$u(n,r.retryQueue),r=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==r&&(n.flags|=2048),t!==null&&et(Jr),null;case 24:return r=null,t!==null&&(r=t.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),vi(ve),ee(n),null;case 25:return null;case 30:return null}throw Error(a(156,n.tag))}function b0(t,n){switch(Pc(n),n.tag){case 1:return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 3:return vi(ve),xn(),t=n.flags,(t&65536)!==0&&(t&128)===0?(n.flags=t&-65537|128,n):null;case 26:case 27:case 5:return ni(n),null;case 13:if(Ti(n),t=n.memoizedState,t!==null&&t.dehydrated!==null){if(n.alternate===null)throw Error(a(340));Fs()}return t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 19:return et(Ee),null;case 4:return xn(),null;case 10:return vi(n.type),null;case 22:case 23:return Ti(n),Jc(),t!==null&&et(Jr),t=n.flags,t&65536?(n.flags=t&-65537|128,n):null;case 24:return vi(ve),null;case 25:return null;default:return null}}function Dg(t,n){switch(Pc(n),n.tag){case 3:vi(ve),xn();break;case 26:case 27:case 5:ni(n);break;case 4:xn();break;case 13:Ti(n);break;case 19:et(Ee);break;case 10:vi(n.type);break;case 22:case 23:Ti(n),Jc(),t!==null&&et(Jr);break;case 24:vi(ve)}}function hl(t,n){try{var r=n.updateQueue,l=r!==null?r.lastEffect:null;if(l!==null){var c=l.next;r=c;do{if((r.tag&t)===t){l=void 0;var f=r.create,y=r.inst;l=f(),y.destroy=l}r=r.next}while(r!==c)}}catch(E){Xt(n,n.return,E)}}function Yi(t,n,r){try{var l=n.updateQueue,c=l!==null?l.lastEffect:null;if(c!==null){var f=c.next;l=f;do{if((l.tag&t)===t){var y=l.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r,L=E;try{L()}catch(G){Xt(c,b,G)}}}l=l.next}while(l!==f)}}catch(G){Xt(n,n.return,G)}}function Cg(t){var n=t.updateQueue;if(n!==null){var r=t.stateNode;try{gm(n,r)}catch(l){Xt(t,t.return,l)}}}function Vg(t,n,r){r.props=ta(t.type,t.memoizedProps),r.state=t.memoizedState;try{r.componentWillUnmount()}catch(l){Xt(t,n,l)}}function fl(t,n){try{var r=t.ref;if(r!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof r=="function"?t.refCleanup=r(l):r.current=l}}catch(c){Xt(t,n,c)}}function Fn(t,n){var r=t.ref,l=t.refCleanup;if(r!==null)if(typeof l=="function")try{l()}catch(c){Xt(t,n,c)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Xt(t,n,c)}else r.current=null}function Ig(t){var n=t.type,r=t.memoizedProps,l=t.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&l.focus();break t;case"img":r.src?l.src=r.src:r.srcSet&&(l.srcset=r.srcSet)}}catch(c){Xt(t,t.return,c)}}function wh(t,n,r){try{var l=t.stateNode;Q0(l,t.type,r,n),l[he]=n}catch(c){Xt(t,t.return,c)}}function Ng(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&er(t.type)||t.tag===4}function Dh(t){t:for(;;){for(;t.sibling===null;){if(t.return===null||Ng(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&er(t.type)||t.flags&2||t.child===null||t.tag===4)continue t;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ch(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r).insertBefore(t,n):(n=r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,n.appendChild(t),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=oo));else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode,n=null),t=t.child,t!==null))for(Ch(t,n,r),t=t.sibling;t!==null;)Ch(t,n,r),t=t.sibling}function Ju(t,n,r){var l=t.tag;if(l===5||l===6)t=t.stateNode,n?r.insertBefore(t,n):r.appendChild(t);else if(l!==4&&(l===27&&er(t.type)&&(r=t.stateNode),t=t.child,t!==null))for(Ju(t,n,r),t=t.sibling;t!==null;)Ju(t,n,r),t=t.sibling}function Og(t){var n=t.stateNode,r=t.memoizedProps;try{for(var l=t.type,c=n.attributes;c.length;)n.removeAttributeNode(c[0]);ze(n,l,r),n[pe]=t,n[he]=r}catch(f){Xt(t,t.return,f)}}var bi=!1,oe=!1,Vh=!1,Mg=typeof WeakSet=="function"?WeakSet:Set,Ce=null;function R0(t,n){if(t=t.containerInfo,Wh=yo,t=Gd(t),Dc(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else t:{r=(r=t.ownerDocument)&&r.defaultView||window;var l=r.getSelection&&r.getSelection();if(l&&l.rangeCount!==0){r=l.anchorNode;var c=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,L=0,G=0,K=t,B=null;e:for(;;){for(var k;K!==r||c!==0&&K.nodeType!==3||(E=y+c),K!==f||l!==0&&K.nodeType!==3||(b=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(k=K.firstChild)!==null;)B=K,K=k;for(;;){if(K===t)break e;if(B===r&&++L===c&&(E=y),B===f&&++G===l&&(b=y),(k=K.nextSibling)!==null)break;K=B,B=K.parentNode}K=k}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(tf={focusedElem:t,selectionRange:r},yo=!1,Ce=n;Ce!==null;)if(n=Ce,t=n.child,(n.subtreeFlags&1024)!==0&&t!==null)t.return=n,Ce=t;else for(;Ce!==null;){switch(n=Ce,f=n.alternate,t=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,l=r.stateNode;try{var ft=ta(r.type,c,r.elementType===r.type);t=l.getSnapshotBeforeUpdate(ft,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ct){Xt(r,r.return,ct)}}break;case 3:if((t&1024)!==0){if(t=n.stateNode.containerInfo,r=t.nodeType,r===9)rf(t);else if(r===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":rf(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(a(163))}if(t=n.sibling,t!==null){t.return=n.return,Ce=t;break}Ce=n.return}}function xg(t,n,r){var l=r.flags;switch(r.tag){case 0:case 11:case 15:Fi(t,r),l&4&&hl(5,r);break;case 1:if(Fi(t,r),l&4)if(t=r.stateNode,n===null)try{t.componentDidMount()}catch(y){Xt(r,r.return,y)}else{var c=ta(r.type,n.memoizedProps);n=n.memoizedState;try{t.componentDidUpdate(c,n,t.__reactInternalSnapshotBeforeUpdate)}catch(y){Xt(r,r.return,y)}}l&64&&Cg(r),l&512&&fl(r,r.return);break;case 3:if(Fi(t,r),l&64&&(t=r.updateQueue,t!==null)){if(n=null,r.child!==null)switch(r.child.tag){case 27:case 5:n=r.child.stateNode;break;case 1:n=r.child.stateNode}try{gm(t,n)}catch(y){Xt(r,r.return,y)}}break;case 27:n===null&&l&4&&Og(r);case 26:case 5:Fi(t,r),n===null&&l&4&&Ig(r),l&512&&fl(r,r.return);break;case 12:Fi(t,r);break;case 13:Fi(t,r),l&4&&Lg(t,r),l&64&&(t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(r=x0.bind(null,r),J0(t,r))));break;case 22:if(l=r.memoizedState!==null||bi,!l){n=n!==null&&n.memoizedState!==null||oe,c=bi;var f=oe;bi=l,(oe=n)&&!f?Xi(t,r,(r.subtreeFlags&8772)!==0):Fi(t,r),bi=c,oe=f}break;case 30:break;default:Fi(t,r)}}function Ug(t){var n=t.alternate;n!==null&&(t.alternate=null,Ug(n)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(n=t.stateNode,n!==null&&zi(n)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var Wt=null,$e=!1;function Ri(t,n,r){for(r=r.child;r!==null;)zg(t,n,r),r=r.sibling}function zg(t,n,r){if(jt&&typeof jt.onCommitFiberUnmount=="function")try{jt.onCommitFiberUnmount(re,r)}catch{}switch(r.tag){case 26:oe||Fn(r,n),Ri(t,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:oe||Fn(r,n);var l=Wt,c=$e;er(r.type)&&(Wt=r.stateNode,$e=!1),Ri(t,n,r),Tl(r.stateNode),Wt=l,$e=c;break;case 5:oe||Fn(r,n);case 6:if(l=Wt,c=$e,Wt=null,Ri(t,n,r),Wt=l,$e=c,Wt!==null)if($e)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(r.stateNode)}catch(f){Xt(r,n,f)}else try{Wt.removeChild(r.stateNode)}catch(f){Xt(r,n,f)}break;case 18:Wt!==null&&($e?(t=Wt,bp(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,r.stateNode),Vl(t)):bp(Wt,r.stateNode));break;case 4:l=Wt,c=$e,Wt=r.stateNode.containerInfo,$e=!0,Ri(t,n,r),Wt=l,$e=c;break;case 0:case 11:case 14:case 15:oe||Yi(2,r,n),oe||Yi(4,r,n),Ri(t,n,r);break;case 1:oe||(Fn(r,n),l=r.stateNode,typeof l.componentWillUnmount=="function"&&Vg(r,n,l)),Ri(t,n,r);break;case 21:Ri(t,n,r);break;case 22:oe=(l=oe)||r.memoizedState!==null,Ri(t,n,r),oe=l;break;default:Ri(t,n,r)}}function Lg(t,n){if(n.memoizedState===null&&(t=n.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Vl(t)}catch(r){Xt(n,n.return,r)}}function w0(t){switch(t.tag){case 13:case 19:var n=t.stateNode;return n===null&&(n=t.stateNode=new Mg),n;case 22:return t=t.stateNode,n=t._retryCache,n===null&&(n=t._retryCache=new Mg),n;default:throw Error(a(435,t.tag))}}function Ih(t,n){var r=w0(t);n.forEach(function(l){var c=U0.bind(null,t,l);r.has(l)||(r.add(l),l.then(c,c))})}function ln(t,n){var r=n.deletions;if(r!==null)for(var l=0;l<r.length;l++){var c=r[l],f=t,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:if(er(E.type)){Wt=E.stateNode,$e=!1;break t}break;case 5:Wt=E.stateNode,$e=!1;break t;case 3:case 4:Wt=E.stateNode.containerInfo,$e=!0;break t}E=E.return}if(Wt===null)throw Error(a(160));zg(f,y,c),Wt=null,$e=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)Pg(n,t),n=n.sibling}var Nn=null;function Pg(t,n){var r=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:ln(n,t),un(t),l&4&&(Yi(3,t,t.return),hl(3,t),Yi(5,t,t.return));break;case 1:ln(n,t),un(t),l&512&&(oe||r===null||Fn(r,r.return)),l&64&&bi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(r=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=r===null?l:r.concat(l))));break;case 26:var c=Nn;if(ln(n,t),un(t),l&512&&(oe||r===null||Fn(r,r.return)),l&4){var f=r!==null?r.memoizedState:null;if(l=t.memoizedState,r===null)if(l===null)if(t.stateNode===null){t:{l=t.type,r=t.memoizedProps,c=c.ownerDocument||c;e:switch(l){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vr]||f[pe]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(l),c.head.insertBefore(f,c.querySelector("head > title"))),ze(f,l,r),f[pe]=t,le(f),l=f;break t;case"link":var y=Op("link","href",c).get(l+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null||r.href===""?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;case"meta":if(y=Op("meta","content",c).get(l+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(l),ze(f,l,r),c.head.appendChild(f);break;default:throw Error(a(468,l))}f[pe]=t,le(f),l=f}t.stateNode=l}else Mp(c,t.type,t.stateNode);else t.stateNode=Np(c,l,t.memoizedProps);else f!==l?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,l===null?Mp(c,t.type,t.stateNode):Np(c,l,t.memoizedProps)):l===null&&t.stateNode!==null&&wh(t,t.memoizedProps,r.memoizedProps)}break;case 27:ln(n,t),un(t),l&512&&(oe||r===null||Fn(r,r.return)),r!==null&&l&4&&wh(t,t.memoizedProps,r.memoizedProps);break;case 5:if(ln(n,t),un(t),l&512&&(oe||r===null||Fn(r,r.return)),t.flags&32){c=t.stateNode;try{pn(c,"")}catch(k){Xt(t,t.return,k)}}l&4&&t.stateNode!=null&&(c=t.memoizedProps,wh(t,c,r!==null?r.memoizedProps:c)),l&1024&&(Vh=!0);break;case 6:if(ln(n,t),un(t),l&4){if(t.stateNode===null)throw Error(a(162));l=t.memoizedProps,r=t.stateNode;try{r.nodeValue=l}catch(k){Xt(t,t.return,k)}}break;case 3:if(mo=null,c=Nn,Nn=ho(n.containerInfo),ln(n,t),Nn=c,un(t),l&4&&r!==null&&r.memoizedState.isDehydrated)try{Vl(n.containerInfo)}catch(k){Xt(t,t.return,k)}Vh&&(Vh=!1,Bg(t));break;case 4:l=Nn,Nn=ho(t.stateNode.containerInfo),ln(n,t),un(t),Nn=l;break;case 12:ln(n,t),un(t);break;case 13:ln(n,t),un(t),t.child.flags&8192&&t.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(zh=mn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ih(t,l)));break;case 22:c=t.memoizedState!==null;var b=r!==null&&r.memoizedState!==null,L=bi,G=oe;if(bi=L||c,oe=G||b,ln(n,t),oe=G,bi=L,un(t),l&8192)t:for(n=t.stateNode,n._visibility=c?n._visibility&-2:n._visibility|1,c&&(r===null||b||bi||oe||ea(t)),r=null,n=t;;){if(n.tag===5||n.tag===26){if(r===null){b=r=n;try{if(f=b.stateNode,c)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{E=b.stateNode;var K=b.memoizedProps.style,B=K!=null&&K.hasOwnProperty("display")?K.display:null;E.style.display=B==null||typeof B=="boolean"?"":(""+B).trim()}}catch(k){Xt(b,b.return,k)}}}else if(n.tag===6){if(r===null){b=n;try{b.stateNode.nodeValue=c?"":b.memoizedProps}catch(k){Xt(b,b.return,k)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===t)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break t;for(;n.sibling===null;){if(n.return===null||n.return===t)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=t.updateQueue,l!==null&&(r=l.retryQueue,r!==null&&(l.retryQueue=null,Ih(t,r))));break;case 19:ln(n,t),un(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ih(t,l)));break;case 30:break;case 21:break;default:ln(n,t),un(t)}}function un(t){var n=t.flags;if(n&2){try{for(var r,l=t.return;l!==null;){if(Ng(l)){r=l;break}l=l.return}if(r==null)throw Error(a(160));switch(r.tag){case 27:var c=r.stateNode,f=Dh(t);Ju(t,f,c);break;case 5:var y=r.stateNode;r.flags&32&&(pn(y,""),r.flags&=-33);var E=Dh(t);Ju(t,E,y);break;case 3:case 4:var b=r.stateNode.containerInfo,L=Dh(t);Ch(t,L,b);break;default:throw Error(a(161))}}catch(G){Xt(t,t.return,G)}t.flags&=-3}n&4096&&(t.flags&=-4097)}function Bg(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var n=t;Bg(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),t=t.sibling}}function Fi(t,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)xg(t,n.alternate,n),n=n.sibling}function ea(t){for(t=t.child;t!==null;){var n=t;switch(n.tag){case 0:case 11:case 14:case 15:Yi(4,n,n.return),ea(n);break;case 1:Fn(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&Vg(n,n.return,r),ea(n);break;case 27:Tl(n.stateNode);case 26:case 5:Fn(n,n.return),ea(n);break;case 22:n.memoizedState===null&&ea(n);break;case 30:ea(n);break;default:ea(n)}t=t.sibling}}function Xi(t,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,c=t,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Xi(c,f,r),hl(4,f);break;case 1:if(Xi(c,f,r),l=f,c=l.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(L){Xt(l,l.return,L)}if(l=f,c=l.updateQueue,c!==null){var E=l.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)mm(b[c],E)}catch(L){Xt(l,l.return,L)}}r&&y&64&&Cg(f),fl(f,f.return);break;case 27:Og(f);case 26:case 5:Xi(c,f,r),r&&l===null&&y&4&&Ig(f),fl(f,f.return);break;case 12:Xi(c,f,r);break;case 13:Xi(c,f,r),r&&y&4&&Lg(c,f);break;case 22:f.memoizedState===null&&Xi(c,f,r),fl(f,f.return);break;case 30:break;default:Xi(c,f,r)}n=n.sibling}}function Nh(t,n){var r=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),t=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(t=n.memoizedState.cachePool.pool),t!==r&&(t!=null&&t.refCount++,r!=null&&$s(r))}function Oh(t,n){t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t))}function Xn(t,n,r,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)kg(t,n,r,l),n=n.sibling}function kg(t,n,r,l){var c=n.flags;switch(n.tag){case 0:case 11:case 15:Xn(t,n,r,l),c&2048&&hl(9,n);break;case 1:Xn(t,n,r,l);break;case 3:Xn(t,n,r,l),c&2048&&(t=null,n.alternate!==null&&(t=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==t&&(n.refCount++,t!=null&&$s(t)));break;case 12:if(c&2048){Xn(t,n,r,l),t=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(b){Xt(n,n.return,b)}}else Xn(t,n,r,l);break;case 13:Xn(t,n,r,l);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Xn(t,n,r,l):dl(t,n):f._visibility&2?Xn(t,n,r,l):(f._visibility|=2,Ga(t,n,r,l,(n.subtreeFlags&10256)!==0)),c&2048&&Nh(y,n);break;case 24:Xn(t,n,r,l),c&2048&&Oh(n.alternate,n);break;default:Xn(t,n,r,l)}}function Ga(t,n,r,l,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=t,y=n,E=r,b=l,L=y.flags;switch(y.tag){case 0:case 11:case 15:Ga(f,y,E,b,c),hl(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Ga(f,y,E,b,c):dl(f,y):(G._visibility|=2,Ga(f,y,E,b,c)),c&&L&2048&&Nh(y.alternate,y);break;case 24:Ga(f,y,E,b,c),c&&L&2048&&Oh(y.alternate,y);break;default:Ga(f,y,E,b,c)}n=n.sibling}}function dl(t,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=t,l=n,c=l.flags;switch(l.tag){case 22:dl(r,l),c&2048&&Nh(l.alternate,l);break;case 24:dl(r,l),c&2048&&Oh(l.alternate,l);break;default:dl(r,l)}n=n.sibling}}var ml=8192;function Qa(t){if(t.subtreeFlags&ml)for(t=t.child;t!==null;)qg(t),t=t.sibling}function qg(t){switch(t.tag){case 26:Qa(t),t.flags&ml&&t.memoizedState!==null&&hE(Nn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var n=Nn;Nn=ho(t.stateNode.containerInfo),Qa(t),Nn=n;break;case 22:t.memoizedState===null&&(n=t.alternate,n!==null&&n.memoizedState!==null?(n=ml,ml=16777216,Qa(t),ml=n):Qa(t));break;default:Qa(t)}}function jg(t){var n=t.alternate;if(n!==null&&(t=n.child,t!==null)){n.child=null;do n=t.sibling,t.sibling=null,t=n;while(t!==null)}}function gl(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Gg(l,t)}jg(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hg(t),t=t.sibling}function Hg(t){switch(t.tag){case 0:case 11:case 15:gl(t),t.flags&2048&&Yi(9,t,t.return);break;case 3:gl(t);break;case 12:gl(t);break;case 22:var n=t.stateNode;t.memoizedState!==null&&n._visibility&2&&(t.return===null||t.return.tag!==13)?(n._visibility&=-3,Wu(t)):gl(t);break;default:gl(t)}}function Wu(t){var n=t.deletions;if((t.flags&16)!==0){if(n!==null)for(var r=0;r<n.length;r++){var l=n[r];Ce=l,Gg(l,t)}jg(t)}for(t=t.child;t!==null;){switch(n=t,n.tag){case 0:case 11:case 15:Yi(8,n,n.return),Wu(n);break;case 22:r=n.stateNode,r._visibility&2&&(r._visibility&=-3,Wu(n));break;default:Wu(n)}t=t.sibling}}function Gg(t,n){for(;Ce!==null;){var r=Ce;switch(r.tag){case 0:case 11:case 15:Yi(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var l=r.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:$s(r.memoizedState.cache)}if(l=r.child,l!==null)l.return=r,Ce=l;else t:for(r=t;Ce!==null;){l=Ce;var c=l.sibling,f=l.return;if(Ug(l),l===r){Ce=null;break t}if(c!==null){c.return=f,Ce=c;break t}Ce=f}}}var D0={getCacheForType:function(t){var n=qe(ve),r=n.data.get(t);return r===void 0&&(r=t(),n.data.set(t,r)),r}},C0=typeof WeakMap=="function"?WeakMap:Map,Ht=0,$t=null,Dt=null,Ot=0,Gt=0,on=null,Zi=!1,Ka=!1,Mh=!1,wi=0,se=0,$i=0,na=0,xh=0,Rn=0,Ya=0,pl=null,Je=null,Uh=!1,zh=0,to=1/0,eo=null,Ji=null,Ue=0,Wi=null,Fa=null,Xa=0,Lh=0,Ph=null,Qg=null,yl=0,Bh=null;function cn(){if((Ht&2)!==0&&Ot!==0)return Ot&-Ot;if(H.T!==null){var t=za;return t!==0?t:Kh()}return xi()}function Kg(){Rn===0&&(Rn=(Ot&536870912)===0||Pt?ws():536870912);var t=bn.current;return t!==null&&(t.flags|=32),Rn}function hn(t,n,r){(t===$t&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)&&(Za(t,0),tr(t,Ot,Rn,!1)),ri(t,r),((Ht&2)===0||t!==$t)&&(t===$t&&((Ht&2)===0&&(na|=r),se===4&&tr(t,Ot,Rn,!1)),Zn(t))}function Yg(t,n,r){if((Ht&6)!==0)throw Error(a(327));var l=!r&&(n&124)===0&&(n&t.expiredLanes)===0||Cr(t,n),c=l?N0(t,n):jh(t,n,!0),f=l;do{if(c===0){Ka&&!l&&tr(t,n,0,!1);break}else{if(r=t.current.alternate,f&&!V0(r)){c=jh(t,n,!1),f=!1;continue}if(c===2){if(f=n,t.errorRecoveryDisabledLanes&f)var y=0;else y=t.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=t;c=pl;var b=E.current.memoizedState.isDehydrated;if(b&&(Za(E,y).flags|=256),y=jh(E,y,!1),y!==2){if(Mh&&!b){E.errorRecoveryDisabledLanes|=f,na|=f,c=4;break t}f=Je,Je=c,f!==null&&(Je===null?Je=f:Je.push.apply(Je,f))}c=y}if(f=!1,c!==2)continue}}if(c===1){Za(t,0),tr(t,n,0,!0);break}t:{switch(l=t,f=c,f){case 0:case 1:throw Error(a(345));case 4:if((n&4194048)!==n)break;case 6:tr(l,n,Rn,!Zi);break t;case 2:Je=null;break;case 3:case 5:break;default:throw Error(a(329))}if((n&62914560)===n&&(c=zh+300-mn(),10<c)){if(tr(l,n,Rn,!Zi),da(l,0,!0)!==0)break t;l.timeoutHandle=Ap(Fg.bind(null,l,r,Je,eo,Uh,n,Rn,na,Ya,Zi,f,2,-0,0),c);break t}Fg(l,r,Je,eo,Uh,n,Rn,na,Ya,Zi,f,0,-0,0)}}break}while(!0);Zn(t)}function Fg(t,n,r,l,c,f,y,E,b,L,G,K,B,k){if(t.timeoutHandle=-1,K=n.subtreeFlags,(K&8192||(K&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:cE},qg(n),K=fE(),K!==null)){t.cancelPendingCommit=K(ep.bind(null,t,n,f,r,l,c,y,E,b,G,1,B,k)),tr(t,f,y,!L);return}ep(t,n,f,r,l,c,y,E,b)}function V0(t){for(var n=t;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var l=0;l<r.length;l++){var c=r[l],f=c.getSnapshot;c=c.value;try{if(!an(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(t,n,r,l){n&=~xh,n&=~na,t.suspendedLanes|=n,t.pingedLanes&=~n,l&&(t.warmLanes|=n),l=t.expirationTimes;for(var c=n;0<c;){var f=31-ke(c),y=1<<f;l[f]=-1,c&=~y}r!==0&&Un(t,r,n)}function no(){return(Ht&6)===0?(_l(0),!1):!0}function kh(){if(Dt!==null){if(Gt===0)var t=Dt.return;else t=Dt,_i=Zr=null,ih(t),ja=null,ul=0,t=Dt;for(;t!==null;)Dg(t.alternate,t),t=t.return;Dt=null}}function Za(t,n){var r=t.timeoutHandle;r!==-1&&(t.timeoutHandle=-1,Y0(r)),r=t.cancelPendingCommit,r!==null&&(t.cancelPendingCommit=null,r()),kh(),$t=t,Dt=r=gi(t.current,null),Ot=n,Gt=0,on=null,Zi=!1,Ka=Cr(t,n),Mh=!1,Ya=Rn=xh=na=$i=se=0,Je=pl=null,Uh=!1,(n&8)!==0&&(n|=n&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=n;0<l;){var c=31-ke(l),f=1<<c;n|=t[c],l&=~f}return wi=n,bu(),r}function Xg(t,n){St=null,H.H=Hu,n===Ws||n===Mu?(n=fm(),Gt=3):n===om?(n=fm(),Gt=4):Gt=n===dg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,on=n,Dt===null&&(se=1,Fu(t,En(n,t.current)))}function Zg(){var t=H.H;return H.H=Hu,t===null?Hu:t}function $g(){var t=H.A;return H.A=D0,t}function qh(){se=4,Zi||(Ot&4194048)!==Ot&&bn.current!==null||(Ka=!0),($i&134217727)===0&&(na&134217727)===0||$t===null||tr($t,Ot,Rn,!1)}function jh(t,n,r){var l=Ht;Ht|=2;var c=Zg(),f=$g();($t!==t||Ot!==n)&&(eo=null,Za(t,n)),n=!1;var y=se;t:do try{if(Gt!==0&&Dt!==null){var E=Dt,b=on;switch(Gt){case 8:kh(),y=6;break t;case 3:case 2:case 9:case 6:bn.current===null&&(n=!0);var L=Gt;if(Gt=0,on=null,$a(t,E,b,L),r&&Ka){y=0;break t}break;default:L=Gt,Gt=0,on=null,$a(t,E,b,L)}}I0(),y=se;break}catch(G){Xg(t,G)}while(!0);return n&&t.shellSuspendCounter++,_i=Zr=null,Ht=l,H.H=c,H.A=f,Dt===null&&($t=null,Ot=0,bu()),y}function I0(){for(;Dt!==null;)Jg(Dt)}function N0(t,n){var r=Ht;Ht|=2;var l=Zg(),c=$g();$t!==t||Ot!==n?(eo=null,to=mn()+500,Za(t,n)):Ka=Cr(t,n);t:do try{if(Gt!==0&&Dt!==null){n=Dt;var f=on;e:switch(Gt){case 1:Gt=0,on=null,$a(t,n,f,1);break;case 2:case 9:if(cm(f)){Gt=0,on=null,Wg(n);break}n=function(){Gt!==2&&Gt!==9||$t!==t||(Gt=7),Zn(t)},f.then(n,n);break t;case 3:Gt=7;break t;case 4:Gt=5;break t;case 7:cm(f)?(Gt=0,on=null,Wg(n)):(Gt=0,on=null,$a(t,n,f,7));break;case 5:var y=null;switch(Dt.tag){case 26:y=Dt.memoizedState;case 5:case 27:var E=Dt;if(!y||xp(y)){Gt=0,on=null;var b=E.sibling;if(b!==null)Dt=b;else{var L=E.return;L!==null?(Dt=L,io(L)):Dt=null}break e}}Gt=0,on=null,$a(t,n,f,5);break;case 6:Gt=0,on=null,$a(t,n,f,6);break;case 8:kh(),se=6;break t;default:throw Error(a(462))}}O0();break}catch(G){Xg(t,G)}while(!0);return _i=Zr=null,H.H=l,H.A=c,Ht=r,Dt!==null?0:($t=null,Ot=0,bu(),se)}function O0(){for(;Dt!==null&&!As();)Jg(Dt)}function Jg(t){var n=Rg(t.alternate,t,wi);t.memoizedProps=t.pendingProps,n===null?io(t):Dt=n}function Wg(t){var n=t,r=n.alternate;switch(n.tag){case 15:case 0:n=vg(r,n,n.pendingProps,n.type,void 0,Ot);break;case 11:n=vg(r,n,n.pendingProps,n.type.render,n.ref,Ot);break;case 5:ih(n);default:Dg(r,n),n=Dt=tm(n,wi),n=Rg(r,n,wi)}t.memoizedProps=t.pendingProps,n===null?io(t):Dt=n}function $a(t,n,r,l){_i=Zr=null,ih(n),ja=null,ul=0;var c=n.return;try{if(T0(t,c,n,r,Ot)){se=1,Fu(t,En(r,t.current)),Dt=null;return}}catch(f){if(c!==null)throw Dt=c,f;se=1,Fu(t,En(r,t.current)),Dt=null;return}n.flags&32768?(Pt||l===1?t=!0:Ka||(Ot&536870912)!==0?t=!1:(Zi=t=!0,(l===2||l===9||l===3||l===6)&&(l=bn.current,l!==null&&l.tag===13&&(l.flags|=16384))),tp(n,t)):io(n)}function io(t){var n=t;do{if((n.flags&32768)!==0){tp(n,Zi);return}t=n.return;var r=S0(n.alternate,n,wi);if(r!==null){Dt=r;return}if(n=n.sibling,n!==null){Dt=n;return}Dt=n=t}while(n!==null);se===0&&(se=5)}function tp(t,n){do{var r=b0(t.alternate,t);if(r!==null){r.flags&=32767,Dt=r;return}if(r=t.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(t=t.sibling,t!==null)){Dt=t;return}Dt=t=r}while(t!==null);se=6,Dt=null}function ep(t,n,r,l,c,f,y,E,b){t.cancelPendingCommit=null;do ro();while(Ue!==0);if((Ht&6)!==0)throw Error(a(327));if(n!==null){if(n===t.current)throw Error(a(177));if(f=n.lanes|n.childLanes,f|=Oc,Cs(t,r,f,y,E,b),t===$t&&(Dt=$t=null,Ot=0),Fa=n,Wi=t,Xa=r,Lh=f,Ph=c,Qg=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,z0(br,function(){return sp(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=H.T,H.T=null,c=tt.p,tt.p=2,y=Ht,Ht|=4;try{R0(t,n,r)}finally{Ht=y,tt.p=c,H.T=l}}Ue=1,np(),ip(),rp()}}function np(){if(Ue===1){Ue=0;var t=Wi,n=Fa,r=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{Pg(n,t);var f=tf,y=Gd(t.containerInfo),E=f.focusedElem,b=f.selectionRange;if(y!==E&&E&&E.ownerDocument&&Hd(E.ownerDocument.documentElement,E)){if(b!==null&&Dc(E)){var L=b.start,G=b.end;if(G===void 0&&(G=L),"selectionStart"in E)E.selectionStart=L,E.selectionEnd=Math.min(G,E.value.length);else{var K=E.ownerDocument||document,B=K&&K.defaultView||window;if(B.getSelection){var k=B.getSelection(),ft=E.textContent.length,ct=Math.min(b.start,ft),Ft=b.end===void 0?ct:Math.min(b.end,ft);!k.extend&&ct>Ft&&(y=Ft,Ft=ct,ct=y);var M=jd(E,ct),C=jd(E,Ft);if(M&&C&&(k.rangeCount!==1||k.anchorNode!==M.node||k.anchorOffset!==M.offset||k.focusNode!==C.node||k.focusOffset!==C.offset)){var z=K.createRange();z.setStart(M.node,M.offset),k.removeAllRanges(),ct>Ft?(k.addRange(z),k.extend(C.node,C.offset)):(z.setEnd(C.node,C.offset),k.addRange(z))}}}}for(K=[],k=E;k=k.parentNode;)k.nodeType===1&&K.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<K.length;E++){var Q=K[E];Q.element.scrollLeft=Q.left,Q.element.scrollTop=Q.top}}yo=!!Wh,tf=Wh=null}finally{Ht=c,tt.p=l,H.T=r}}t.current=n,Ue=2}}function ip(){if(Ue===2){Ue=0;var t=Wi,n=Fa,r=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||r){r=H.T,H.T=null;var l=tt.p;tt.p=2;var c=Ht;Ht|=4;try{xg(t,n.alternate,n)}finally{Ht=c,tt.p=l,H.T=r}}Ue=3}}function rp(){if(Ue===4||Ue===3){Ue=0,Wl();var t=Wi,n=Fa,r=Xa,l=Qg;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?Ue=5:(Ue=0,Fa=Wi=null,ap(t,t.pendingLanes));var c=t.pendingLanes;if(c===0&&(Ji=null),ma(r),n=n.stateNode,jt&&typeof jt.onCommitFiberRoot=="function")try{jt.onCommitFiberRoot(re,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=H.T,c=tt.p,tt.p=2,H.T=null;try{for(var f=t.onRecoverableError,y=0;y<l.length;y++){var E=l[y];f(E.value,{componentStack:E.stack})}}finally{H.T=n,tt.p=c}}(Xa&3)!==0&&ro(),Zn(t),c=t.pendingLanes,(r&4194090)!==0&&(c&42)!==0?t===Bh?yl++:(yl=0,Bh=t):yl=0,_l(0)}}function ap(t,n){(t.pooledCacheLanes&=n)===0&&(n=t.pooledCache,n!=null&&(t.pooledCache=null,$s(n)))}function ro(t){return np(),ip(),rp(),sp()}function sp(){if(Ue!==5)return!1;var t=Wi,n=Lh;Lh=0;var r=ma(Xa),l=H.T,c=tt.p;try{tt.p=32>r?32:r,H.T=null,r=Ph,Ph=null;var f=Wi,y=Xa;if(Ue=0,Fa=Wi=null,Xa=0,(Ht&6)!==0)throw Error(a(331));var E=Ht;if(Ht|=4,Hg(f.current),kg(f,f.current,y,r),Ht=E,_l(0,!1),jt&&typeof jt.onPostCommitFiberRoot=="function")try{jt.onPostCommitFiberRoot(re,f)}catch{}return!0}finally{tt.p=c,H.T=l,ap(t,n)}}function lp(t,n,r){n=En(r,n),n=yh(t.stateNode,n,2),t=Hi(t,n,2),t!==null&&(ri(t,2),Zn(t))}function Xt(t,n,r){if(t.tag===3)lp(t,t,r);else for(;n!==null;){if(n.tag===3){lp(n,t,r);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Ji===null||!Ji.has(l))){t=En(r,t),r=hg(2),l=Hi(n,r,2),l!==null&&(fg(r,l,n,t),ri(l,2),Zn(l));break}}n=n.return}}function Hh(t,n,r){var l=t.pingCache;if(l===null){l=t.pingCache=new C0;var c=new Set;l.set(n,c)}else c=l.get(n),c===void 0&&(c=new Set,l.set(n,c));c.has(r)||(Mh=!0,c.add(r),t=M0.bind(null,t,n,r),n.then(t,t))}function M0(t,n,r){var l=t.pingCache;l!==null&&l.delete(n),t.pingedLanes|=t.suspendedLanes&r,t.warmLanes&=~r,$t===t&&(Ot&r)===r&&(se===4||se===3&&(Ot&62914560)===Ot&&300>mn()-zh?(Ht&2)===0&&Za(t,0):xh|=r,Ya===Ot&&(Ya=0)),Zn(t)}function up(t,n){n===0&&(n=Ds()),t=Oa(t,n),t!==null&&(ri(t,n),Zn(t))}function x0(t){var n=t.memoizedState,r=0;n!==null&&(r=n.retryLane),up(t,r)}function U0(t,n){var r=0;switch(t.tag){case 13:var l=t.stateNode,c=t.memoizedState;c!==null&&(r=c.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(a(314))}l!==null&&l.delete(n),up(t,r)}function z0(t,n){return Ar(t,n)}var ao=null,Ja=null,Gh=!1,so=!1,Qh=!1,ia=0;function Zn(t){t!==Ja&&t.next===null&&(Ja===null?ao=Ja=t:Ja=Ja.next=t),so=!0,Gh||(Gh=!0,P0())}function _l(t,n){if(!Qh&&so){Qh=!0;do for(var r=!1,l=ao;l!==null;){if(t!==0){var c=l.pendingLanes;if(c===0)var f=0;else{var y=l.suspendedLanes,E=l.pingedLanes;f=(1<<31-ke(42|t)+1)-1,f&=c&~(y&~E),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(r=!0,fp(l,f))}else f=Ot,f=da(l,l===$t?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Cr(l,f)||(r=!0,fp(l,f));l=l.next}while(r);Qh=!1}}function L0(){op()}function op(){so=Gh=!1;var t=0;ia!==0&&(K0()&&(t=ia),ia=0);for(var n=mn(),r=null,l=ao;l!==null;){var c=l.next,f=cp(l,n);f===0?(l.next=null,r===null?ao=c:r.next=c,c===null&&(Ja=r)):(r=l,(t!==0||(f&3)!==0)&&(so=!0)),l=c}_l(t)}function cp(t,n){for(var r=t.suspendedLanes,l=t.pingedLanes,c=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var y=31-ke(f),E=1<<y,b=c[y];b===-1?((E&r)===0||(E&l)!==0)&&(c[y]=Rs(E,n)):b<=n&&(t.expiredLanes|=E),f&=~E}if(n=$t,r=Ot,r=da(t,t===n?r:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,r===0||t===n&&(Gt===2||Gt===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Sr(l),t.callbackNode=null,t.callbackPriority=0;if((r&3)===0||Cr(t,r)){if(n=r&-r,n===t.callbackPriority)return n;switch(l!==null&&Sr(l),ma(r)){case 2:case 8:r=ha;break;case 32:r=br;break;case 268435456:r=fa;break;default:r=br}return l=hp.bind(null,t),r=Ar(r,l),t.callbackPriority=n,t.callbackNode=r,n}return l!==null&&l!==null&&Sr(l),t.callbackPriority=2,t.callbackNode=null,2}function hp(t,n){if(Ue!==0&&Ue!==5)return t.callbackNode=null,t.callbackPriority=0,null;var r=t.callbackNode;if(ro()&&t.callbackNode!==r)return null;var l=Ot;return l=da(t,t===$t?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Yg(t,l,n),cp(t,mn()),t.callbackNode!=null&&t.callbackNode===r?hp.bind(null,t):null)}function fp(t,n){if(ro())return null;Yg(t,n,!0)}function P0(){F0(function(){(Ht&6)!==0?Ar(Ss,L0):op()})}function Kh(){return ia===0&&(ia=ws()),ia}function dp(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Ea(""+t)}function mp(t,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,t.id&&r.setAttribute("form",t.id),n.parentNode.insertBefore(r,n),t=new FormData(t),r.parentNode.removeChild(r),t}function B0(t,n,r,l,c){if(n==="submit"&&r&&r.stateNode===c){var f=dp((c[he]||null).action),y=l.submitter;y&&(n=(n=y[he]||null)?dp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Ta("action","action",null,l,c);t.push({event:E,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ia!==0){var b=y?mp(c,y):new FormData(c);fh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?mp(c,y):new FormData(c),fh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var Yh=0;Yh<Nc.length;Yh++){var Fh=Nc[Yh],k0=Fh.toLowerCase(),q0=Fh[0].toUpperCase()+Fh.slice(1);In(k0,"on"+q0)}In(Yd,"onAnimationEnd"),In(Fd,"onAnimationIteration"),In(Xd,"onAnimationStart"),In("dblclick","onDoubleClick"),In("focusin","onFocus"),In("focusout","onBlur"),In(r0,"onTransitionRun"),In(a0,"onTransitionStart"),In(s0,"onTransitionCancel"),In(Zd,"onTransitionEnd"),si("onMouseEnter",["mouseout","mouseover"]),si("onMouseLeave",["mouseout","mouseover"]),si("onPointerEnter",["pointerout","pointerover"]),si("onPointerLeave",["pointerout","pointerover"]),Cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),j0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(vl));function gp(t,n){n=(n&4)!==0;for(var r=0;r<t.length;r++){var l=t[r],c=l.event;l=l.listeners;t:{var f=void 0;if(n)for(var y=l.length-1;0<=y;y--){var E=l[y],b=E.instance,L=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){Yu(G)}c.currentTarget=null,f=b}else for(y=0;y<l.length;y++){if(E=l[y],b=E.instance,L=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=L;try{f(c)}catch(G){Yu(G)}c.currentTarget=null,f=b}}}}function Ct(t,n){var r=n[Is];r===void 0&&(r=n[Is]=new Set);var l=t+"__bubble";r.has(l)||(pp(n,t,2,!1),r.add(l))}function Xh(t,n,r){var l=0;n&&(l|=4),pp(r,t,l,n)}var lo="_reactListening"+Math.random().toString(36).slice(2);function Zh(t){if(!t[lo]){t[lo]=!0,Ns.forEach(function(r){r!=="selectionchange"&&(j0.has(r)||Xh(r,!1,t),Xh(r,!0,t))});var n=t.nodeType===9?t:t.ownerDocument;n===null||n[lo]||(n[lo]=!0,Xh("selectionchange",!1,n))}}function pp(t,n,r,l){switch(kp(n)){case 2:var c=gE;break;case 8:c=pE;break;default:c=hf}r=c.bind(null,n,r,t),c=void 0,!_n||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),l?c!==void 0?t.addEventListener(n,r,{capture:!0,passive:c}):t.addEventListener(n,r,!0):c!==void 0?t.addEventListener(n,r,{passive:c}):t.addEventListener(n,r,!1)}function $h(t,n,r,l,c){var f=l;if((n&1)===0&&(n&2)===0&&l!==null)t:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var E=l.stateNode.containerInfo;if(E===c)break;if(y===4)for(y=l.return;y!==null;){var b=y.tag;if((b===3||b===4)&&y.stateNode.containerInfo===c)return;y=y.return}for(;E!==null;){if(y=ai(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){l=f=y;continue t}E=E.parentNode}}l=l.return}ou(function(){var L=f,G=yn(r),K=[];t:{var B=$d.get(t);if(B!==void 0){var k=Ta,ft=t;switch(t){case"keypress":if(qn(r)===0)break t;case"keydown":case"keyup":k=Da;break;case"focusin":ft="focus",k=ba;break;case"focusout":ft="blur",k=ba;break;case"beforeblur":case"afterblur":k=ba;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=vn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=Sc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=yu;break;case Yd:case Fd:case Xd:k=Ra;break;case Zd:k=vu;break;case"scroll":case"scrollend":k=cu;break;case"wheel":k=Ca;break;case"copy":case"cut":case"paste":k=wa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Hs;break;case"toggle":case"beforetoggle":k=Tu}var ct=(n&4)!==0,Ft=!ct&&(t==="scroll"||t==="scrollend"),M=ct?B!==null?B+"Capture":null:B;ct=[];for(var C=L,z;C!==null;){var Q=C;if(z=Q.stateNode,Q=Q.tag,Q!==5&&Q!==26&&Q!==27||z===null||M===null||(Q=zr(C,M),Q!=null&&ct.push(El(C,Q,z))),Ft)break;C=C.return}0<ct.length&&(B=new k(B,ft,null,r,G),K.push({event:B,listeners:ct}))}}if((n&7)===0){t:{if(B=t==="mouseover"||t==="pointerover",k=t==="mouseout"||t==="pointerout",B&&r!==oi&&(ft=r.relatedTarget||r.fromElement)&&(ai(ft)||ft[gn]))break t;if((k||B)&&(B=G.window===G?G:(B=G.ownerDocument)?B.defaultView||B.parentWindow:window,k?(ft=r.relatedTarget||r.toElement,k=L,ft=ft?ai(ft):null,ft!==null&&(Ft=h(ft),ct=ft.tag,ft!==Ft||ct!==5&&ct!==27&&ct!==6)&&(ft=null)):(k=null,ft=L),k!==ft)){if(ct=vn,Q="onMouseLeave",M="onMouseEnter",C="mouse",(t==="pointerout"||t==="pointerover")&&(ct=Hs,Q="onPointerLeave",M="onPointerEnter",C="pointer"),Ft=k==null?B:Ln(k),z=ft==null?B:Ln(ft),B=new ct(Q,C+"leave",k,r,G),B.target=Ft,B.relatedTarget=z,Q=null,ai(G)===L&&(ct=new ct(M,C+"enter",ft,r,G),ct.target=z,ct.relatedTarget=Ft,Q=ct),Ft=Q,k&&ft)e:{for(ct=k,M=ft,C=0,z=ct;z;z=Wa(z))C++;for(z=0,Q=M;Q;Q=Wa(Q))z++;for(;0<C-z;)ct=Wa(ct),C--;for(;0<z-C;)M=Wa(M),z--;for(;C--;){if(ct===M||M!==null&&ct===M.alternate)break e;ct=Wa(ct),M=Wa(M)}ct=null}else ct=null;k!==null&&yp(K,B,k,ct,!1),ft!==null&&Ft!==null&&yp(K,Ft,ft,ct,!0)}}t:{if(B=L?Ln(L):window,k=B.nodeName&&B.nodeName.toLowerCase(),k==="select"||k==="input"&&B.type==="file")var rt=zd;else if(_e(B))if(Ld)rt=e0;else{rt=Wv;var wt=Jv}else k=B.nodeName,!k||k.toLowerCase()!=="input"||B.type!=="checkbox"&&B.type!=="radio"?L&&zs(L.elementType)&&(rt=zd):rt=t0;if(rt&&(rt=rt(t,L))){mi(K,rt,r,G);break t}wt&&wt(t,B,L),t==="focusout"&&L&&B.type==="number"&&L.memoizedProps.value!=null&&Pi(B,"number",B.value)}switch(wt=L?Ln(L):window,t){case"focusin":(_e(wt)||wt.contentEditable==="true")&&(Va=wt,Cc=L,Ks=null);break;case"focusout":Ks=Cc=Va=null;break;case"mousedown":Vc=!0;break;case"contextmenu":case"mouseup":case"dragend":Vc=!1,Qd(K,r,G);break;case"selectionchange":if(i0)break;case"keydown":case"keyup":Qd(K,r,G)}var at;if(Gn)t:{switch(t){case"compositionstart":var ht="onCompositionStart";break t;case"compositionend":ht="onCompositionEnd";break t;case"compositionupdate":ht="onCompositionUpdate";break t}ht=void 0}else It?q(t,r)&&(ht="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(ht="onCompositionStart");ht&&(p&&r.locale!=="ko"&&(It||ht!=="onCompositionStart"?ht==="onCompositionEnd"&&It&&(at=Ps()):(kn=G,Bi="value"in kn?kn.value:kn.textContent,It=!0)),wt=uo(L,ht),0<wt.length&&(ht=new qs(ht,t,null,r,G),K.push({event:ht,listeners:wt}),at?ht.data=at:(at=W(r),at!==null&&(ht.data=at)))),(at=m?ye(t,r):Nt(t,r))&&(ht=uo(L,"onBeforeInput"),0<ht.length&&(wt=new qs("onBeforeInput","beforeinput",null,r,G),K.push({event:wt,listeners:ht}),wt.data=at)),B0(K,t,L,r,G)}gp(K,n)})}function El(t,n,r){return{instance:t,listener:n,currentTarget:r}}function uo(t,n){for(var r=n+"Capture",l=[];t!==null;){var c=t,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zr(t,r),c!=null&&l.unshift(El(t,c,f)),c=zr(t,n),c!=null&&l.push(El(t,c,f))),t.tag===3)return l;t=t.return}return[]}function Wa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function yp(t,n,r,l,c){for(var f=n._reactName,y=[];r!==null&&r!==l;){var E=r,b=E.alternate,L=E.stateNode;if(E=E.tag,b!==null&&b===l)break;E!==5&&E!==26&&E!==27||L===null||(b=L,c?(L=zr(r,f),L!=null&&y.unshift(El(r,L,b))):c||(L=zr(r,f),L!=null&&y.push(El(r,L,b)))),r=r.return}y.length!==0&&t.push({event:n,listeners:y})}var H0=/\r\n?/g,G0=/\u0000|\uFFFD/g;function _p(t){return(typeof t=="string"?t:""+t).replace(H0,`
`).replace(G0,"")}function vp(t,n){return n=_p(n),_p(t)===n}function oo(){}function Yt(t,n,r,l,c,f){switch(r){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||pn(t,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&pn(t,""+l);break;case"className":Pn(t,"class",l);break;case"tabIndex":Pn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Pn(t,r,l);break;case"style":Us(t,l,f);break;case"data":if(n!=="object"){Pn(t,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||r!=="href")){t.removeAttribute(r);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Yt(t,n,"name",c.name,c,null),Yt(t,n,"formEncType",c.formEncType,c,null),Yt(t,n,"formMethod",c.formMethod,c,null),Yt(t,n,"formTarget",c.formTarget,c,null)):(Yt(t,n,"encType",c.encType,c,null),Yt(t,n,"method",c.method,c,null),Yt(t,n,"target",c.target,c,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(r);break}l=Ea(""+l),t.setAttribute(r,l);break;case"onClick":l!=null&&(t.onclick=oo);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}r=Ea(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""+l):t.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,""):t.removeAttribute(r);break;case"capture":case"download":l===!0?t.setAttribute(r,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(r,l):t.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(r,l):t.removeAttribute(r);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(r):t.setAttribute(r,l);break;case"popover":Ct("beforetoggle",t),Ct("toggle",t),Li(t,"popover",l);break;case"xlinkActuate":Oe(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Oe(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Oe(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Oe(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Oe(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Oe(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Oe(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Li(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=Tc.get(r)||r,Li(t,r,l))}}function Jh(t,n,r,l,c,f){switch(r){case"style":Us(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(a(61));if(r=l.__html,r!=null){if(c.children!=null)throw Error(a(60));t.innerHTML=r}}break;case"children":typeof l=="string"?pn(t,l):(typeof l=="number"||typeof l=="bigint")&&pn(t,""+l);break;case"onScroll":l!=null&&Ct("scroll",t);break;case"onScrollEnd":l!=null&&Ct("scrollend",t);break;case"onClick":l!=null&&(t.onclick=oo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ga.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=t[he]||null,f=f!=null?f[r]:null,typeof f=="function"&&t.removeEventListener(n,f,c),typeof l=="function")){typeof f!="function"&&f!==null&&(r in t?t[r]=null:t.hasAttribute(r)&&t.removeAttribute(r)),t.addEventListener(n,l,c);break t}r in t?t[r]=l:l===!0?t.setAttribute(r,""):Li(t,r,l)}}}function ze(t,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ct("error",t),Ct("load",t);var l=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":l=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,f,y,r,null)}}c&&Yt(t,n,"srcSet",r.srcSet,r,null),l&&Yt(t,n,"src",r.src,r,null);return;case"input":Ct("invalid",t);var E=f=y=c=null,b=null,L=null;for(l in r)if(r.hasOwnProperty(l)){var G=r[l];if(G!=null)switch(l){case"name":c=G;break;case"type":y=G;break;case"checked":b=G;break;case"defaultChecked":L=G;break;case"value":f=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(a(137,n));break;default:Yt(t,n,l,G,r,null)}}Mr(t,f,E,b,L,y,c,!1),va(t);return;case"select":Ct("invalid",t),l=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":l=E;default:Yt(t,n,c,E,r,null)}n=f,r=y,t.multiple=!!l,n!=null?ui(t,!!l,n,!1):r!=null&&ui(t,!!l,r,!0);return;case"textarea":Ct("invalid",t),f=c=l=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":l=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(a(91));break;default:Yt(t,n,y,E,r,null)}xr(t,l,c,f),va(t);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(l=r[b],l!=null))switch(b){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Yt(t,n,b,l,r,null)}return;case"dialog":Ct("beforetoggle",t),Ct("toggle",t),Ct("cancel",t),Ct("close",t);break;case"iframe":case"object":Ct("load",t);break;case"video":case"audio":for(l=0;l<vl.length;l++)Ct(vl[l],t);break;case"image":Ct("error",t),Ct("load",t);break;case"details":Ct("toggle",t);break;case"embed":case"source":case"link":Ct("error",t),Ct("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(L in r)if(r.hasOwnProperty(L)&&(l=r[L],l!=null))switch(L){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,n));default:Yt(t,n,L,l,r,null)}return;default:if(zs(n)){for(G in r)r.hasOwnProperty(G)&&(l=r[G],l!==void 0&&Jh(t,n,G,l,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(l=r[E],l!=null&&Yt(t,n,E,l,r,null))}function Q0(t,n,r,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,L=null,G=null;for(k in r){var K=r[k];if(r.hasOwnProperty(k)&&K!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":b=K;default:l.hasOwnProperty(k)||Yt(t,n,k,null,l,K)}}for(var B in l){var k=l[B];if(K=r[B],l.hasOwnProperty(B)&&(k!=null||K!=null))switch(B){case"type":f=k;break;case"name":c=k;break;case"checked":L=k;break;case"defaultChecked":G=k;break;case"value":y=k;break;case"defaultValue":E=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,n));break;default:k!==K&&Yt(t,n,B,k,l,K)}}rn(t,y,E,b,L,G,f,c);return;case"select":k=y=E=B=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":k=b;default:l.hasOwnProperty(f)||Yt(t,n,f,null,l,b)}for(c in l)if(f=l[c],b=r[c],l.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":B=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Yt(t,n,c,f,l,b)}n=E,r=y,l=k,B!=null?ui(t,!!r,B,!1):!!l!=!!r&&(n!=null?ui(t,!!r,n,!0):ui(t,!!r,r?[]:"",!1));return;case"textarea":k=B=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!l.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Yt(t,n,E,null,l,c)}for(y in l)if(c=l[y],f=r[y],l.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":B=c;break;case"defaultValue":k=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(a(91));break;default:c!==f&&Yt(t,n,y,c,l,f)}Qt(t,B,k);return;case"option":for(var ft in r)if(B=r[ft],r.hasOwnProperty(ft)&&B!=null&&!l.hasOwnProperty(ft))switch(ft){case"selected":t.selected=!1;break;default:Yt(t,n,ft,null,l,B)}for(b in l)if(B=l[b],k=r[b],l.hasOwnProperty(b)&&B!==k&&(B!=null||k!=null))switch(b){case"selected":t.selected=B&&typeof B!="function"&&typeof B!="symbol";break;default:Yt(t,n,b,B,l,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ct in r)B=r[ct],r.hasOwnProperty(ct)&&B!=null&&!l.hasOwnProperty(ct)&&Yt(t,n,ct,null,l,B);for(L in l)if(B=l[L],k=r[L],l.hasOwnProperty(L)&&B!==k&&(B!=null||k!=null))switch(L){case"children":case"dangerouslySetInnerHTML":if(B!=null)throw Error(a(137,n));break;default:Yt(t,n,L,B,l,k)}return;default:if(zs(n)){for(var Ft in r)B=r[Ft],r.hasOwnProperty(Ft)&&B!==void 0&&!l.hasOwnProperty(Ft)&&Jh(t,n,Ft,void 0,l,B);for(G in l)B=l[G],k=r[G],!l.hasOwnProperty(G)||B===k||B===void 0&&k===void 0||Jh(t,n,G,B,l,k);return}}for(var M in r)B=r[M],r.hasOwnProperty(M)&&B!=null&&!l.hasOwnProperty(M)&&Yt(t,n,M,null,l,B);for(K in l)B=l[K],k=r[K],!l.hasOwnProperty(K)||B===k||B==null&&k==null||Yt(t,n,K,B,l,k)}var Wh=null,tf=null;function co(t){return t.nodeType===9?t:t.ownerDocument}function Ep(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Tp(t,n){if(t===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&n==="foreignObject"?0:t}function ef(t,n){return t==="textarea"||t==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var nf=null;function K0(){var t=window.event;return t&&t.type==="popstate"?t===nf?!1:(nf=t,!0):(nf=null,!1)}var Ap=typeof setTimeout=="function"?setTimeout:void 0,Y0=typeof clearTimeout=="function"?clearTimeout:void 0,Sp=typeof Promise=="function"?Promise:void 0,F0=typeof queueMicrotask=="function"?queueMicrotask:typeof Sp<"u"?function(t){return Sp.resolve(null).then(t).catch(X0)}:Ap;function X0(t){setTimeout(function(){throw t})}function er(t){return t==="head"}function bp(t,n){var r=n,l=0,c=0;do{var f=r.nextSibling;if(t.removeChild(r),f&&f.nodeType===8)if(r=f.data,r==="/$"){if(0<l&&8>l){r=l;var y=t.ownerDocument;if(r&1&&Tl(y.documentElement),r&2&&Tl(y.body),r&4)for(r=y.head,Tl(r),y=r.firstChild;y;){var E=y.nextSibling,b=y.nodeName;y[Vr]||b==="SCRIPT"||b==="STYLE"||b==="LINK"&&y.rel.toLowerCase()==="stylesheet"||r.removeChild(y),y=E}}if(c===0){t.removeChild(f),Vl(n);return}c--}else r==="$"||r==="$?"||r==="$!"?c++:l=r.charCodeAt(0)-48;else l=0;r=f}while(r);Vl(n)}function rf(t){var n=t.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":rf(r),zi(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}t.removeChild(r)}}function Z0(t,n,r,l){for(;t.nodeType===1;){var c=r;if(t.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[Vr])switch(n){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==c.rel||t.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||t.getAttribute("title")!==(c.title==null?null:c.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(c.src==null?null:c.src)||t.getAttribute("type")!==(c.type==null?null:c.type)||t.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(n==="input"&&t.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=On(t.nextSibling),t===null)break}return null}function $0(t,n,r){if(n==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!r||(t=On(t.nextSibling),t===null))return null;return t}function af(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function J0(t,n){var r=t.ownerDocument;if(t.data!=="$?"||r.readyState==="complete")n();else{var l=function(){n(),r.removeEventListener("DOMContentLoaded",l)};r.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function On(t){for(;t!=null;t=t.nextSibling){var n=t.nodeType;if(n===1||n===3)break;if(n===8){if(n=t.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return t}var sf=null;function Rp(t){t=t.previousSibling;for(var n=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return t;n--}else r==="/$"&&n++}t=t.previousSibling}return null}function wp(t,n,r){switch(n=co(r),t){case"html":if(t=n.documentElement,!t)throw Error(a(452));return t;case"head":if(t=n.head,!t)throw Error(a(453));return t;case"body":if(t=n.body,!t)throw Error(a(454));return t;default:throw Error(a(451))}}function Tl(t){for(var n=t.attributes;n.length;)t.removeAttributeNode(n[0]);zi(t)}var wn=new Map,Dp=new Set;function ho(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var Di=tt.d;tt.d={f:W0,r:tE,D:eE,C:nE,L:iE,m:rE,X:sE,S:aE,M:lE};function W0(){var t=Di.f(),n=no();return t||n}function tE(t){var n=zn(t);n!==null&&n.tag===5&&n.type==="form"?Ym(n):Di.r(t)}var ts=typeof document>"u"?null:document;function Cp(t,n,r){var l=ts;if(l&&typeof n=="string"&&n){var c=fe(n);c='link[rel="'+t+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),Dp.has(c)||(Dp.add(c),t={rel:t,crossOrigin:r,href:n},l.querySelector(c)===null&&(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function eE(t){Di.D(t),Cp("dns-prefetch",t,null)}function nE(t,n){Di.C(t,n),Cp("preconnect",t,n)}function iE(t,n,r){Di.L(t,n,r);var l=ts;if(l&&t&&n){var c='link[rel="preload"][as="'+fe(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+fe(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+fe(r.imageSizes)+'"]')):c+='[href="'+fe(t)+'"]';var f=c;switch(n){case"style":f=es(t);break;case"script":f=ns(t)}wn.has(f)||(t=A({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:t,as:n},r),wn.set(f,t),l.querySelector(c)!==null||n==="style"&&l.querySelector(Al(f))||n==="script"&&l.querySelector(Sl(f))||(n=l.createElement("link"),ze(n,"link",t),le(n),l.head.appendChild(n)))}}function rE(t,n){Di.m(t,n);var r=ts;if(r&&t){var l=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+fe(l)+'"][href="'+fe(t)+'"]',f=c;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=ns(t)}if(!wn.has(f)&&(t=A({rel:"modulepreload",href:t},n),wn.set(f,t),r.querySelector(c)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Sl(f)))return}l=r.createElement("link"),ze(l,"link",t),le(l),r.head.appendChild(l)}}}function aE(t,n,r){Di.S(t,n,r);var l=ts;if(l&&t){var c=Ke(l).hoistableStyles,f=es(t);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=l.querySelector(Al(f)))E.loading=5;else{t=A({rel:"stylesheet",href:t,"data-precedence":n},r),(r=wn.get(f))&&lf(t,r);var b=y=l.createElement("link");le(b),ze(b,"link",t),b._p=new Promise(function(L,G){b.onload=L,b.onerror=G}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,fo(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function sE(t,n){Di.X(t,n);var r=ts;if(r&&t){var l=Ke(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0},n),(n=wn.get(c))&&uf(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function lE(t,n){Di.M(t,n);var r=ts;if(r&&t){var l=Ke(r).hoistableScripts,c=ns(t),f=l.get(c);f||(f=r.querySelector(Sl(c)),f||(t=A({src:t,async:!0,type:"module"},n),(n=wn.get(c))&&uf(t,n),f=r.createElement("script"),le(f),ze(f,"link",t),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(c,f))}}function Vp(t,n,r,l){var c=(c=mt.current)?ho(c):null;if(!c)throw Error(a(446));switch(t){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=es(r.href),r=Ke(c).hoistableStyles,l=r.get(n),l||(l={type:"style",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){t=es(r.href);var f=Ke(c).hoistableStyles,y=f.get(t);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,y),(f=c.querySelector(Al(t)))&&!f._p&&(y.instance=f,y.state.loading=5),wn.has(t)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},wn.set(t,r),f||uE(c,t,r,y.state))),n&&l===null)throw Error(a(528,""));return y}if(n&&l!==null)throw Error(a(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=ns(r),r=Ke(c).hoistableScripts,l=r.get(n),l||(l={type:"script",instance:null,count:0,state:null},r.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,t))}}function es(t){return'href="'+fe(t)+'"'}function Al(t){return'link[rel="stylesheet"]['+t+"]"}function Ip(t){return A({},t,{"data-precedence":t.precedence,precedence:null})}function uE(t,n,r,l){t.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=t.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),ze(n,"link",r),le(n),t.head.appendChild(n))}function ns(t){return'[src="'+fe(t)+'"]'}function Sl(t){return"script[async]"+t}function Np(t,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var l=t.querySelector('style[data-href~="'+fe(r.href)+'"]');if(l)return n.instance=l,le(l),l;var c=A({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),le(l),ze(l,"style",c),fo(l,r.precedence,t),n.instance=l;case"stylesheet":c=es(r.href);var f=t.querySelector(Al(c));if(f)return n.state.loading|=4,n.instance=f,le(f),f;l=Ip(r),(c=wn.get(c))&&lf(l,c),f=(t.ownerDocument||t).createElement("link"),le(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",l),n.state.loading|=4,fo(f,r.precedence,t),n.instance=f;case"script":return f=ns(r.src),(c=t.querySelector(Sl(f)))?(n.instance=c,le(c),c):(l=r,(c=wn.get(f))&&(l=A({},r),uf(l,c)),t=t.ownerDocument||t,c=t.createElement("script"),le(c),ze(c,"link",l),t.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(a(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,fo(l,r.precedence,t));return n.instance}function fo(t,n,r){for(var l=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=l.length?l[l.length-1]:null,f=c,y=0;y<l.length;y++){var E=l[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(t,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(t,n.firstChild))}function lf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.title==null&&(t.title=n.title)}function uf(t,n){t.crossOrigin==null&&(t.crossOrigin=n.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=n.referrerPolicy),t.integrity==null&&(t.integrity=n.integrity)}var mo=null;function Op(t,n,r){if(mo===null){var l=new Map,c=mo=new Map;c.set(r,l)}else c=mo,l=c.get(r),l||(l=new Map,c.set(r,l));if(l.has(t))return l;for(l.set(t,null),r=r.getElementsByTagName(t),c=0;c<r.length;c++){var f=r[c];if(!(f[Vr]||f[pe]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=t+y;var E=l.get(y);E?E.push(f):l.set(y,[f])}}return l}function Mp(t,n,r){t=t.ownerDocument||t,t.head.insertBefore(r,n==="title"?t.querySelector("head > title"):null)}function oE(t,n,r){if(r===1||n.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return t=n.disabled,typeof n.precedence=="string"&&t==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function xp(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var bl=null;function cE(){}function hE(t,n,r){if(bl===null)throw Error(a(475));var l=bl;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var c=es(r.href),f=t.querySelector(Al(c));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=go.bind(l),t.then(l,l)),n.state.loading|=4,n.instance=f,le(f);return}f=t.ownerDocument||t,r=Ip(r),(c=wn.get(c))&&lf(r,c),f=f.createElement("link"),le(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ze(f,"link",r),n.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(l.count++,n=go.bind(l),t.addEventListener("load",n),t.addEventListener("error",n))}}function fE(){if(bl===null)throw Error(a(475));var t=bl;return t.stylesheets&&t.count===0&&of(t,t.stylesheets),0<t.count?function(n){var r=setTimeout(function(){if(t.stylesheets&&of(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=n,function(){t.unsuspend=null,clearTimeout(r)}}:null}function go(){if(this.count--,this.count===0){if(this.stylesheets)of(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var po=null;function of(t,n){t.stylesheets=null,t.unsuspend!==null&&(t.count++,po=new Map,n.forEach(dE,t),po=null,go.call(t))}function dE(t,n){if(!(n.state.loading&4)){var r=po.get(t);if(r)var l=r.get(null);else{r=new Map,po.set(t,r);for(var c=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),l=y)}l&&r.set(null,l)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||l,f===l&&r.set(null,c),r.set(y,c),this.count++,l=go.bind(this),c.addEventListener("load",l),c.addEventListener("error",l),f?f.parentNode.insertBefore(c,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(c,t.firstChild)),n.state.loading|=4}}var Rl={$$typeof:gt,Provider:null,Consumer:null,_currentValue:st,_currentValue2:st,_threadCount:0};function mE(t,n,r,l,c,f,y,E){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ii(0),this.hiddenUpdates=ii(null),this.identifierPrefix=l,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function Up(t,n,r,l,c,f,y,E,b,L,G,K){return t=new mE(t,n,r,y,E,b,L,K),n=1,f===!0&&(n|=24),f=sn(3,null,null,n),t.current=f,f.stateNode=t,n=Hc(),n.refCount++,t.pooledCache=n,n.refCount++,f.memoizedState={element:l,isDehydrated:r,cache:n},Yc(f),t}function zp(t){return t?(t=Ma,t):Ma}function Lp(t,n,r,l,c,f){c=zp(c),l.context===null?l.context=c:l.pendingContext=c,l=ji(n),l.payload={element:r},f=f===void 0?null:f,f!==null&&(l.callback=f),r=Hi(t,l,n),r!==null&&(hn(r,t,n),el(r,t,n))}function Pp(t,n){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<n?r:n}}function cf(t,n){Pp(t,n),(t=t.alternate)&&Pp(t,n)}function Bp(t){if(t.tag===13){var n=Oa(t,67108864);n!==null&&hn(n,t,67108864),cf(t,67108864)}}var yo=!0;function gE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=2,hf(t,n,r,l)}finally{tt.p=f,H.T=c}}function pE(t,n,r,l){var c=H.T;H.T=null;var f=tt.p;try{tt.p=8,hf(t,n,r,l)}finally{tt.p=f,H.T=c}}function hf(t,n,r,l){if(yo){var c=ff(l);if(c===null)$h(t,n,l,_o,r),qp(t,l);else if(_E(c,t,n,r,l))l.stopPropagation();else if(qp(t,l),n&4&&-1<yE.indexOf(t)){for(;c!==null;){var f=zn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=Dn(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-ke(y);E.entanglements[1]|=b,y&=~b}Zn(f),(Ht&6)===0&&(to=mn()+500,_l(0))}}break;case 13:E=Oa(f,2),E!==null&&hn(E,f,2),no(),cf(f,2)}if(f=ff(l),f===null&&$h(t,n,l,_o,r),f===c)break;c=f}c!==null&&l.stopPropagation()}else $h(t,n,l,null,r)}}function ff(t){return t=yn(t),df(t)}var _o=null;function df(t){if(_o=null,t=ai(t),t!==null){var n=h(t);if(n===null)t=null;else{var r=n.tag;if(r===13){if(t=d(n),t!==null)return t;t=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;t=null}else n!==t&&(t=null)}}return _o=t,null}function kp(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gc()){case Ss:return 2;case ha:return 8;case br:case pc:return 32;case fa:return 268435456;default:return 32}default:return 32}}var mf=!1,nr=null,ir=null,rr=null,wl=new Map,Dl=new Map,ar=[],yE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qp(t,n){switch(t){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ir=null;break;case"mouseover":case"mouseout":rr=null;break;case"pointerover":case"pointerout":wl.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(n.pointerId)}}function Cl(t,n,r,l,c,f){return t===null||t.nativeEvent!==f?(t={blockedOn:n,domEventName:r,eventSystemFlags:l,nativeEvent:f,targetContainers:[c]},n!==null&&(n=zn(n),n!==null&&Bp(n)),t):(t.eventSystemFlags|=l,n=t.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),t)}function _E(t,n,r,l,c){switch(n){case"focusin":return nr=Cl(nr,t,n,r,l,c),!0;case"dragenter":return ir=Cl(ir,t,n,r,l,c),!0;case"mouseover":return rr=Cl(rr,t,n,r,l,c),!0;case"pointerover":var f=c.pointerId;return wl.set(f,Cl(wl.get(f)||null,t,n,r,l,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Cl(Dl.get(f)||null,t,n,r,l,c)),!0}return!1}function jp(t){var n=ai(t.target);if(n!==null){var r=h(n);if(r!==null){if(n=r.tag,n===13){if(n=d(r),n!==null){t.blockedOn=n,nu(t.priority,function(){if(r.tag===13){var l=cn();l=Mi(l);var c=Oa(r,l);c!==null&&hn(c,r,l),cf(r,l)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vo(t){if(t.blockedOn!==null)return!1;for(var n=t.targetContainers;0<n.length;){var r=ff(t.nativeEvent);if(r===null){r=t.nativeEvent;var l=new r.constructor(r.type,r);oi=l,r.target.dispatchEvent(l),oi=null}else return n=zn(r),n!==null&&Bp(n),t.blockedOn=r,!1;n.shift()}return!0}function Hp(t,n,r){vo(t)&&r.delete(n)}function vE(){mf=!1,nr!==null&&vo(nr)&&(nr=null),ir!==null&&vo(ir)&&(ir=null),rr!==null&&vo(rr)&&(rr=null),wl.forEach(Hp),Dl.forEach(Hp)}function Eo(t,n){t.blockedOn===n&&(t.blockedOn=null,mf||(mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,vE)))}var To=null;function Gp(t){To!==t&&(To=t,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){To===t&&(To=null);for(var n=0;n<t.length;n+=3){var r=t[n],l=t[n+1],c=t[n+2];if(typeof l!="function"){if(df(l||r)===null)continue;break}var f=zn(r);f!==null&&(t.splice(n,3),n-=3,fh(f,{pending:!0,data:c,method:r.method,action:l},l,c))}}))}function Vl(t){function n(b){return Eo(b,t)}nr!==null&&Eo(nr,t),ir!==null&&Eo(ir,t),rr!==null&&Eo(rr,t),wl.forEach(n),Dl.forEach(n);for(var r=0;r<ar.length;r++){var l=ar[r];l.blockedOn===t&&(l.blockedOn=null)}for(;0<ar.length&&(r=ar[0],r.blockedOn===null);)jp(r),r.blockedOn===null&&ar.shift();if(r=(t.ownerDocument||t).$$reactFormReplay,r!=null)for(l=0;l<r.length;l+=3){var c=r[l],f=r[l+1],y=c[he]||null;if(typeof f=="function")y||Gp(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[he]||null)E=y.formAction;else if(df(c)!==null)continue}else E=y.action;typeof E=="function"?r[l+1]=E:(r.splice(l,3),l-=3),Gp(r)}}}function gf(t){this._internalRoot=t}Ao.prototype.render=gf.prototype.render=function(t){var n=this._internalRoot;if(n===null)throw Error(a(409));var r=n.current,l=cn();Lp(r,l,t,n,null,null)},Ao.prototype.unmount=gf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var n=t.containerInfo;Lp(t.current,2,null,t,null,null),no(),n[gn]=null}};function Ao(t){this._internalRoot=t}Ao.prototype.unstable_scheduleHydration=function(t){if(t){var n=xi();t={blockedOn:null,target:t,priority:n};for(var r=0;r<ar.length&&n!==0&&n<ar[r].priority;r++);ar.splice(r,0,t),r===0&&jp(t)}};var Qp=e.version;if(Qp!=="19.1.0")throw Error(a(527,Qp,"19.1.0"));tt.findDOMNode=function(t){var n=t._reactInternals;if(n===void 0)throw typeof t.render=="function"?Error(a(188)):(t=Object.keys(t).join(","),Error(a(268,t)));return t=v(n),t=t!==null?_(t):null,t=t===null?null:t.stateNode,t};var EE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var So=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!So.isDisabled&&So.supportsFiber)try{re=So.inject(EE),jt=So}catch{}}return Nl.createRoot=function(t,n){if(!u(t))throw Error(a(299));var r=!1,l="",c=lg,f=ug,y=og,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=Up(t,1,!1,null,null,r,l,c,f,y,E,null),t[gn]=n.current,Zh(t),new gf(n)},Nl.hydrateRoot=function(t,n,r){if(!u(t))throw Error(a(299));var l=!1,c="",f=lg,y=ug,E=og,b=null,L=null;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(L=r.formState)),n=Up(t,1,!0,n,r??null,l,c,f,y,E,b,L),n.context=zp(null),r=n.current,l=cn(),l=Mi(l),c=ji(l),c.callback=null,Hi(r,c,l),r=l,n.current.lanes=r,ri(n,r),Zn(n),t[gn]=n.current,Zh(t),new Ao(n)},Nl.version="19.1.0",Nl}var ey;function IE(){if(ey)return _f.exports;ey=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(e){console.error(e)}}return s(),_f.exports=VE(),_f.exports}var NE=IE();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OE=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ME=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,i,a)=>a?a.toUpperCase():i.toLowerCase()),ny=s=>{const e=ME(s);return e.charAt(0).toUpperCase()+e.slice(1)},f_=(...s)=>s.filter((e,i,a)=>!!e&&e.trim()!==""&&a.indexOf(e)===i).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var xE={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UE=en.forwardRef(({color:s="currentColor",size:e=24,strokeWidth:i=2,absoluteStrokeWidth:a,className:u="",children:h,iconNode:d,...g},v)=>en.createElement("svg",{ref:v,...xE,width:e,height:e,stroke:s,strokeWidth:a?Number(i)*24/Number(e):i,className:f_("lucide",u),...g},[...d.map(([_,A])=>en.createElement(_,A)),...Array.isArray(h)?h:[h]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const td=(s,e)=>{const i=en.forwardRef(({className:a,...u},h)=>en.createElement(UE,{ref:h,iconNode:e,className:f_(`lucide-${OE(ny(s))}`,`lucide-${s}`,a),...u}));return i.displayName=ny(s),i};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zE=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],LE=td("pencil",zE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],BE=td("plus",PE);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],qE=td("trash-2",kE),jE={sm:"text-xl",md:"text-2xl",lg:"text-3xl",xl:"text-4xl"},HE=({text:s,size:e="md",className:i=""})=>Et.jsx("h1",{className:`${jE[e]} font-bold text-gray-800 ${i}`,children:s}),GE={sm:"text-sm",md:"text-base",lg:"text-lg"},QE=({text:s,size:e="md",className:i=""})=>Et.jsx("p",{className:`${GE[e]} text-gray-600 ${i}`,children:s});function d_(s){var e,i,a="";if(typeof s=="string"||typeof s=="number")a+=s;else if(typeof s=="object")if(Array.isArray(s)){var u=s.length;for(e=0;e<u;e++)s[e]&&(i=d_(s[e]))&&(a&&(a+=" "),a+=i)}else for(i in s)s[i]&&(a&&(a+=" "),a+=i);return a}function KE(){for(var s,e,i=0,a="",u=arguments.length;i<u;i++)(s=arguments[i])&&(e=d_(s))&&(a&&(a+=" "),a+=e);return a}const YE="inline-flex items-center justify-center gap-2 m-1 rounded-xl font-medium transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed",FE={primary:"bg-green-600 text-white hover:bg-green-700 focus:ring-green-500",secondary:"bg-blue-500 text-white hover:bg-blue-600 focus:ring-blue-400",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"},XE={sm:"px-3 py-1 text-sm",md:"px-4 py-2 text-base",lg:"px-5 py-3 text-lg"},kl=({variant:s="primary",size:e="md",className:i="",children:a,leftIcon:u,...h})=>Et.jsxs("button",{className:KE(YE,FE[s],XE[e],i),...h,children:[u&&Et.jsx("span",{className:"mr-1",children:u}),a]}),ZE=({title:s,description:e,completed:i=!1,onEdit:a,onToggle:u,onDelete:h})=>Et.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-4 flex gap-4 border border-gray-100 hover:shadow-lg transition",children:[Et.jsx("div",{className:"flex items-center justify-center",children:Et.jsx("input",{type:"checkbox",checked:i,onChange:u,className:"w-10 h-10 accent-green-600"})}),Et.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[Et.jsx("h3",{className:`font-semibold text-lg ${i?"line-through text-gray-400":"text-gray-800"}`,children:s}),e&&Et.jsx("p",{className:`text-sm mt-1 ${i?"text-gray-300":"text-gray-600"}`,children:e})]}),Et.jsxs("div",{className:"flex flex-col",children:[a&&Et.jsx(kl,{variant:"secondary",onClick:a,leftIcon:Et.jsx(LE,{size:16}),children:"Edit"}),h&&Et.jsx(kl,{variant:"danger",onClick:h,leftIcon:Et.jsx(qE,{size:16}),children:"Delete"})]})]}),$E=({isOpen:s,onClose:e,onSubmit:i,mode:a="add",editData:u})=>{const[h,d]=en.useState(""),[g,v]=en.useState(""),[_,A]=en.useState({});en.useEffect(()=>{a==="edit"&&u?(d(u.title),v(u.description)):(d(""),v("")),A({})},[u,a,s]);const V=()=>{const j={};return h.trim()||(j.title="Title is required."),g.trim()||(j.description="Description is required."),A(j),Object.keys(j).length===0},P=()=>{if(V()){if(a==="edit"&&u)i({id:u.id,title:h.trim(),description:g.trim(),completed:u.completed});else{const j={id:(u==null?void 0:u.id)||crypto.randomUUID(),title:h.trim(),description:g.trim(),completed:(u==null?void 0:u.completed)??!1};i(j)}e()}};return s?Et.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50",children:Et.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg w-full max-w-md space-y-4",children:[Et.jsx("h2",{className:"text-xl font-bold text-gray-800",children:a==="edit"?"Edit Todo":"Add New Todo"}),Et.jsxs("div",{className:"space-y-2",children:[Et.jsxs("div",{children:[Et.jsx("input",{type:"text",placeholder:"Title",className:`w-full border rounded-lg px-3 py-2 focus:outline-none ${_.title?"border-red-500 focus:ring-red-400":"border-gray-300 focus:ring-2 focus:ring-blue-500"}`,value:h,onChange:j=>d(j.target.value)}),_.title&&Et.jsx("p",{className:"text-red-500 text-sm",children:_.title})]}),Et.jsxs("div",{children:[Et.jsx("textarea",{placeholder:"Description",className:`w-full border rounded-lg px-3 py-2 focus:outline-none ${_.description?"border-red-500 focus:ring-red-400":"border-gray-300 focus:ring-2 focus:ring-blue-500"}`,rows:3,value:g,onChange:j=>v(j.target.value)}),_.description&&Et.jsx("p",{className:"text-red-500 text-sm",children:_.description})]})]}),Et.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[Et.jsx(kl,{variant:"danger",onClick:e,children:"Cancel"}),Et.jsx(kl,{onClick:P,children:a==="edit"?"Save Changes":"Add Todo"})]})]})}):null},JE=()=>{};var iy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m_=function(s){const e=[];let i=0;for(let a=0;a<s.length;a++){let u=s.charCodeAt(a);u<128?e[i++]=u:u<2048?(e[i++]=u>>6|192,e[i++]=u&63|128):(u&64512)===55296&&a+1<s.length&&(s.charCodeAt(a+1)&64512)===56320?(u=65536+((u&1023)<<10)+(s.charCodeAt(++a)&1023),e[i++]=u>>18|240,e[i++]=u>>12&63|128,e[i++]=u>>6&63|128,e[i++]=u&63|128):(e[i++]=u>>12|224,e[i++]=u>>6&63|128,e[i++]=u&63|128)}return e},WE=function(s){const e=[];let i=0,a=0;for(;i<s.length;){const u=s[i++];if(u<128)e[a++]=String.fromCharCode(u);else if(u>191&&u<224){const h=s[i++];e[a++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=s[i++],d=s[i++],g=s[i++],v=((u&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;e[a++]=String.fromCharCode(55296+(v>>10)),e[a++]=String.fromCharCode(56320+(v&1023))}else{const h=s[i++],d=s[i++];e[a++]=String.fromCharCode((u&15)<<12|(h&63)<<6|d&63)}}return e.join("")},g_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(s,e){if(!Array.isArray(s))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let u=0;u<s.length;u+=3){const h=s[u],d=u+1<s.length,g=d?s[u+1]:0,v=u+2<s.length,_=v?s[u+2]:0,A=h>>2,V=(h&3)<<4|g>>4;let P=(g&15)<<2|_>>6,j=_&63;v||(j=64,d||(P=64)),a.push(i[A],i[V],i[P],i[j])}return a.join("")},encodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(s):this.encodeByteArray(m_(s),e)},decodeString(s,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(s):WE(this.decodeStringToByteArray(s,e))},decodeStringToByteArray(s,e){this.init_();const i=e?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let u=0;u<s.length;){const h=i[s.charAt(u++)],g=u<s.length?i[s.charAt(u)]:0;++u;const _=u<s.length?i[s.charAt(u)]:64;++u;const V=u<s.length?i[s.charAt(u)]:64;if(++u,h==null||g==null||_==null||V==null)throw new tT;const P=h<<2|g>>4;if(a.push(P),_!==64){const j=g<<4&240|_>>2;if(a.push(j),V!==64){const F=_<<6&192|V;a.push(F)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let s=0;s<this.ENCODED_VALS.length;s++)this.byteToCharMap_[s]=this.ENCODED_VALS.charAt(s),this.charToByteMap_[this.byteToCharMap_[s]]=s,this.byteToCharMapWebSafe_[s]=this.ENCODED_VALS_WEBSAFE.charAt(s),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[s]]=s,s>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(s)]=s,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(s)]=s)}}};class tT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const eT=function(s){const e=m_(s);return g_.encodeByteArray(e,!0)},zo=function(s){return eT(s).replace(/\./g,"")},nT=function(s){try{return g_.decodeString(s,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rT=()=>iT().__FIREBASE_DEFAULTS__,aT=()=>{if(typeof process>"u"||typeof iy>"u")return;const s=iy.__FIREBASE_DEFAULTS__;if(s)return JSON.parse(s)},sT=()=>{if(typeof document>"u")return;let s;try{s=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=s&&nT(s[1]);return e&&JSON.parse(e)},ed=()=>{try{return JE()||rT()||aT()||sT()}catch(s){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${s}`);return}},lT=s=>{var e,i;return(i=(e=ed())===null||e===void 0?void 0:e.emulatorHosts)===null||i===void 0?void 0:i[s]},uT=s=>{const e=lT(s);if(!e)return;const i=e.lastIndexOf(":");if(i<=0||i+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const a=parseInt(e.substring(i+1),10);return e[0]==="["?[e.substring(1,i-1),a]:[e.substring(0,i),a]},p_=()=>{var s;return(s=ed())===null||s===void 0?void 0:s.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}wrapCallback(e){return(i,a)=>{i?this.reject(i):this.resolve(a),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(i):e(i,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(s,e){if(s.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},a=e||"demo-project",u=s.iat||0,h=s.sub||s.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},s);return[zo(JSON.stringify(i)),zo(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function fT(){var s;const e=(s=ed())===null||s===void 0?void 0:s.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dT(){return!fT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function mT(){try{return typeof indexedDB=="object"}catch{return!1}}function gT(){return new Promise((s,e)=>{try{let i=!0;const a="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(a);u.onsuccess=()=>{u.result.close(),i||self.indexedDB.deleteDatabase(a),s(!0)},u.onupgradeneeded=()=>{i=!1},u.onerror=()=>{var h;e(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){e(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="FirebaseError";class ys extends Error{constructor(e,i,a){super(i),this.code=e,this.customData=a,this.name=pT,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y_.prototype.create)}}class y_{constructor(e,i,a){this.service=e,this.serviceName=i,this.errors=a}create(e,...i){const a=i[0]||{},u=`${this.service}/${e}`,h=this.errors[e],d=h?yT(h,a):"Error",g=`${this.serviceName}: ${d} (${u}).`;return new ys(u,g,a)}}function yT(s,e){return s.replace(_T,(i,a)=>{const u=e[a];return u!=null?String(u):`<${a}?>`})}const _T=/\{\$([^}]+)}/g;function Lo(s,e){if(s===e)return!0;const i=Object.keys(s),a=Object.keys(e);for(const u of i){if(!a.includes(u))return!1;const h=s[u],d=e[u];if(ry(h)&&ry(d)){if(!Lo(h,d))return!1}else if(h!==d)return!1}for(const u of a)if(!i.includes(u))return!1;return!0}function ry(s){return s!==null&&typeof s=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ci(s){return s&&s._delegate?s._delegate:s}class ql{constructor(e,i,a){this.name=e,this.instanceFactory=i,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT{constructor(e,i){this.name=e,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const i=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(i)){const a=new oT;if(this.instancesDeferred.set(i,a),this.isInitialized(i)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:i});u&&a.resolve(u)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(e){var i;const a=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),u=(i=e==null?void 0:e.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(TT(e))try{this.getOrInitializeService({instanceIdentifier:ra})}catch{}for(const[i,a]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:u});a.resolve(h)}catch{}}}}clearInstance(e=ra){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...e.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ra){return this.instances.has(e)}getOptions(e=ra){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:i={}}=e,a=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:a,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);a===g&&d.resolve(u)}return u}onInit(e,i){var a;const u=this.normalizeInstanceIdentifier(i),h=(a=this.onInitCallbacks.get(u))!==null&&a!==void 0?a:new Set;h.add(e),this.onInitCallbacks.set(u,h);const d=this.instances.get(u);return d&&e(d,u),()=>{h.delete(e)}}invokeOnInitCallbacks(e,i){const a=this.onInitCallbacks.get(i);if(a)for(const u of a)try{u(e,i)}catch{}}getOrInitializeService({instanceIdentifier:e,options:i={}}){let a=this.instances.get(e);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:ET(e),options:i}),this.instances.set(e,a),this.instancesOptions.set(e,i),this.invokeOnInitCallbacks(a,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,a)}catch{}return a||null}normalizeInstanceIdentifier(e=ra){return this.component?this.component.multipleInstances?e:ra:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function ET(s){return s===ra?void 0:s}function TT(s){return s.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const i=this.getProvider(e.name);if(i.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);i.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const i=new vT(e,this);return this.providers.set(e,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xt;(function(s){s[s.DEBUG=0]="DEBUG",s[s.VERBOSE=1]="VERBOSE",s[s.INFO=2]="INFO",s[s.WARN=3]="WARN",s[s.ERROR=4]="ERROR",s[s.SILENT=5]="SILENT"})(xt||(xt={}));const ST={debug:xt.DEBUG,verbose:xt.VERBOSE,info:xt.INFO,warn:xt.WARN,error:xt.ERROR,silent:xt.SILENT},bT=xt.INFO,RT={[xt.DEBUG]:"log",[xt.VERBOSE]:"log",[xt.INFO]:"info",[xt.WARN]:"warn",[xt.ERROR]:"error"},wT=(s,e,...i)=>{if(e<s.logLevel)return;const a=new Date().toISOString(),u=RT[e];if(u)console[u](`[${a}]  ${s.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class __{constructor(e){this.name=e,this._logLevel=bT,this._logHandler=wT,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?ST[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,xt.DEBUG,...e),this._logHandler(this,xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,xt.VERBOSE,...e),this._logHandler(this,xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,xt.INFO,...e),this._logHandler(this,xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,xt.WARN,...e),this._logHandler(this,xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,xt.ERROR,...e),this._logHandler(this,xt.ERROR,...e)}}const DT=(s,e)=>e.some(i=>s instanceof i);let ay,sy;function CT(){return ay||(ay=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function VT(){return sy||(sy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v_=new WeakMap,If=new WeakMap,E_=new WeakMap,Af=new WeakMap,nd=new WeakMap;function IT(s){const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("success",h),s.removeEventListener("error",d)},h=()=>{i(ur(s.result)),u()},d=()=>{a(s.error),u()};s.addEventListener("success",h),s.addEventListener("error",d)});return e.then(i=>{i instanceof IDBCursor&&v_.set(i,s)}).catch(()=>{}),nd.set(e,s),e}function NT(s){if(If.has(s))return;const e=new Promise((i,a)=>{const u=()=>{s.removeEventListener("complete",h),s.removeEventListener("error",d),s.removeEventListener("abort",d)},h=()=>{i(),u()},d=()=>{a(s.error||new DOMException("AbortError","AbortError")),u()};s.addEventListener("complete",h),s.addEventListener("error",d),s.addEventListener("abort",d)});If.set(s,e)}let Nf={get(s,e,i){if(s instanceof IDBTransaction){if(e==="done")return If.get(s);if(e==="objectStoreNames")return s.objectStoreNames||E_.get(s);if(e==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return ur(s[e])},set(s,e,i){return s[e]=i,!0},has(s,e){return s instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in s}};function OT(s){Nf=s(Nf)}function MT(s){return s===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...i){const a=s.call(Sf(this),e,...i);return E_.set(a,e.sort?e.sort():[e]),ur(a)}:VT().includes(s)?function(...e){return s.apply(Sf(this),e),ur(v_.get(this))}:function(...e){return ur(s.apply(Sf(this),e))}}function xT(s){return typeof s=="function"?MT(s):(s instanceof IDBTransaction&&NT(s),DT(s,CT())?new Proxy(s,Nf):s)}function ur(s){if(s instanceof IDBRequest)return IT(s);if(Af.has(s))return Af.get(s);const e=xT(s);return e!==s&&(Af.set(s,e),nd.set(e,s)),e}const Sf=s=>nd.get(s);function UT(s,e,{blocked:i,upgrade:a,blocking:u,terminated:h}={}){const d=indexedDB.open(s,e),g=ur(d);return a&&d.addEventListener("upgradeneeded",v=>{a(ur(d.result),v.oldVersion,v.newVersion,ur(d.transaction),v)}),i&&d.addEventListener("blocked",v=>i(v.oldVersion,v.newVersion,v)),g.then(v=>{h&&v.addEventListener("close",()=>h()),u&&v.addEventListener("versionchange",_=>u(_.oldVersion,_.newVersion,_))}).catch(()=>{}),g}const zT=["get","getKey","getAll","getAllKeys","count"],LT=["put","add","delete","clear"],bf=new Map;function ly(s,e){if(!(s instanceof IDBDatabase&&!(e in s)&&typeof e=="string"))return;if(bf.get(e))return bf.get(e);const i=e.replace(/FromIndex$/,""),a=e!==i,u=LT.includes(i);if(!(i in(a?IDBIndex:IDBObjectStore).prototype)||!(u||zT.includes(i)))return;const h=async function(d,...g){const v=this.transaction(d,u?"readwrite":"readonly");let _=v.store;return a&&(_=_.index(g.shift())),(await Promise.all([_[i](...g),u&&v.done]))[0]};return bf.set(e,h),h}OT(s=>({...s,get:(e,i,a)=>ly(e,i)||s.get(e,i,a),has:(e,i)=>!!ly(e,i)||s.has(e,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(BT(i)){const a=i.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(i=>i).join(" ")}}function BT(s){const e=s.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Of="@firebase/app",uy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vi=new __("@firebase/app"),kT="@firebase/app-compat",qT="@firebase/analytics-compat",jT="@firebase/analytics",HT="@firebase/app-check-compat",GT="@firebase/app-check",QT="@firebase/auth",KT="@firebase/auth-compat",YT="@firebase/database",FT="@firebase/data-connect",XT="@firebase/database-compat",ZT="@firebase/functions",$T="@firebase/functions-compat",JT="@firebase/installations",WT="@firebase/installations-compat",tA="@firebase/messaging",eA="@firebase/messaging-compat",nA="@firebase/performance",iA="@firebase/performance-compat",rA="@firebase/remote-config",aA="@firebase/remote-config-compat",sA="@firebase/storage",lA="@firebase/storage-compat",uA="@firebase/firestore",oA="@firebase/vertexai",cA="@firebase/firestore-compat",hA="firebase",fA="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mf="[DEFAULT]",dA={[Of]:"fire-core",[kT]:"fire-core-compat",[jT]:"fire-analytics",[qT]:"fire-analytics-compat",[GT]:"fire-app-check",[HT]:"fire-app-check-compat",[QT]:"fire-auth",[KT]:"fire-auth-compat",[YT]:"fire-rtdb",[FT]:"fire-data-connect",[XT]:"fire-rtdb-compat",[ZT]:"fire-fn",[$T]:"fire-fn-compat",[JT]:"fire-iid",[WT]:"fire-iid-compat",[tA]:"fire-fcm",[eA]:"fire-fcm-compat",[nA]:"fire-perf",[iA]:"fire-perf-compat",[rA]:"fire-rc",[aA]:"fire-rc-compat",[sA]:"fire-gcs",[lA]:"fire-gcs-compat",[uA]:"fire-fst",[cA]:"fire-fst-compat",[oA]:"fire-vertex","fire-js":"fire-js",[hA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Po=new Map,mA=new Map,xf=new Map;function oy(s,e){try{s.container.addComponent(e)}catch(i){Vi.debug(`Component ${e.name} failed to register with FirebaseApp ${s.name}`,i)}}function Bo(s){const e=s.name;if(xf.has(e))return Vi.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,s);for(const i of Po.values())oy(i,s);for(const i of mA.values())oy(i,s);return!0}function gA(s,e){const i=s.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),s.container.getProvider(e)}function pA(s){return s==null?!1:s.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},or=new y_("app","Firebase",yA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(e,i,a){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vA=fA;function T_(s,e={}){let i=s;typeof e!="object"&&(e={name:e});const a=Object.assign({name:Mf,automaticDataCollectionEnabled:!1},e),u=a.name;if(typeof u!="string"||!u)throw or.create("bad-app-name",{appName:String(u)});if(i||(i=p_()),!i)throw or.create("no-options");const h=Po.get(u);if(h){if(Lo(i,h.options)&&Lo(a,h.config))return h;throw or.create("duplicate-app",{appName:u})}const d=new AT(u);for(const v of xf.values())d.addComponent(v);const g=new _A(i,a,d);return Po.set(u,g),g}function EA(s=Mf){const e=Po.get(s);if(!e&&s===Mf&&p_())return T_();if(!e)throw or.create("no-app",{appName:s});return e}function ls(s,e,i){var a;let u=(a=dA[s])!==null&&a!==void 0?a:s;i&&(u+=`-${i}`);const h=u.match(/\s|\//),d=e.match(/\s|\//);if(h||d){const g=[`Unable to register library "${u}" with version "${e}":`];h&&g.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vi.warn(g.join(" "));return}Bo(new ql(`${u}-version`,()=>({library:u,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TA="firebase-heartbeat-database",AA=1,jl="firebase-heartbeat-store";let Rf=null;function A_(){return Rf||(Rf=UT(TA,AA,{upgrade:(s,e)=>{switch(e){case 0:try{s.createObjectStore(jl)}catch(i){console.warn(i)}}}}).catch(s=>{throw or.create("idb-open",{originalErrorMessage:s.message})})),Rf}async function SA(s){try{const i=(await A_()).transaction(jl),a=await i.objectStore(jl).get(S_(s));return await i.done,a}catch(e){if(e instanceof ys)Vi.warn(e.message);else{const i=or.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Vi.warn(i.message)}}}async function cy(s,e){try{const a=(await A_()).transaction(jl,"readwrite");await a.objectStore(jl).put(e,S_(s)),await a.done}catch(i){if(i instanceof ys)Vi.warn(i.message);else{const a=or.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});Vi.warn(a.message)}}}function S_(s){return`${s.name}!${s.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=1024,RA=30;class wA{constructor(e){this.container=e,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new CA(i),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var e,i;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=hy();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:u}),this._heartbeatsCache.heartbeats.length>RA){const d=VA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(a){Vi.warn(a)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=hy(),{heartbeatsToSend:a,unsentEntries:u}=DA(this._heartbeatsCache.heartbeats),h=zo(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=i,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return Vi.warn(i),""}}}function hy(){return new Date().toISOString().substring(0,10)}function DA(s,e=bA){const i=[];let a=s.slice();for(const u of s){const h=i.find(d=>d.agent===u.agent);if(h){if(h.dates.push(u.date),fy(i)>e){h.dates.pop();break}}else if(i.push({agent:u.agent,dates:[u.date]}),fy(i)>e){i.pop();break}a=a.slice(1)}return{heartbeatsToSend:i,unsentEntries:a}}class CA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mT()?gT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await SA(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return cy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var i;if(await this._canUseIndexedDBPromise){const u=await this.read();return cy(this.app,{lastSentHeartbeatDate:(i=e.lastSentHeartbeatDate)!==null&&i!==void 0?i:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...e.heartbeats]})}else return}}function fy(s){return zo(JSON.stringify({version:2,heartbeats:s})).length}function VA(s){if(s.length===0)return-1;let e=0,i=s[0].date;for(let a=1;a<s.length;a++)s[a].date<i&&(i=s[a].date,e=a);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(s){Bo(new ql("platform-logger",e=>new PT(e),"PRIVATE")),Bo(new ql("heartbeat",e=>new wA(e),"PRIVATE")),ls(Of,uy,s),ls(Of,uy,"esm2017"),ls("fire-js","")}IA("");var dy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var cr,b_;(function(){var s;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function w(){}w.prototype=S.prototype,N.D=S.prototype,N.prototype=new w,N.prototype.constructor=N,N.C=function(I,O,x){for(var R=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)R[Ne-2]=arguments[Ne];return S.prototype[O].apply(I,R)}}function i(){this.blockSize=-1}function a(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(a,i),a.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(N,S,w){w||(w=0);var I=Array(16);if(typeof S=="string")for(var O=0;16>O;++O)I[O]=S.charCodeAt(w++)|S.charCodeAt(w++)<<8|S.charCodeAt(w++)<<16|S.charCodeAt(w++)<<24;else for(O=0;16>O;++O)I[O]=S[w++]|S[w++]<<8|S[w++]<<16|S[w++]<<24;S=N.g[0],w=N.g[1],O=N.g[2];var x=N.g[3],R=S+(x^w&(O^x))+I[0]+3614090360&4294967295;S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+I[1]+3905402710&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+I[2]+606105819&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+I[3]+3250441966&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+I[4]+4118548399&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+I[5]+1200080426&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+I[6]+2821735955&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+I[7]+4249261313&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+I[8]+1770035416&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+I[9]+2336552879&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+I[10]+4294925233&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+I[11]+2304563134&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(x^w&(O^x))+I[12]+1804603682&4294967295,S=w+(R<<7&4294967295|R>>>25),R=x+(O^S&(w^O))+I[13]+4254626195&4294967295,x=S+(R<<12&4294967295|R>>>20),R=O+(w^x&(S^w))+I[14]+2792965006&4294967295,O=x+(R<<17&4294967295|R>>>15),R=w+(S^O&(x^S))+I[15]+1236535329&4294967295,w=O+(R<<22&4294967295|R>>>10),R=S+(O^x&(w^O))+I[1]+4129170786&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+I[6]+3225465664&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+I[11]+643717713&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+I[0]+3921069994&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+I[5]+3593408605&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+I[10]+38016083&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+I[15]+3634488961&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+I[4]+3889429448&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+I[9]+568446438&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+I[14]+3275163606&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+I[3]+4107603335&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+I[8]+1163531501&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(O^x&(w^O))+I[13]+2850285829&4294967295,S=w+(R<<5&4294967295|R>>>27),R=x+(w^O&(S^w))+I[2]+4243563512&4294967295,x=S+(R<<9&4294967295|R>>>23),R=O+(S^w&(x^S))+I[7]+1735328473&4294967295,O=x+(R<<14&4294967295|R>>>18),R=w+(x^S&(O^x))+I[12]+2368359562&4294967295,w=O+(R<<20&4294967295|R>>>12),R=S+(w^O^x)+I[5]+4294588738&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+I[8]+2272392833&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+I[11]+1839030562&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+I[14]+4259657740&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+I[1]+2763975236&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+I[4]+1272893353&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+I[7]+4139469664&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+I[10]+3200236656&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+I[13]+681279174&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+I[0]+3936430074&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+I[3]+3572445317&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+I[6]+76029189&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(w^O^x)+I[9]+3654602809&4294967295,S=w+(R<<4&4294967295|R>>>28),R=x+(S^w^O)+I[12]+3873151461&4294967295,x=S+(R<<11&4294967295|R>>>21),R=O+(x^S^w)+I[15]+530742520&4294967295,O=x+(R<<16&4294967295|R>>>16),R=w+(O^x^S)+I[2]+3299628645&4294967295,w=O+(R<<23&4294967295|R>>>9),R=S+(O^(w|~x))+I[0]+4096336452&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+I[7]+1126891415&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+I[14]+2878612391&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+I[5]+4237533241&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+I[12]+1700485571&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+I[3]+2399980690&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+I[10]+4293915773&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+I[1]+2240044497&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+I[8]+1873313359&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+I[15]+4264355552&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+I[6]+2734768916&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+I[13]+1309151649&4294967295,w=O+(R<<21&4294967295|R>>>11),R=S+(O^(w|~x))+I[4]+4149444226&4294967295,S=w+(R<<6&4294967295|R>>>26),R=x+(w^(S|~O))+I[11]+3174756917&4294967295,x=S+(R<<10&4294967295|R>>>22),R=O+(S^(x|~w))+I[2]+718787259&4294967295,O=x+(R<<15&4294967295|R>>>17),R=w+(x^(O|~S))+I[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(O+(R<<21&4294967295|R>>>11))&4294967295,N.g[2]=N.g[2]+O&4294967295,N.g[3]=N.g[3]+x&4294967295}a.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var w=S-this.blockSize,I=this.B,O=this.h,x=0;x<S;){if(O==0)for(;x<=w;)u(this,N,x),x+=this.blockSize;if(typeof N=="string"){for(;x<S;)if(I[O++]=N.charCodeAt(x++),O==this.blockSize){u(this,I),O=0;break}}else for(;x<S;)if(I[O++]=N[x++],O==this.blockSize){u(this,I),O=0;break}}this.h=O,this.o+=S},a.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var w=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=w&255,w/=256;for(this.u(N),N=Array(16),S=w=0;4>S;++S)for(var I=0;32>I;I+=8)N[w++]=this.g[S]>>>I&255;return N};function h(N,S){var w=g;return Object.prototype.hasOwnProperty.call(w,N)?w[N]:w[N]=S(N)}function d(N,S){this.h=S;for(var w=[],I=!0,O=N.length-1;0<=O;O--){var x=N[O]|0;I&&x==S||(w[O]=x,I=!1)}this.g=w}var g={};function v(N){return-128<=N&&128>N?h(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function _(N){if(isNaN(N)||!isFinite(N))return V;if(0>N)return J(_(-N));for(var S=[],w=1,I=0;N>=w;I++)S[I]=N/w|0,w*=4294967296;return new d(S,0)}function A(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return J(A(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var w=_(Math.pow(S,8)),I=V,O=0;O<N.length;O+=8){var x=Math.min(8,N.length-O),R=parseInt(N.substring(O,O+x),S);8>x?(x=_(Math.pow(S,x)),I=I.j(x).add(_(R))):(I=I.j(w),I=I.add(_(R)))}return I}var V=v(0),P=v(1),j=v(16777216);s=d.prototype,s.m=function(){if(nt(this))return-J(this).m();for(var N=0,S=1,w=0;w<this.g.length;w++){var I=this.i(w);N+=(0<=I?I:4294967296+I)*S,S*=4294967296}return N},s.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(F(this))return"0";if(nt(this))return"-"+J(this).toString(N);for(var S=_(Math.pow(N,6)),w=this,I="";;){var O=Bt(w,S).g;w=Tt(w,O.j(S));var x=((0<w.g.length?w.g[0]:w.h)>>>0).toString(N);if(w=O,F(w))return x+I;for(;6>x.length;)x="0"+x;I=x+I}},s.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function F(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function nt(N){return N.h==-1}s.l=function(N){return N=Tt(this,N),nt(N)?-1:F(N)?0:1};function J(N){for(var S=N.g.length,w=[],I=0;I<S;I++)w[I]=~N.g[I];return new d(w,~N.h).add(P)}s.abs=function(){return nt(this)?J(this):this},s.add=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0,O=0;O<=S;O++){var x=I+(this.i(O)&65535)+(N.i(O)&65535),R=(x>>>16)+(this.i(O)>>>16)+(N.i(O)>>>16);I=R>>>16,x&=65535,R&=65535,w[O]=R<<16|x}return new d(w,w[w.length-1]&-2147483648?-1:0)};function Tt(N,S){return N.add(J(S))}s.j=function(N){if(F(this)||F(N))return V;if(nt(this))return nt(N)?J(this).j(J(N)):J(J(this).j(N));if(nt(N))return J(this.j(J(N)));if(0>this.l(j)&&0>N.l(j))return _(this.m()*N.m());for(var S=this.g.length+N.g.length,w=[],I=0;I<2*S;I++)w[I]=0;for(I=0;I<this.g.length;I++)for(var O=0;O<N.g.length;O++){var x=this.i(I)>>>16,R=this.i(I)&65535,Ne=N.i(O)>>>16,ie=N.i(O)&65535;w[2*I+2*O]+=R*ie,At(w,2*I+2*O),w[2*I+2*O+1]+=x*ie,At(w,2*I+2*O+1),w[2*I+2*O+1]+=R*Ne,At(w,2*I+2*O+1),w[2*I+2*O+2]+=x*Ne,At(w,2*I+2*O+2)}for(I=0;I<S;I++)w[I]=w[2*I+1]<<16|w[2*I];for(I=S;I<2*S;I++)w[I]=0;return new d(w,0)};function At(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function gt(N,S){this.g=N,this.h=S}function Bt(N,S){if(F(S))throw Error("division by zero");if(F(N))return new gt(V,V);if(nt(N))return S=Bt(J(N),S),new gt(J(S.g),J(S.h));if(nt(S))return S=Bt(N,J(S)),new gt(J(S.g),S.h);if(30<N.g.length){if(nt(N)||nt(S))throw Error("slowDivide_ only works with positive integers.");for(var w=P,I=S;0>=I.l(N);)w=_t(w),I=_t(I);var O=zt(w,1),x=zt(I,1);for(I=zt(I,2),w=zt(w,2);!F(I);){var R=x.add(I);0>=R.l(N)&&(O=O.add(w),x=R),I=zt(I,1),w=zt(w,1)}return S=Tt(N,O.j(S)),new gt(O,S)}for(O=V;0<=N.l(S);){for(w=Math.max(1,Math.floor(N.m()/S.m())),I=Math.ceil(Math.log(w)/Math.LN2),I=48>=I?1:Math.pow(2,I-48),x=_(w),R=x.j(S);nt(R)||0<R.l(N);)w-=I,x=_(w),R=x.j(S);F(x)&&(x=P),O=O.add(x),N=Tt(N,R)}return new gt(O,N)}s.A=function(N){return Bt(this,N).h},s.and=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)&N.i(I);return new d(w,this.h&N.h)},s.or=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)|N.i(I);return new d(w,this.h|N.h)},s.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),w=[],I=0;I<S;I++)w[I]=this.i(I)^N.i(I);return new d(w,this.h^N.h)};function _t(N){for(var S=N.g.length+1,w=[],I=0;I<S;I++)w[I]=N.i(I)<<1|N.i(I-1)>>>31;return new d(w,N.h)}function zt(N,S){var w=S>>5;S%=32;for(var I=N.g.length-w,O=[],x=0;x<I;x++)O[x]=0<S?N.i(x+w)>>>S|N.i(x+w+1)<<32-S:N.i(x+w);return new d(O,N.h)}a.prototype.digest=a.prototype.v,a.prototype.reset=a.prototype.s,a.prototype.update=a.prototype.u,b_=a,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=_,d.fromString=A,cr=d}).apply(typeof dy<"u"?dy:typeof self<"u"?self:typeof window<"u"?window:{});var bo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var R_,Ol,w_,Io,Uf,D_,C_,V_;(function(){var s,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function i(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof bo=="object"&&bo];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var a=i(this);function u(o,m){if(m)t:{var p=a;o=o.split(".");for(var T=0;T<o.length-1;T++){var U=o[T];if(!(U in p))break t;p=p[U]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&e(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,U={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return U[Symbol.iterator]=function(){return U},U}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function v(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function _(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function A(o,m,p){return o.call.apply(o.bind,arguments)}function V(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var U=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(U,T),o.apply(m,U)}}return function(){return o.apply(m,arguments)}}function P(o,m,p){return P=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?A:V,P.apply(null,arguments)}function j(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function F(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,U,q){for(var W=Array(arguments.length-2),It=2;It<arguments.length;It++)W[It-2]=arguments[It];return m.prototype[U].apply(T,W)}}function nt(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function J(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(v(T)){const U=o.length||0,q=T.length||0;o.length=U+q;for(let W=0;W<q;W++)o[U+W]=T[W]}else o.push(T)}}class Tt{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function At(o){return/^[\s\xa0]*$/.test(o)}function gt(){var o=g.navigator;return o&&(o=o.userAgent)?o:""}function Bt(o){return Bt[" "](o),o}Bt[" "]=function(){};var _t=gt().indexOf("Gecko")!=-1&&!(gt().toLowerCase().indexOf("webkit")!=-1&&gt().indexOf("Edge")==-1)&&!(gt().indexOf("Trident")!=-1||gt().indexOf("MSIE")!=-1)&&gt().indexOf("Edge")==-1;function zt(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function N(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function S(o){const m={};for(const p in o)m[p]=o[p];return m}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function I(o,m){let p,T;for(let U=1;U<arguments.length;U++){T=arguments[U];for(p in T)o[p]=T[p];for(let q=0;q<w.length;q++)p=w[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function O(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function x(o){g.setTimeout(()=>{throw o},0)}function R(){var o=Lt;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class Ne{constructor(){this.h=this.g=null}add(m,p){const T=ie.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ie=new Tt(()=>new H,o=>o.reset());class H{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,st=!1,Lt=new Ne,D=()=>{const o=g.Promise.resolve(void 0);tt=()=>{o.then(X)}};var X=()=>{for(var o;o=R();){try{o.h.call(o.g)}catch(p){x(p)}var m=ie;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}st=!1};function et(){this.s=this.s,this.C=this.C}et.prototype.s=!1,et.prototype.ma=function(){this.s||(this.s=!0,this.N())},et.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var ut=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return o}();function Rt(o,m){if($.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(_t){t:{try{Bt(m.nodeName);var U=!0;break t}catch{}U=!1}U||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:mt[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&Rt.aa.h.call(this)}}F(Rt,$);var mt={2:"touch",3:"pen",4:"mouse"};Rt.prototype.h=function(){Rt.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var be="closure_listenable_"+(1e6*Math.random()|0),Zt=0;function xn(o,m,p,T,U){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=U,this.key=++Zt,this.da=this.fa=!1}function Oi(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function ni(o){this.src=o,this.g={},this.h=0}ni.prototype.add=function(o,m,p,T,U){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var W=Ar(o,m,T,U);return-1<W?(m=o[W],p||(m.fa=!1)):(m=new xn(m,this.src,q,!!T,U),m.fa=p,o.push(m)),m};function Tr(o,m){var p=m.type;if(p in o.g){var T=o.g[p],U=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=U)&&Array.prototype.splice.call(T,U,1),q&&(Oi(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Ar(o,m,p,T){for(var U=0;U<o.length;++U){var q=o[U];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return U}return-1}var Sr="closure_lm_"+(1e6*Math.random()|0),As={};function Wl(o,m,p,T,U){if(Array.isArray(m)){for(var q=0;q<m.length;q++)Wl(o,m[q],p,T,U);return null}return p=tu(p),o&&o[be]?o.K(m,p,_(T)?!!T.capture:!1,U):mn(o,m,p,!1,T,U)}function mn(o,m,p,T,U,q){if(!m)throw Error("Invalid event type");var W=_(U)?!!U.capture:!!U,It=fa(o);if(It||(o[Sr]=It=new ni(o)),p=It.add(m,p,T,W,q),p.proxy)return p;if(T=gc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)ut||(U=W),U===void 0&&(U=!1),o.addEventListener(m.toString(),T,U);else if(o.attachEvent)o.attachEvent(br(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function gc(){function o(p){return m.call(o.src,o.listener,p)}const m=pc;return o}function Ss(o,m,p,T,U){if(Array.isArray(m))for(var q=0;q<m.length;q++)Ss(o,m[q],p,T,U);else T=_(T)?!!T.capture:!!T,p=tu(p),o&&o[be]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Ar(q,p,T,U),-1<p&&(Oi(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=fa(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Ar(m,p,T,U)),(p=-1<o?m[o]:null)&&ha(p))}function ha(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[be])Tr(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(br(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=fa(m))?(Tr(p,o),p.h==0&&(p.src=null,m[Sr]=null)):Oi(o)}}}function br(o){return o in As?As[o]:As[o]="on"+o}function pc(o,m){if(o.da)o=!0;else{m=new Rt(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&ha(o),o=p.call(T,m)}return o}function fa(o){return o=o[Sr],o instanceof ni?o:null}var bs="__closure_events_fn_"+(1e9*Math.random()>>>0);function tu(o){return typeof o=="function"?o:(o[bs]||(o[bs]=function(m){return o.handleEvent(m)}),o[bs])}function re(){et.call(this),this.i=new ni(this),this.M=this,this.F=null}F(re,et),re.prototype[be]=!0,re.prototype.removeEventListener=function(o,m,p,T){Ss(this,o,m,p,T)};function jt(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new $(m,o);else if(m instanceof $)m.target=m.target||o;else{var U=m;m=new $(T,o),I(m,U)}if(U=!0,p)for(var q=p.length-1;0<=q;q--){var W=m.g=p[q];U=nn(W,T,!0,m)&&U}if(W=m.g=o,U=nn(W,T,!0,m)&&U,U=nn(W,T,!1,m)&&U,p)for(q=0;q<p.length;q++)W=m.g=p[q],U=nn(W,T,!1,m)&&U}re.prototype.N=function(){if(re.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)Oi(p[T]);delete o.g[m],o.h--}}this.F=null},re.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},re.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function nn(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var U=!0,q=0;q<m.length;++q){var W=m[q];if(W&&!W.da&&W.capture==p){var It=W.listener,ye=W.ha||W.src;W.fa&&Tr(o.i,W),U=It.call(ye,T)!==!1&&U}}return U&&!T.defaultPrevented}function ke(o,m,p){if(typeof o=="function")p&&(o=P(o,p));else if(o&&typeof o.handleEvent=="function")o=P(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(o,m||0)}function eu(o){o.g=ke(()=>{o.g=null,o.i&&(o.i=!1,eu(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class yc extends et{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:eu(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Rr(o){et.call(this),this.h=o,this.g={}}F(Rr,et);var wr=[];function Dr(o){zt(o.g,function(m,p){this.g.hasOwnProperty(p)&&ha(m)},o),o.g={}}Rr.prototype.N=function(){Rr.aa.N.call(this),Dr(this)},Rr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Dn=g.JSON.stringify,da=g.JSON.parse,Cr=class{stringify(o){return g.JSON.stringify(o,void 0)}parse(o){return g.JSON.parse(o,void 0)}};function Rs(){}Rs.prototype.h=null;function ws(o){return o.h||(o.h=o.i())}function Ds(){}var ii={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ri(){$.call(this,"d")}F(ri,$);function Cs(){$.call(this,"c")}F(Cs,$);var Un={},Vs=null;function Mi(){return Vs=Vs||new re}Un.La="serverreachability";function ma(o){$.call(this,Un.La,o)}F(ma,$);function xi(o){const m=Mi();jt(m,new ma(m))}Un.STAT_EVENT="statevent";function nu(o,m){$.call(this,Un.STAT_EVENT,o),this.stat=m}F(nu,$);function Jt(o){const m=Mi();jt(m,new nu(m,o))}Un.Ma="timingevent";function pe(o,m){$.call(this,Un.Ma,o),this.size=m}F(pe,$);function he(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){o()},m)}function gn(){this.g=!0}gn.prototype.xa=function(){this.g=!1};function Is(o,m,p,T,U,q){o.info(function(){if(o.g)if(q)for(var W="",It=q.split("&"),ye=0;ye<It.length;ye++){var Nt=It[ye].split("=");if(1<Nt.length){var we=Nt[0];Nt=Nt[1];var _e=we.split("_");W=2<=_e.length&&_e[1]=="type"?W+(we+"="+Nt+"&"):W+(we+"=redacted&")}}else W=null;else W=q;return"XMLHTTP REQ ("+T+") [attempt "+U+"]: "+m+`
`+p+`
`+W})}function _c(o,m,p,T,U,q,W){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+U+"]: "+m+`
`+p+`
`+q+" "+W})}function Ui(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vr(o,p)+(T?" "+T:"")})}function iu(o,m){o.info(function(){return"TIMEOUT: "+m})}gn.prototype.info=function(){};function Vr(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var U=T[1];if(Array.isArray(U)&&!(1>U.length)){var q=U[0];if(q!="noop"&&q!="stop"&&q!="close")for(var W=1;W<U.length;W++)U[W]=""}}}}return Dn(p)}catch{return m}}var zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ai={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},zn;function Ln(){}F(Ln,Rs),Ln.prototype.g=function(){return new XMLHttpRequest},Ln.prototype.i=function(){return{}},zn=new Ln;function Ke(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Rr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new le}function le(){this.i=null,this.g="",this.h=!1}var Ns={},ga={};function Cn(o,m,p){o.L=1,o.v=xr(rn(m)),o.m=p,o.P=!0,si(o,null)}function si(o,m){o.F=Date.now(),Ir(o),o.A=rn(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Ls(p.i,"t",T),o.C=0,p=o.j.J,o.h=new le,o.g=vu(o.j,p?m:null,!o.m),0<o.O&&(o.M=new yc(P(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var U="readystatechange";Array.isArray(U)||(U&&(wr[0]=U.toString()),U=wr);for(var q=0;q<U.length;q++){var W=Wl(p,U[q],T||m.handleEvent,!1,m.h||m);if(!W)break;m.g[W.key]=W}m=o.H?S(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),xi(),Is(o.i,o.u,o.A,o.l,o.R,o.m)}Ke.prototype.ca=function(o){o=o.target;const m=this.M;m&&vn(o)==3?m.j():this.Y(o)},Ke.prototype.Y=function(o){try{if(o==this.g)t:{const _e=vn(this.g);var m=this.g.Ba();const mi=this.g.Z();if(!(3>_e)&&(_e!=3||this.g&&(this.h.h||this.g.oa()||hu(this.g)))){this.J||_e!=4||m==7||(m==8||0>=mi?xi(3):xi(2)),Li(this);var p=this.g.Z();this.X=p;e:if(ru(this)){var T=hu(this.g);o="";var U=T.length,q=vn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Oe(this),Pn(this);var W="";break e}this.h.i=new g.TextDecoder}for(m=0;m<U;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==U-1)});T.length=0,this.h.g+=o,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=p==200,_c(this.i,this.u,this.A,this.l,this.R,_e,p),this.o){if(this.T&&!this.K){e:{if(this.g){var It,ye=this.g;if((It=ye.g?ye.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!At(It)){var Nt=It;break e}}Nt=null}if(p=Nt)Ui(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Nr(this,p);else{this.o=!1,this.s=3,Jt(12),Oe(this),Pn(this);break t}}if(this.P){p=!0;let Me;for(;!this.J&&this.C<W.length;)if(Me=au(this,W),Me==ga){_e==4&&(this.s=4,Jt(14),p=!1),Ui(this.i,this.l,null,"[Incomplete Response]");break}else if(Me==Ns){this.s=4,Jt(15),Ui(this.i,this.l,W,"[Invalid Chunk]"),p=!1;break}else Ui(this.i,this.l,Me,null),Nr(this,Me);if(ru(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),_e!=4||W.length!=0||this.h.h||(this.s=1,Jt(16),p=!1),this.o=this.o&&p,!p)Ui(this.i,this.l,W,"[Invalid Chunked Response]"),Oe(this),Pn(this);else if(0<W.length&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.ba&&!we.M&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),jr(we),we.M=!0,Jt(11))}}else Ui(this.i,this.l,W,null),Nr(this,W);_e==4&&Oe(this),this.o&&!this.J&&(_e==4?pu(this.j,this):(this.o=!1,Ir(this)))}else Sc(this.g),p==400&&0<W.indexOf("Unknown SID")?(this.s=3,Jt(12)):(this.s=0,Jt(13)),Oe(this),Pn(this)}}}catch{}finally{}};function ru(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function au(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?ga:(p=Number(m.substring(p,T)),isNaN(p)?Ns:(T+=1,T+p>m.length?ga:(m=m.slice(T,T+p),o.C=T+p,m)))}Ke.prototype.cancel=function(){this.J=!0,Oe(this)};function Ir(o){o.S=Date.now()+o.I,su(o,o.I)}function su(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=he(P(o.ba,o),m)}function Li(o){o.B&&(g.clearTimeout(o.B),o.B=null)}Ke.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(iu(this.i,this.A),this.L!=2&&(xi(),Jt(17)),Oe(this),this.s=2,Pn(this)):su(this,this.S-o)};function Pn(o){o.j.G==0||o.J||pu(o.j,o)}function Oe(o){Li(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,Dr(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Nr(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Os(p.h,o))){if(!o.K&&Os(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var U=T;if(U[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Da(p),Ra(p);else break t;js(p),Jt(18)}}else p.za=U[1],0<p.za-p.T&&37500>U[2]&&p.F&&p.v==0&&!p.C&&(p.C=he(P(p.Za,p),6e3));if(1>=ya(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else di(p,11)}else if((o.K||p.g==o)&&Da(p),!At(m))for(U=p.Da.g.parse(m),m=0;m<U.length;m++){let Nt=U[m];if(p.T=Nt[0],Nt=Nt[1],p.G==2)if(Nt[0]=="c"){p.K=Nt[1],p.ia=Nt[2];const we=Nt[3];we!=null&&(p.la=we,p.j.info("VER="+p.la));const _e=Nt[4];_e!=null&&(p.Aa=_e,p.j.info("SVER="+p.Aa));const mi=Nt[5];mi!=null&&typeof mi=="number"&&0<mi&&(T=1.5*mi,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Me=o.g;if(Me){const Qn=Me.g?Me.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Qn){var q=T.h;q.g||Qn.indexOf("spdy")==-1&&Qn.indexOf("quic")==-1&&Qn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(_a(q,q.h),q.h=null))}if(T.D){const Gs=Me.g?Me.g.getResponseHeader("X-HTTP-Session-Id"):null;Gs&&(T.ya=Gs,Qt(T.I,T.D,Gs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var W=o;if(T.qa=_u(T,T.J?T.ia:null,T.W),W.K){Ye(T.h,W);var It=W,ye=T.L;ye&&(It.I=ye),It.B&&(Li(It),Ir(It)),T.g=W}else mu(T);0<p.i.length&&wa(p)}else Nt[0]!="stop"&&Nt[0]!="close"||di(p,7);else p.G==3&&(Nt[0]=="stop"||Nt[0]=="close"?Nt[0]=="stop"?di(p,7):ks(p):Nt[0]!="noop"&&p.l&&p.l.ta(Nt),p.v=0)}}xi(4)}catch{}}var lu=class{constructor(o,m){this.g=o,this.map=m}};function li(o){this.l=o||10,g.PerformanceNavigationTiming?(o=g.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function pa(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function ya(o){return o.h?1:o.g?o.g.size:0}function Os(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function _a(o,m){o.g?o.g.add(m):o.h=m}function Ye(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}li.prototype.cancel=function(){if(this.i=Ms(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Ms(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return nt(o.i)}function vc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(v(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function va(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(v(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function xs(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(v(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=va(o),T=vc(o),U=T.length,q=0;q<U;q++)m.call(void 0,T[q],p&&p[q],o)}var Or=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ec(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),U=null;if(0<=T){var q=o[p].substring(0,T);U=o[p].substring(T+1)}else q=o[p];m(q,U?decodeURIComponent(U.replace(/\+/g," ")):"")}}}function fe(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof fe){this.h=o.h,Mr(this,o.j),this.o=o.o,this.g=o.g,Pi(this,o.s),this.l=o.l;var m=o.i,p=new oi;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ui(this,p),this.m=o.m}else o&&(m=String(o).match(Or))?(this.h=!1,Mr(this,m[1]||"",!0),this.o=pn(m[2]||""),this.g=pn(m[3]||"",!0),Pi(this,m[4]),this.l=pn(m[5]||"",!0),ui(this,m[6]||"",!0),this.m=pn(m[7]||"")):(this.h=!1,this.i=new oi(null,this.h))}fe.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Ur(m,Us,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Ur(m,Us,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Ur(p,p.charAt(0)=="/"?Tc:zs,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Ur(p,Ea)),o.join("")};function rn(o){return new fe(o)}function Mr(o,m,p){o.j=p?pn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Pi(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ui(o,m,p){m instanceof oi?(o.i=m,ou(o.i,o.h)):(p||(m=Ur(m,Ac)),o.i=new oi(m,o.h))}function Qt(o,m,p){o.i.set(m,p)}function xr(o){return Qt(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function pn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Ur(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,uu),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function uu(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Us=/[#\/\?@]/g,zs=/[#\?:]/g,Tc=/[#\?]/g,Ac=/[#\?@]/g,Ea=/#/g;function oi(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function yn(o){o.g||(o.g=new Map,o.h=0,o.i&&Ec(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}s=oi.prototype,s.add=function(o,m){yn(this),this.i=null,o=Bn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function ci(o,m){yn(o),m=Bn(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function hi(o,m){return yn(o),m=Bn(o,m),o.g.has(m)}s.forEach=function(o,m){yn(this),this.g.forEach(function(p,T){p.forEach(function(U){o.call(m,U,T,this)},this)},this)},s.na=function(){yn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const U=o[T];for(let q=0;q<U.length;q++)p.push(m[T])}return p},s.V=function(o){yn(this);let m=[];if(typeof o=="string")hi(this,o)&&(m=m.concat(this.g.get(Bn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},s.set=function(o,m){return yn(this),this.i=null,o=Bn(this,o),hi(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},s.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Ls(o,m,p){ci(o,m),0<p.length&&(o.i=null,o.g.set(Bn(o,m),nt(p)),o.h+=p.length)}s.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),W=this.V(T);for(T=0;T<W.length;T++){var U=q;W[T]!==""&&(U+="="+encodeURIComponent(String(W[T]))),o.push(U)}}return this.i=o.join("&")};function Bn(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function ou(o,m){m&&!o.j&&(yn(o),o.i=null,o.g.forEach(function(p,T){var U=T.toLowerCase();T!=U&&(ci(this,T),Ls(this,U,p))},o)),o.j=m}function zr(o,m){const p=new gn;if(g.Image){const T=new Image;T.onload=j(_n,p,"TestLoadImage: loaded",!0,m,T),T.onerror=j(_n,p,"TestLoadImage: error",!1,m,T),T.onabort=j(_n,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=j(_n,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Vn(o,m){const p=new gn,T=new AbortController,U=setTimeout(()=>{T.abort(),_n(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(U),q.ok?_n(p,"TestPingServer: ok",!0,m):_n(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(U),_n(p,"TestPingServer: error",!1,m)})}function _n(o,m,p,T,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),T(p)}catch{}}function Lr(){this.g=new Cr}function kn(o,m,p){const T=p||"";try{xs(o,function(U,q){let W=U;_(U)&&(W=Dn(U)),m.push(T+q+"="+encodeURIComponent(W))})}catch(U){throw m.push(T+"type="+encodeURIComponent("_badmap")),U}}function Bi(o){this.l=o.Ub||null,this.j=o.eb||!1}F(Bi,Rs),Bi.prototype.g=function(){return new fi(this.l,this.j)},Bi.prototype.i=function(o){return function(){return o}}({});function fi(o,m){re.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(fi,re),s=fi.prototype,s.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,jn(this)},s.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},s.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,qn(this)),this.readyState=0},s.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,jn(this)),this.g&&(this.readyState=3,jn(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ps(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ps(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}s.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?qn(this):jn(this),this.readyState==3&&Ps(this)}},s.Ra=function(o){this.g&&(this.response=this.responseText=o,qn(this))},s.Qa=function(o){this.g&&(this.response=o,qn(this))},s.ga=function(){this.g&&qn(this)};function qn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,jn(o)}s.setRequestHeader=function(o,m){this.u.append(o,m)},s.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},s.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function jn(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(fi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Bs(o){let m="";return zt(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Re(o,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=Bs(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Qt(o,m,p))}function kt(o){re.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(kt,re);var Ta=/^https?$/i,Pr=["POST","PUT"];s=kt.prototype,s.Ha=function(o){this.J=o},s.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():zn.g(),this.v=this.o?ws(this.o):ws(zn),this.g.onreadystatechange=P(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){cu(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var U in T)p.set(U,T[U]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),U=g.FormData&&o instanceof g.FormData,!(0<=Array.prototype.indexOf.call(Pr,m,void 0))||T||U||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,W]of p)this.g.setRequestHeader(q,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Br(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){cu(this,q)}};function cu(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Aa(o),Hn(o)}function Aa(o){o.A||(o.A=!0,jt(o,"complete"),jt(o,"error"))}s.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,jt(this,"complete"),jt(this,"abort"),Hn(this))},s.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Hn(this,!0)),kt.aa.N.call(this)},s.Ea=function(){this.s||(this.B||this.u||this.j?Sa(this):this.bb())},s.bb=function(){Sa(this)};function Sa(o){if(o.h&&typeof d<"u"&&(!o.v[1]||vn(o)!=4||o.Z()!=2)){if(o.u&&vn(o)==4)ke(o.Ea,0,o);else if(jt(o,"readystatechange"),vn(o)==4){o.h=!1;try{const W=o.Z();t:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=W===0){var U=String(o.D).match(Or)[1]||null;!U&&g.self&&g.self.location&&(U=g.self.location.protocol.slice(0,-1)),T=!Ta.test(U?U.toLowerCase():"")}p=T}if(p)jt(o,"complete"),jt(o,"success");else{o.m=6;try{var q=2<vn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Aa(o)}}finally{Hn(o)}}}}function Hn(o,m){if(o.g){Br(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||jt(o,"ready");try{p.onreadystatechange=T}catch{}}}function Br(o){o.I&&(g.clearTimeout(o.I),o.I=null)}s.isActive=function(){return!!this.g};function vn(o){return o.g?o.g.readyState:0}s.Z=function(){try{return 2<vn(this)?this.g.status:-1}catch{return-1}},s.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},s.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),da(m)}};function hu(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Sc(o){const m={};o=(o.g&&2<=vn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(At(o[T]))continue;var p=O(o[T]);const U=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[U]||[];m[U]=q,q.push(p)}N(m,function(T){return T.join(", ")})}s.Ba=function(){return this.m},s.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kr(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function ba(o){this.Aa=0,this.i=[],this.j=new gn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kr("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kr("baseRetryDelayMs",5e3,o),this.cb=kr("retryDelaySeedMs",1e4,o),this.Wa=kr("forwardChannelMaxRetries",2,o),this.wa=kr("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new li(o&&o.concurrentRequestLimit),this.Da=new Lr,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}s=ba.prototype,s.la=8,s.G=1,s.connect=function(o,m,p,T){Jt(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=_u(this,null,this.W),wa(this)};function ks(o){if(fu(o),o.G==3){var m=o.U++,p=rn(o.I);if(Qt(p,"SID",o.K),Qt(p,"RID",m),Qt(p,"TYPE","terminate"),qr(o,p),m=new Ke(o,o.j,m),m.L=2,m.v=xr(rn(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=vu(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ir(m)}yu(o)}function Ra(o){o.g&&(jr(o),o.g.cancel(),o.g=null)}function fu(o){Ra(o),o.u&&(g.clearTimeout(o.u),o.u=null),Da(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&g.clearTimeout(o.s),o.s=null)}function wa(o){if(!pa(o.h)&&!o.s){o.s=!0;var m=o.Ga;tt||D(),st||(tt(),st=!0),Lt.add(m,o),o.B=0}}function bc(o,m){return ya(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=he(P(o.Ga,o,m),Hs(o,o.B)),o.B++,!0)}s.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const U=new Ke(this,this.j,o);let q=this.o;if(this.S&&(q?(q=S(q),I(q,this.S)):q=this.S),this.m!==null||this.O||(U.H=q,q=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=du(this,U,m),p=rn(this.I),Qt(p,"RID",o),Qt(p,"CVER",22),this.D&&Qt(p,"X-HTTP-Session-Id",this.D),qr(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Bs(q)))+"&"+m:this.m&&Re(p,this.m,q)),_a(this.h,U),this.Ua&&Qt(p,"TYPE","init"),this.P?(Qt(p,"$req",m),Qt(p,"SID","null"),U.T=!0,Cn(U,p,null)):Cn(U,p,m),this.G=2}}else this.G==3&&(o?qs(this,o):this.i.length==0||pa(this.h)||qs(this))};function qs(o,m){var p;m?p=m.l:p=o.U++;const T=rn(o.I);Qt(T,"SID",o.K),Qt(T,"RID",p),Qt(T,"AID",o.T),qr(o,T),o.m&&o.o&&Re(T,o.m,o.o),p=new Ke(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=du(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),_a(o.h,p),Cn(p,T,m)}function qr(o,m){o.H&&zt(o.H,function(p,T){Qt(m,T,p)}),o.l&&xs({},function(p,T){Qt(m,T,p)})}function du(o,m,p){p=Math.min(o.i.length,p);var T=o.l?P(o.l.Na,o.l,o):null;t:{var U=o.i;let q=-1;for(;;){const W=["count="+p];q==-1?0<p?(q=U[0].g,W.push("ofs="+q)):q=0:W.push("ofs="+q);let It=!0;for(let ye=0;ye<p;ye++){let Nt=U[ye].g;const we=U[ye].map;if(Nt-=q,0>Nt)q=Math.max(0,U[ye].g-100),It=!1;else try{kn(we,W,"req"+Nt+"_")}catch{T&&T(we)}}if(It){T=W.join("&");break t}}}return o=o.i.splice(0,p),m.D=o,T}function mu(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;tt||D(),st||(tt(),st=!0),Lt.add(m,o),o.v=0}}function js(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=he(P(o.Fa,o),Hs(o,o.v)),o.v++,!0)}s.Fa=function(){if(this.u=null,gu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=he(P(this.ab,this),o)}},s.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Jt(10),Ra(this),gu(this))};function jr(o){o.A!=null&&(g.clearTimeout(o.A),o.A=null)}function gu(o){o.g=new Ke(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=rn(o.qa);Qt(m,"RID","rpc"),Qt(m,"SID",o.K),Qt(m,"AID",o.T),Qt(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Qt(m,"TO",o.ja),Qt(m,"TYPE","xmlhttp"),qr(o,m),o.m&&o.o&&Re(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=xr(rn(m)),p.m=null,p.P=!0,si(p,o)}s.Za=function(){this.C!=null&&(this.C=null,Ra(this),js(this),Jt(19))};function Da(o){o.C!=null&&(g.clearTimeout(o.C),o.C=null)}function pu(o,m){var p=null;if(o.g==m){Da(o),jr(o),o.g=null;var T=2}else if(Os(o.h,m))p=m.D,Ye(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var U=o.B;T=Mi(),jt(T,new pe(T,p)),wa(o)}else mu(o);else if(U=m.s,U==3||U==0&&0<m.X||!(T==1&&bc(o,m)||T==2&&js(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),U){case 1:di(o,5);break;case 4:di(o,10);break;case 3:di(o,6);break;default:di(o,2)}}}function Hs(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function di(o,m){if(o.j.info("Error code "+m),m==2){var p=P(o.fb,o),T=o.Xa;const U=!T;T=new fe(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||Mr(T,"https"),xr(T),U?zr(T.toString(),p):Vn(T.toString(),p)}else Jt(2);o.G=0,o.l&&o.l.sa(m),yu(o),fu(o)}s.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Jt(2)):(this.j.info("Failed to ping google.com"),Jt(1))};function yu(o){if(o.G=0,o.ka=[],o.l){const m=Ms(o.h);(m.length!=0||o.i.length!=0)&&(J(o.ka,m),J(o.ka,o.i),o.h.i.length=0,nt(o.i),o.i.length=0),o.l.ra()}}function _u(o,m,p){var T=p instanceof fe?rn(p):new fe(p);if(T.g!="")m&&(T.g=m+"."+T.g),Pi(T,T.s);else{var U=g.location;T=U.protocol,m=m?m+"."+U.hostname:U.hostname,U=+U.port;var q=new fe(null);T&&Mr(q,T),m&&(q.g=m),U&&Pi(q,U),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Qt(T,p,m),Qt(T,"VER",o.la),qr(o,T),T}function vu(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new kt(new Bi({eb:p})):new kt(o.pa),m.Ha(o.J),m}s.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eu(){}s=Eu.prototype,s.ua=function(){},s.ta=function(){},s.sa=function(){},s.ra=function(){},s.isActive=function(){return!0},s.Na=function(){};function Ca(){}Ca.prototype.g=function(o,m){return new Fe(o,m)};function Fe(o,m){re.call(this),this.g=new ba(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!At(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!At(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Gn(this)}F(Fe,re),Fe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fe.prototype.close=function(){ks(this.g)},Fe.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Dn(o),o=p);m.i.push(new lu(m.Ya++,o)),m.G==3&&wa(m)},Fe.prototype.N=function(){this.g.l=null,delete this.j,ks(this.g),delete this.g,Fe.aa.N.call(this)};function Tu(o){ri.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){t:{for(const p in m){o=p;break t}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}F(Tu,ri);function Au(){Cs.call(this),this.status=1}F(Au,Cs);function Gn(o){this.g=o}F(Gn,Eu),Gn.prototype.ua=function(){jt(this.g,"a")},Gn.prototype.ta=function(o){jt(this.g,new Tu(o))},Gn.prototype.sa=function(o){jt(this.g,new Au)},Gn.prototype.ra=function(){jt(this.g,"b")},Ca.prototype.createWebChannel=Ca.prototype.g,Fe.prototype.send=Fe.prototype.o,Fe.prototype.open=Fe.prototype.m,Fe.prototype.close=Fe.prototype.close,V_=function(){return new Ca},C_=function(){return Mi()},D_=Un,Uf={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},zi.NO_ERROR=0,zi.TIMEOUT=8,zi.HTTP_ERROR=6,Io=zi,ai.COMPLETE="complete",w_=ai,Ds.EventType=ii,ii.OPEN="a",ii.CLOSE="b",ii.ERROR="c",ii.MESSAGE="d",re.prototype.listen=re.prototype.K,Ol=Ds,kt.prototype.listenOnce=kt.prototype.L,kt.prototype.getLastError=kt.prototype.Ka,kt.prototype.getLastErrorCode=kt.prototype.Ba,kt.prototype.getStatus=kt.prototype.Z,kt.prototype.getResponseJson=kt.prototype.Oa,kt.prototype.getResponseText=kt.prototype.oa,kt.prototype.send=kt.prototype.ea,kt.prototype.setWithCredentials=kt.prototype.Ha,R_=kt}).apply(typeof bo<"u"?bo:typeof self<"u"?self:typeof window<"u"?window:{});const my="@firebase/firestore",gy="4.7.10";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _s="11.5.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new __("@firebase/firestore");function is(){return la.logLevel}function it(s,...e){if(la.logLevel<=xt.DEBUG){const i=e.map(id);la.debug(`Firestore (${_s}): ${s}`,...i)}}function Ii(s,...e){if(la.logLevel<=xt.ERROR){const i=e.map(id);la.error(`Firestore (${_s}): ${s}`,...i)}}function os(s,...e){if(la.logLevel<=xt.WARN){const i=e.map(id);la.warn(`Firestore (${_s}): ${s}`,...i)}}function id(s){if(typeof s=="string")return s;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(s)}catch{return s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(s="Unexpected state"){const e=`FIRESTORE (${_s}) INTERNAL ASSERTION FAILED: `+s;throw Ii(e),new Error(e)}function qt(s,e){s||dt()}function yt(s,e){return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends ys{constructor(e,i){super(e,i),this.code=e,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(){this.promise=new Promise((e,i)=>{this.resolve=e,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I_{constructor(e,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class NA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,i){e.enqueueRetryable(()=>i(Ge.UNAUTHENTICATED))}shutdown(){}}class OA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,i){this.changeListener=i,e.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class MA{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,i){qt(this.o===void 0);let a=this.i;const u=v=>this.i!==a?(a=this.i,i(v)):Promise.resolve();let h=new sa;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new sa,e.enqueueRetryable(()=>u(this.currentUser))};const d=()=>{const v=h;e.enqueueRetryable(async()=>{await v.promise,await u(this.currentUser)})},g=v=>{it("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=v,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(v=>g(v)),setTimeout(()=>{if(!this.auth){const v=this.t.getImmediate({optional:!0});v?g(v):(it("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new sa)}},0),d()}getToken(){const e=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(a=>this.i!==e?(it("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(qt(typeof a.accessToken=="string"),new I_(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return qt(e===null||typeof e=="string"),new Ge(e)}}class xA{constructor(e,i,a){this.l=e,this.h=i,this.P=a,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class UA{constructor(e,i,a){this.l=e,this.h=i,this.P=a}getToken(){return Promise.resolve(new xA(this.l,this.h,this.P))}start(e,i){e.enqueueRetryable(()=>i(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class py{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zA{constructor(e,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,pA(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,i){qt(this.o===void 0);const a=h=>{h.error!=null&&it("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,it("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{e.enqueueRetryable(()=>a(h))};const u=h=>{it("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):it("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new py(this.V));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(i=>i?(qt(typeof i.token=="string"),this.R=i.token,new py(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LA(s){const e=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(s);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(i);else for(let a=0;a<s;a++)i[a]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N_(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O_{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let a="";for(;a.length<20;){const u=LA(40);for(let h=0;h<u.length;++h)a.length<20&&u[h]<i&&(a+=e.charAt(u[h]%62))}return a}}function bt(s,e){return s<e?-1:s>e?1:0}function zf(s,e){let i=0;for(;i<s.length&&i<e.length;){const a=s.codePointAt(i),u=e.codePointAt(i);if(a!==u){if(a<128&&u<128)return bt(a,u);{const h=N_(),d=PA(h.encode(yy(s,i)),h.encode(yy(e,i)));return d!==0?d:bt(a,u)}}i+=a>65535?2:1}return bt(s.length,e.length)}function yy(s,e){return s.codePointAt(e)>65535?s.substring(e,e+2):s.substring(e,e+1)}function PA(s,e){for(let i=0;i<s.length&&i<e.length;++i)if(s[i]!==e[i])return bt(s[i],e[i]);return bt(s.length,e.length)}function cs(s,e,i){return s.length===e.length&&s.every((a,u)=>i(a,e[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y=-62135596800,vy=1e6;class Ae{static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const i=Math.floor(e/1e3),a=Math.floor((e-1e3*i)*vy);return new Ae(i,a)}constructor(e,i){if(this.seconds=e,this.nanoseconds=i,i<0)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new lt(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(e<_y)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/vy}_compareTo(e){return this.seconds===e.seconds?bt(this.nanoseconds,e.nanoseconds):bt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-_y;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static fromTimestamp(e){return new pt(e)}static min(){return new pt(new Ae(0,0))}static max(){return new pt(new Ae(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ey="__name__";class $n{constructor(e,i,a){i===void 0?i=0:i>e.length&&dt(),a===void 0?a=e.length-i:a>e.length-i&&dt(),this.segments=e,this.offset=i,this.len=a}get length(){return this.len}isEqual(e){return $n.comparator(this,e)===0}child(e){const i=this.segments.slice(this.offset,this.limit());return e instanceof $n?e.forEach(a=>{i.push(a)}):i.push(e),this.construct(i)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==e.get(i))return!1;return!0}forEach(e){for(let i=this.offset,a=this.limit();i<a;i++)e(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,i){const a=Math.min(e.length,i.length);for(let u=0;u<a;u++){const h=$n.compareSegments(e.get(u),i.get(u));if(h!==0)return h}return bt(e.length,i.length)}static compareSegments(e,i){const a=$n.isNumericId(e),u=$n.isNumericId(i);return a&&!u?-1:!a&&u?1:a&&u?$n.extractNumericId(e).compare($n.extractNumericId(i)):zf(e,i)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return cr.fromString(e.substring(4,e.length-2))}}class te extends $n{construct(e,i,a){return new te(e,i,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const i=[];for(const a of e){if(a.indexOf("//")>=0)throw new lt(Z.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);i.push(...a.split("/").filter(u=>u.length>0))}return new te(i)}static emptyPath(){return new te([])}}const BA=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Pe extends $n{construct(e,i,a){return new Pe(e,i,a)}static isValidIdentifier(e){return BA.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Pe.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Ey}static keyField(){return new Pe([Ey])}static fromServerFormat(e){const i=[];let a="",u=0;const h=()=>{if(a.length===0)throw new lt(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(a),a=""};let d=!1;for(;u<e.length;){const g=e[u];if(g==="\\"){if(u+1===e.length)throw new lt(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const v=e[u+1];if(v!=="\\"&&v!=="."&&v!=="`")throw new lt(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);a+=v,u+=2}else g==="`"?(d=!d,u++):g!=="."||d?(a+=g,u++):(h(),u++)}if(h(),d)throw new lt(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Pe(i)}static emptyPath(){return new Pe([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.path=e}static fromPath(e){return new ot(te.fromString(e))}static fromName(e){return new ot(te.fromString(e).popFirst(5))}static empty(){return new ot(te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&te.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,i){return te.comparator(e.path,i.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ot(new te(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hl=-1;function kA(s,e){const i=s.toTimestamp().seconds,a=s.toTimestamp().nanoseconds+1,u=pt.fromTimestamp(a===1e9?new Ae(i+1,0):new Ae(i,a));return new dr(u,ot.empty(),e)}function qA(s){return new dr(s.readTime,s.key,Hl)}class dr{constructor(e,i,a){this.readTime=e,this.documentKey=i,this.largestBatchId=a}static min(){return new dr(pt.min(),ot.empty(),Hl)}static max(){return new dr(pt.max(),ot.empty(),Hl)}}function jA(s,e){let i=s.readTime.compareTo(e.readTime);return i!==0?i:(i=ot.comparator(s.documentKey,e.documentKey),i!==0?i:bt(s.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GA{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vs(s){if(s.code!==Z.FAILED_PRECONDITION||s.message!==HA)throw s;it("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(e){return this.next(void 0,e)}next(e,i){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(e,this.result):new Y((a,u)=>{this.nextCallback=h=>{this.wrapSuccess(e,h).next(a,u)},this.catchCallback=h=>{this.wrapFailure(i,h).next(a,u)}})}toPromise(){return new Promise((e,i)=>{this.next(e,i)})}wrapUserFunction(e){try{const i=e();return i instanceof Y?i:Y.resolve(i)}catch(i){return Y.reject(i)}}wrapSuccess(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.resolve(i)}wrapFailure(e,i){return e?this.wrapUserFunction(()=>e(i)):Y.reject(i)}static resolve(e){return new Y((i,a)=>{i(e)})}static reject(e){return new Y((i,a)=>{a(e)})}static waitFor(e){return new Y((i,a)=>{let u=0,h=0,d=!1;e.forEach(g=>{++u,g.next(()=>{++h,d&&h===u&&i()},v=>a(v))}),d=!0,h===u&&i()})}static or(e){let i=Y.resolve(!1);for(const a of e)i=i.next(u=>u?Y.resolve(u):a());return i}static forEach(e,i){const a=[];return e.forEach((u,h)=>{a.push(i.call(this,u,h))}),this.waitFor(a)}static mapArray(e,i){return new Y((a,u)=>{const h=e.length,d=new Array(h);let g=0;for(let v=0;v<h;v++){const _=v;i(e[_]).next(A=>{d[_]=A,++g,g===h&&a(d)},A=>u(A))}})}static doWhile(e,i){return new Y((a,u)=>{const h=()=>{e()===!0?i().next(()=>{h()},u):a()};h()})}}function QA(s){const e=s.match(/Android ([\d.]+)/i),i=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function Es(s){return s.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,i){this.previousValue=e,i&&(i.sequenceNumberHandler=a=>this.oe(a),this._e=a=>i.writeSequenceNumber(a))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}Jo.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rd=-1;function Wo(s){return s==null}function ko(s){return s===0&&1/s==-1/0}function KA(s){return typeof s=="number"&&Number.isInteger(s)&&!ko(s)&&s<=Number.MAX_SAFE_INTEGER&&s>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="";function YA(s){let e="";for(let i=0;i<s.length;i++)e.length>0&&(e=Ty(e)),e=FA(s.get(i),e);return Ty(e)}function FA(s,e){let i=e;const a=s.length;for(let u=0;u<a;u++){const h=s.charAt(u);switch(h){case"\0":i+="";break;case M_:i+="";break;default:i+=h}}return i}function Ty(s){return s+M_+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ay(s){let e=0;for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e++;return e}function vr(s,e){for(const i in s)Object.prototype.hasOwnProperty.call(s,i)&&e(i,s[i])}function x_(s){for(const e in s)if(Object.prototype.hasOwnProperty.call(s,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,i){this.comparator=e,this.root=i||Le.EMPTY}insert(e,i){return new ne(this.comparator,this.root.insert(e,i,this.comparator).copy(null,null,Le.BLACK,null,null))}remove(e){return new ne(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Le.BLACK,null,null))}get(e){let i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return i.value;a<0?i=i.left:a>0&&(i=i.right)}return null}indexOf(e){let i=0,a=this.root;for(;!a.isEmpty();){const u=this.comparator(e,a.key);if(u===0)return i+a.left.size;u<0?a=a.left:(i+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((i,a)=>(e(i,a),!1))}toString(){const e=[];return this.inorderTraversal((i,a)=>(e.push(`${i}:${a}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ro(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ro(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ro(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ro(this.root,e,this.comparator,!0)}}class Ro{constructor(e,i,a,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!e.isEmpty();)if(h=i?a(e.key,i):1,i&&u&&(h*=-1),h<0)e=this.isReverse?e.left:e.right;else{if(h===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const i={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Le{constructor(e,i,a,u,h){this.key=e,this.value=i,this.color=a??Le.RED,this.left=u??Le.EMPTY,this.right=h??Le.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,i,a,u,h){return new Le(e??this.key,i??this.value,a??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,i,a){let u=this;const h=a(e,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(e,i,a),null):h===0?u.copy(null,i,null,null,null):u.copy(null,null,null,null,u.right.insert(e,i,a)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Le.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,i){let a,u=this;if(i(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,i),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),i(e,u.key)===0){if(u.right.isEmpty())return Le.EMPTY;a=u.right.min(),u=u.copy(a.key,a.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,i))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Le.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Le.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,i)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}Le.EMPTY=null,Le.RED=!0,Le.BLACK=!1;Le.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,i,a,u,h){return this}insert(e,i,a){return new Le(e,i)}remove(e,i){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.comparator=e,this.data=new ne(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((i,a)=>(e(i),!1))}forEachInRange(e,i){const a=this.data.getIteratorFrom(e[0]);for(;a.hasNext();){const u=a.getNext();if(this.comparator(u.key,e[1])>=0)return;i(u.key)}}forEachWhile(e,i){let a;for(a=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();a.hasNext();)if(!e(a.getNext().key))return}firstAfterOrEqual(e){const i=this.data.getIteratorFrom(e);return i.hasNext()?i.getNext().key:null}getIterator(){return new Sy(this.data.getIterator())}getIteratorFrom(e){return new Sy(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let i=this;return i.size<e.size&&(i=e,e=this),e.forEach(a=>{i=i.add(a)}),i}isEqual(e){if(!(e instanceof Se)||this.size!==e.size)return!1;const i=this.data.getIterator(),a=e.data.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(i=>{e.push(i)}),e}toString(){const e=[];return this.forEach(i=>e.push(i)),"SortedSet("+e.toString()+")"}copy(e){const i=new Se(this.comparator);return i.data=e,i}}class Sy{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.fields=e,e.sort(Pe.comparator)}static empty(){return new fn([])}unionWith(e){let i=new Se(Pe.comparator);for(const a of this.fields)i=i.add(a);for(const a of e)i=i.add(a);return new fn(i.toArray())}covers(e){for(const i of this.fields)if(i.isPrefixOf(e))return!0;return!1}isEqual(e){return cs(this.fields,e.fields,(i,a)=>i.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e){this.binaryString=e}static fromBase64String(e){const i=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new U_("Invalid base64 string: "+h):h}}(e);return new Be(i)}static fromUint8Array(e){const i=function(u){let h="";for(let d=0;d<u.length;++d)h+=String.fromCharCode(u[d]);return h}(e);return new Be(i)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const a=new Uint8Array(i.length);for(let u=0;u<i.length;u++)a[u]=i.charCodeAt(u);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return bt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Be.EMPTY_BYTE_STRING=new Be("");const XA=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(s){if(qt(!!s),typeof s=="string"){let e=0;const i=XA.exec(s);if(qt(!!i),i[1]){let u=i[1];u=(u+"000000000").substr(0,9),e=Number(u)}const a=new Date(s);return{seconds:Math.floor(a.getTime()/1e3),nanos:e}}return{seconds:ce(s.seconds),nanos:ce(s.nanos)}}function ce(s){return typeof s=="number"?s:typeof s=="string"?Number(s):0}function gr(s){return typeof s=="string"?Be.fromBase64String(s):Be.fromUint8Array(s)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z_="server_timestamp",L_="__type__",P_="__previous_value__",B_="__local_write_time__";function ad(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[L_])===null||i===void 0?void 0:i.stringValue)===z_}function tc(s){const e=s.mapValue.fields[P_];return ad(e)?tc(e):e}function Gl(s){const e=mr(s.mapValue.fields[B_].timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZA{constructor(e,i,a,u,h,d,g,v,_){this.databaseId=e,this.appId=i,this.persistenceKey=a,this.host=u,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=v,this.useFetchStreams=_}}const qo="(default)";class Ql{constructor(e,i){this.projectId=e,this.database=i||qo}static empty(){return new Ql("","")}get isDefaultDatabase(){return this.database===qo}isEqual(e){return e instanceof Ql&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="__type__",$A="__max__",wo={mapValue:{}},q_="__vector__",jo="value";function pr(s){return"nullValue"in s?0:"booleanValue"in s?1:"integerValue"in s||"doubleValue"in s?2:"timestampValue"in s?3:"stringValue"in s?5:"bytesValue"in s?6:"referenceValue"in s?7:"geoPointValue"in s?8:"arrayValue"in s?9:"mapValue"in s?ad(s)?4:WA(s)?9007199254740991:JA(s)?10:11:dt()}function ti(s,e){if(s===e)return!0;const i=pr(s);if(i!==pr(e))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return s.booleanValue===e.booleanValue;case 4:return Gl(s).isEqual(Gl(e));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const d=mr(u.timestampValue),g=mr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(s,e);case 5:return s.stringValue===e.stringValue;case 6:return function(u,h){return gr(u.bytesValue).isEqual(gr(h.bytesValue))}(s,e);case 7:return s.referenceValue===e.referenceValue;case 8:return function(u,h){return ce(u.geoPointValue.latitude)===ce(h.geoPointValue.latitude)&&ce(u.geoPointValue.longitude)===ce(h.geoPointValue.longitude)}(s,e);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ce(u.integerValue)===ce(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const d=ce(u.doubleValue),g=ce(h.doubleValue);return d===g?ko(d)===ko(g):isNaN(d)&&isNaN(g)}return!1}(s,e);case 9:return cs(s.arrayValue.values||[],e.arrayValue.values||[],ti);case 10:case 11:return function(u,h){const d=u.mapValue.fields||{},g=h.mapValue.fields||{};if(Ay(d)!==Ay(g))return!1;for(const v in d)if(d.hasOwnProperty(v)&&(g[v]===void 0||!ti(d[v],g[v])))return!1;return!0}(s,e);default:return dt()}}function Kl(s,e){return(s.values||[]).find(i=>ti(i,e))!==void 0}function hs(s,e){if(s===e)return 0;const i=pr(s),a=pr(e);if(i!==a)return bt(i,a);switch(i){case 0:case 9007199254740991:return 0;case 1:return bt(s.booleanValue,e.booleanValue);case 2:return function(h,d){const g=ce(h.integerValue||h.doubleValue),v=ce(d.integerValue||d.doubleValue);return g<v?-1:g>v?1:g===v?0:isNaN(g)?isNaN(v)?0:-1:1}(s,e);case 3:return by(s.timestampValue,e.timestampValue);case 4:return by(Gl(s),Gl(e));case 5:return zf(s.stringValue,e.stringValue);case 6:return function(h,d){const g=gr(h),v=gr(d);return g.compareTo(v)}(s.bytesValue,e.bytesValue);case 7:return function(h,d){const g=h.split("/"),v=d.split("/");for(let _=0;_<g.length&&_<v.length;_++){const A=bt(g[_],v[_]);if(A!==0)return A}return bt(g.length,v.length)}(s.referenceValue,e.referenceValue);case 8:return function(h,d){const g=bt(ce(h.latitude),ce(d.latitude));return g!==0?g:bt(ce(h.longitude),ce(d.longitude))}(s.geoPointValue,e.geoPointValue);case 9:return Ry(s.arrayValue,e.arrayValue);case 10:return function(h,d){var g,v,_,A;const V=h.fields||{},P=d.fields||{},j=(g=V[jo])===null||g===void 0?void 0:g.arrayValue,F=(v=P[jo])===null||v===void 0?void 0:v.arrayValue,nt=bt(((_=j==null?void 0:j.values)===null||_===void 0?void 0:_.length)||0,((A=F==null?void 0:F.values)===null||A===void 0?void 0:A.length)||0);return nt!==0?nt:Ry(j,F)}(s.mapValue,e.mapValue);case 11:return function(h,d){if(h===wo.mapValue&&d===wo.mapValue)return 0;if(h===wo.mapValue)return 1;if(d===wo.mapValue)return-1;const g=h.fields||{},v=Object.keys(g),_=d.fields||{},A=Object.keys(_);v.sort(),A.sort();for(let V=0;V<v.length&&V<A.length;++V){const P=zf(v[V],A[V]);if(P!==0)return P;const j=hs(g[v[V]],_[A[V]]);if(j!==0)return j}return bt(v.length,A.length)}(s.mapValue,e.mapValue);default:throw dt()}}function by(s,e){if(typeof s=="string"&&typeof e=="string"&&s.length===e.length)return bt(s,e);const i=mr(s),a=mr(e),u=bt(i.seconds,a.seconds);return u!==0?u:bt(i.nanos,a.nanos)}function Ry(s,e){const i=s.values||[],a=e.values||[];for(let u=0;u<i.length&&u<a.length;++u){const h=hs(i[u],a[u]);if(h)return h}return bt(i.length,a.length)}function fs(s){return Lf(s)}function Lf(s){return"nullValue"in s?"null":"booleanValue"in s?""+s.booleanValue:"integerValue"in s?""+s.integerValue:"doubleValue"in s?""+s.doubleValue:"timestampValue"in s?function(i){const a=mr(i);return`time(${a.seconds},${a.nanos})`}(s.timestampValue):"stringValue"in s?s.stringValue:"bytesValue"in s?function(i){return gr(i).toBase64()}(s.bytesValue):"referenceValue"in s?function(i){return ot.fromName(i).toString()}(s.referenceValue):"geoPointValue"in s?function(i){return`geo(${i.latitude},${i.longitude})`}(s.geoPointValue):"arrayValue"in s?function(i){let a="[",u=!0;for(const h of i.values||[])u?u=!1:a+=",",a+=Lf(h);return a+"]"}(s.arrayValue):"mapValue"in s?function(i){const a=Object.keys(i.fields||{}).sort();let u="{",h=!0;for(const d of a)h?h=!1:u+=",",u+=`${d}:${Lf(i.fields[d])}`;return u+"}"}(s.mapValue):dt()}function No(s){switch(pr(s)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tc(s);return e?16+No(e):16;case 5:return 2*s.stringValue.length;case 6:return gr(s.bytesValue).approximateByteSize();case 7:return s.referenceValue.length;case 9:return function(a){return(a.values||[]).reduce((u,h)=>u+No(h),0)}(s.arrayValue);case 10:case 11:return function(a){let u=0;return vr(a.fields,(h,d)=>{u+=h.length+No(d)}),u}(s.mapValue);default:throw dt()}}function Pf(s){return!!s&&"integerValue"in s}function sd(s){return!!s&&"arrayValue"in s}function wy(s){return!!s&&"nullValue"in s}function Dy(s){return!!s&&"doubleValue"in s&&isNaN(Number(s.doubleValue))}function Oo(s){return!!s&&"mapValue"in s}function JA(s){var e,i;return((i=(((e=s==null?void 0:s.mapValue)===null||e===void 0?void 0:e.fields)||{})[k_])===null||i===void 0?void 0:i.stringValue)===q_}function zl(s){if(s.geoPointValue)return{geoPointValue:Object.assign({},s.geoPointValue)};if(s.timestampValue&&typeof s.timestampValue=="object")return{timestampValue:Object.assign({},s.timestampValue)};if(s.mapValue){const e={mapValue:{fields:{}}};return vr(s.mapValue.fields,(i,a)=>e.mapValue.fields[i]=zl(a)),e}if(s.arrayValue){const e={arrayValue:{values:[]}};for(let i=0;i<(s.arrayValue.values||[]).length;++i)e.arrayValue.values[i]=zl(s.arrayValue.values[i]);return e}return Object.assign({},s)}function WA(s){return(((s.mapValue||{}).fields||{}).__type__||{}).stringValue===$A}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.value=e}static empty(){return new tn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let i=this.value;for(let a=0;a<e.length-1;++a)if(i=(i.mapValue.fields||{})[e.get(a)],!Oo(i))return null;return i=(i.mapValue.fields||{})[e.lastSegment()],i||null}}set(e,i){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(i)}setAll(e){let i=Pe.emptyPath(),a={},u=[];e.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const v=this.getFieldsMap(i);this.applyChanges(v,a,u),a={},u=[],i=g.popLast()}d?a[g.lastSegment()]=zl(d):u.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,a,u)}delete(e){const i=this.field(e.popLast());Oo(i)&&i.mapValue.fields&&delete i.mapValue.fields[e.lastSegment()]}isEqual(e){return ti(this.value,e.value)}getFieldsMap(e){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let a=0;a<e.length;++a){let u=i.mapValue.fields[e.get(a)];Oo(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},i.mapValue.fields[e.get(a)]=u),i=u}return i.mapValue.fields}applyChanges(e,i,a){vr(i,(u,h)=>e[u]=h);for(const u of a)delete e[u]}clone(){return new tn(zl(this.value))}}function j_(s){const e=[];return vr(s.fields,(i,a)=>{const u=new Pe([i]);if(Oo(a)){const h=j_(a.mapValue).fields;if(h.length===0)e.push(u);else for(const d of h)e.push(u.child(d))}else e.push(u)}),new fn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e,i,a,u,h,d,g){this.key=e,this.documentType=i,this.version=a,this.readTime=u,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(e){return new Qe(e,0,pt.min(),pt.min(),pt.min(),tn.empty(),0)}static newFoundDocument(e,i,a,u){return new Qe(e,1,i,pt.min(),a,u,0)}static newNoDocument(e,i){return new Qe(e,2,i,pt.min(),pt.min(),tn.empty(),0)}static newUnknownDocument(e,i){return new Qe(e,3,i,pt.min(),pt.min(),tn.empty(),2)}convertToFoundDocument(e,i){return!this.createTime.isEqual(pt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=pt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e,i){this.position=e,this.inclusive=i}}function Cy(s,e,i){let a=0;for(let u=0;u<s.position.length;u++){const h=e[u],d=s.position[u];if(h.field.isKeyField()?a=ot.comparator(ot.fromName(d.referenceValue),i.key):a=hs(d,i.data.field(h.field)),h.dir==="desc"&&(a*=-1),a!==0)break}return a}function Vy(s,e){if(s===null)return e===null;if(e===null||s.inclusive!==e.inclusive||s.position.length!==e.position.length)return!1;for(let i=0;i<s.position.length;i++)if(!ti(s.position[i],e.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,i="asc"){this.field=e,this.dir=i}}function tS(s,e){return s.dir===e.dir&&s.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H_{}class Te extends H_{constructor(e,i,a){super(),this.field=e,this.op=i,this.value=a}static create(e,i,a){return e.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(e,i,a):new nS(e,i,a):i==="array-contains"?new aS(e,a):i==="in"?new sS(e,a):i==="not-in"?new lS(e,a):i==="array-contains-any"?new uS(e,a):new Te(e,i,a)}static createKeyFieldInFilter(e,i,a){return i==="in"?new iS(e,a):new rS(e,a)}matches(e){const i=e.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(hs(i,this.value)):i!==null&&pr(this.value)===pr(i)&&this.matchesComparison(hs(i,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ei extends H_{constructor(e,i){super(),this.filters=e,this.op=i,this.ce=null}static create(e,i){return new ei(e,i)}matches(e){return G_(this)?this.filters.find(i=>!i.matches(e))===void 0:this.filters.find(i=>i.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,i)=>e.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function G_(s){return s.op==="and"}function Q_(s){return eS(s)&&G_(s)}function eS(s){for(const e of s.filters)if(e instanceof ei)return!1;return!0}function Bf(s){if(s instanceof Te)return s.field.canonicalString()+s.op.toString()+fs(s.value);if(Q_(s))return s.filters.map(e=>Bf(e)).join(",");{const e=s.filters.map(i=>Bf(i)).join(",");return`${s.op}(${e})`}}function K_(s,e){return s instanceof Te?function(a,u){return u instanceof Te&&a.op===u.op&&a.field.isEqual(u.field)&&ti(a.value,u.value)}(s,e):s instanceof ei?function(a,u){return u instanceof ei&&a.op===u.op&&a.filters.length===u.filters.length?a.filters.reduce((h,d,g)=>h&&K_(d,u.filters[g]),!0):!1}(s,e):void dt()}function Y_(s){return s instanceof Te?function(i){return`${i.field.canonicalString()} ${i.op} ${fs(i.value)}`}(s):s instanceof ei?function(i){return i.op.toString()+" {"+i.getFilters().map(Y_).join(" ,")+"}"}(s):"Filter"}class nS extends Te{constructor(e,i,a){super(e,i,a),this.key=ot.fromName(a.referenceValue)}matches(e){const i=ot.comparator(e.key,this.key);return this.matchesComparison(i)}}class iS extends Te{constructor(e,i){super(e,"in",i),this.keys=F_("in",i)}matches(e){return this.keys.some(i=>i.isEqual(e.key))}}class rS extends Te{constructor(e,i){super(e,"not-in",i),this.keys=F_("not-in",i)}matches(e){return!this.keys.some(i=>i.isEqual(e.key))}}function F_(s,e){var i;return(((i=e.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(a=>ot.fromName(a.referenceValue))}class aS extends Te{constructor(e,i){super(e,"array-contains",i)}matches(e){const i=e.data.field(this.field);return sd(i)&&Kl(i.arrayValue,this.value)}}class sS extends Te{constructor(e,i){super(e,"in",i)}matches(e){const i=e.data.field(this.field);return i!==null&&Kl(this.value.arrayValue,i)}}class lS extends Te{constructor(e,i){super(e,"not-in",i)}matches(e){if(Kl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=e.data.field(this.field);return i!==null&&!Kl(this.value.arrayValue,i)}}class uS extends Te{constructor(e,i){super(e,"array-contains-any",i)}matches(e){const i=e.data.field(this.field);return!(!sd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(a=>Kl(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oS{constructor(e,i=null,a=[],u=[],h=null,d=null,g=null){this.path=e,this.collectionGroup=i,this.orderBy=a,this.filters=u,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function Iy(s,e=null,i=[],a=[],u=null,h=null,d=null){return new oS(s,e,i,a,u,h,d)}function ld(s){const e=yt(s);if(e.le===null){let i=e.path.canonicalString();e.collectionGroup!==null&&(i+="|cg:"+e.collectionGroup),i+="|f:",i+=e.filters.map(a=>Bf(a)).join(","),i+="|ob:",i+=e.orderBy.map(a=>function(h){return h.field.canonicalString()+h.dir}(a)).join(","),Wo(e.limit)||(i+="|l:",i+=e.limit),e.startAt&&(i+="|lb:",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map(a=>fs(a)).join(",")),e.endAt&&(i+="|ub:",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map(a=>fs(a)).join(",")),e.le=i}return e.le}function ud(s,e){if(s.limit!==e.limit||s.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<s.orderBy.length;i++)if(!tS(s.orderBy[i],e.orderBy[i]))return!1;if(s.filters.length!==e.filters.length)return!1;for(let i=0;i<s.filters.length;i++)if(!K_(s.filters[i],e.filters[i]))return!1;return s.collectionGroup===e.collectionGroup&&!!s.path.isEqual(e.path)&&!!Vy(s.startAt,e.startAt)&&Vy(s.endAt,e.endAt)}function kf(s){return ot.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,i=null,a=[],u=[],h=null,d="F",g=null,v=null){this.path=e,this.collectionGroup=i,this.explicitOrderBy=a,this.filters=u,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=v,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function cS(s,e,i,a,u,h,d,g){return new ec(s,e,i,a,u,h,d,g)}function od(s){return new ec(s)}function Ny(s){return s.filters.length===0&&s.limit===null&&s.startAt==null&&s.endAt==null&&(s.explicitOrderBy.length===0||s.explicitOrderBy.length===1&&s.explicitOrderBy[0].field.isKeyField())}function hS(s){return s.collectionGroup!==null}function Ll(s){const e=yt(s);if(e.he===null){e.he=[];const i=new Set;for(const h of e.explicitOrderBy)e.he.push(h),i.add(h.field.canonicalString());const a=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new Se(Pe.comparator);return d.filters.forEach(v=>{v.getFlattenedFilters().forEach(_=>{_.isInequality()&&(g=g.add(_.field))})}),g})(e).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||e.he.push(new Go(h,a))}),i.has(Pe.keyField().canonicalString())||e.he.push(new Go(Pe.keyField(),a))}return e.he}function Jn(s){const e=yt(s);return e.Pe||(e.Pe=fS(e,Ll(s))),e.Pe}function fS(s,e){if(s.limitType==="F")return Iy(s.path,s.collectionGroup,e,s.filters,s.limit,s.startAt,s.endAt);{e=e.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new Go(u.field,h)});const i=s.endAt?new Ho(s.endAt.position,s.endAt.inclusive):null,a=s.startAt?new Ho(s.startAt.position,s.startAt.inclusive):null;return Iy(s.path,s.collectionGroup,e,s.filters,s.limit,i,a)}}function qf(s,e,i){return new ec(s.path,s.collectionGroup,s.explicitOrderBy.slice(),s.filters.slice(),e,i,s.startAt,s.endAt)}function nc(s,e){return ud(Jn(s),Jn(e))&&s.limitType===e.limitType}function X_(s){return`${ld(Jn(s))}|lt:${s.limitType}`}function rs(s){return`Query(target=${function(i){let a=i.path.canonicalString();return i.collectionGroup!==null&&(a+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(a+=`, filters: [${i.filters.map(u=>Y_(u)).join(", ")}]`),Wo(i.limit)||(a+=", limit: "+i.limit),i.orderBy.length>0&&(a+=`, orderBy: [${i.orderBy.map(u=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(u)).join(", ")}]`),i.startAt&&(a+=", startAt: ",a+=i.startAt.inclusive?"b:":"a:",a+=i.startAt.position.map(u=>fs(u)).join(",")),i.endAt&&(a+=", endAt: ",a+=i.endAt.inclusive?"a:":"b:",a+=i.endAt.position.map(u=>fs(u)).join(",")),`Target(${a})`}(Jn(s))}; limitType=${s.limitType})`}function ic(s,e){return e.isFoundDocument()&&function(a,u){const h=u.key.path;return a.collectionGroup!==null?u.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(h):ot.isDocumentKey(a.path)?a.path.isEqual(h):a.path.isImmediateParentOf(h)}(s,e)&&function(a,u){for(const h of Ll(a))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(s,e)&&function(a,u){for(const h of a.filters)if(!h.matches(u))return!1;return!0}(s,e)&&function(a,u){return!(a.startAt&&!function(d,g,v){const _=Cy(d,g,v);return d.inclusive?_<=0:_<0}(a.startAt,Ll(a),u)||a.endAt&&!function(d,g,v){const _=Cy(d,g,v);return d.inclusive?_>=0:_>0}(a.endAt,Ll(a),u))}(s,e)}function dS(s){return s.collectionGroup||(s.path.length%2==1?s.path.lastSegment():s.path.get(s.path.length-2))}function Z_(s){return(e,i)=>{let a=!1;for(const u of Ll(s)){const h=mS(u,e,i);if(h!==0)return h;a=a||u.field.isKeyField()}return 0}}function mS(s,e,i){const a=s.field.isKeyField()?ot.comparator(e.key,i.key):function(h,d,g){const v=d.data.field(h),_=g.data.field(h);return v!==null&&_!==null?hs(v,_):dt()}(s.field,e,i);switch(s.dir){case"asc":return a;case"desc":return-1*a;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(e,i){this.mapKeyFn=e,this.equalsFn=i,this.inner={},this.innerSize=0}get(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a!==void 0){for(const[u,h]of a)if(this.equalsFn(u,e))return h}}has(e){return this.get(e)!==void 0}set(e,i){const a=this.mapKeyFn(e),u=this.inner[a];if(u===void 0)return this.inner[a]=[[e,i]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],e))return void(u[h]=[e,i]);u.push([e,i]),this.innerSize++}delete(e){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return!1;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return a.length===1?delete this.inner[i]:a.splice(u,1),this.innerSize--,!0;return!1}forEach(e){vr(this.inner,(i,a)=>{for(const[u,h]of a)e(u,h)})}isEmpty(){return x_(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gS=new ne(ot.comparator);function Ni(){return gS}const $_=new ne(ot.comparator);function Ml(...s){let e=$_;for(const i of s)e=e.insert(i.key,i);return e}function J_(s){let e=$_;return s.forEach((i,a)=>e=e.insert(i,a.overlayedDocument)),e}function aa(){return Pl()}function W_(){return Pl()}function Pl(){return new oa(s=>s.toString(),(s,e)=>s.isEqual(e))}const pS=new ne(ot.comparator),yS=new Se(ot.comparator);function Vt(...s){let e=yS;for(const i of s)e=e.add(i);return e}const _S=new Se(bt);function vS(){return _S}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(s,e){if(s.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ko(e)?"-0":e}}function tv(s){return{integerValue:""+s}}function ES(s,e){return KA(e)?tv(e):cd(s,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(){this._=void 0}}function TS(s,e,i){return s instanceof Qo?function(u,h){const d={fields:{[L_]:{stringValue:z_},[B_]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&ad(h)&&(h=tc(h)),h&&(d.fields[P_]=h),{mapValue:d}}(i,e):s instanceof Yl?nv(s,e):s instanceof Fl?iv(s,e):function(u,h){const d=ev(u,h),g=Oy(d)+Oy(u.Ie);return Pf(d)&&Pf(u.Ie)?tv(g):cd(u.serializer,g)}(s,e)}function AS(s,e,i){return s instanceof Yl?nv(s,e):s instanceof Fl?iv(s,e):i}function ev(s,e){return s instanceof Ko?function(a){return Pf(a)||function(h){return!!h&&"doubleValue"in h}(a)}(e)?e:{integerValue:0}:null}class Qo extends rc{}class Yl extends rc{constructor(e){super(),this.elements=e}}function nv(s,e){const i=rv(e);for(const a of s.elements)i.some(u=>ti(u,a))||i.push(a);return{arrayValue:{values:i}}}class Fl extends rc{constructor(e){super(),this.elements=e}}function iv(s,e){let i=rv(e);for(const a of s.elements)i=i.filter(u=>!ti(u,a));return{arrayValue:{values:i}}}class Ko extends rc{constructor(e,i){super(),this.serializer=e,this.Ie=i}}function Oy(s){return ce(s.integerValue||s.doubleValue)}function rv(s){return sd(s)&&s.arrayValue.values?s.arrayValue.values.slice():[]}function SS(s,e){return s.field.isEqual(e.field)&&function(a,u){return a instanceof Yl&&u instanceof Yl||a instanceof Fl&&u instanceof Fl?cs(a.elements,u.elements,ti):a instanceof Ko&&u instanceof Ko?ti(a.Ie,u.Ie):a instanceof Qo&&u instanceof Qo}(s.transform,e.transform)}class bS{constructor(e,i){this.version=e,this.transformResults=i}}class Mn{constructor(e,i){this.updateTime=e,this.exists=i}static none(){return new Mn}static exists(e){return new Mn(void 0,e)}static updateTime(e){return new Mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Mo(s,e){return s.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(s.updateTime):s.exists===void 0||s.exists===e.isFoundDocument()}class ac{}function av(s,e){if(!s.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return s.isNoDocument()?new hd(s.key,Mn.none()):new Xl(s.key,s.data,Mn.none());{const i=s.data,a=tn.empty();let u=new Se(Pe.comparator);for(let h of e.fields)if(!u.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?a.delete(h):a.set(h,d),u=u.add(h)}return new Er(s.key,a,new fn(u.toArray()),Mn.none())}}function RS(s,e,i){s instanceof Xl?function(u,h,d){const g=u.value.clone(),v=xy(u.fieldTransforms,h,d.transformResults);g.setAll(v),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(s,e,i):s instanceof Er?function(u,h,d){if(!Mo(u.precondition,h))return void h.convertToUnknownDocument(d.version);const g=xy(u.fieldTransforms,h,d.transformResults),v=h.data;v.setAll(sv(u)),v.setAll(g),h.convertToFoundDocument(d.version,v).setHasCommittedMutations()}(s,e,i):function(u,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,i)}function Bl(s,e,i,a){return s instanceof Xl?function(h,d,g,v){if(!Mo(h.precondition,d))return g;const _=h.value.clone(),A=Uy(h.fieldTransforms,v,d);return _.setAll(A),d.convertToFoundDocument(d.version,_).setHasLocalMutations(),null}(s,e,i,a):s instanceof Er?function(h,d,g,v){if(!Mo(h.precondition,d))return g;const _=Uy(h.fieldTransforms,v,d),A=d.data;return A.setAll(sv(h)),A.setAll(_),d.convertToFoundDocument(d.version,A).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(s,e,i,a):function(h,d,g){return Mo(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(s,e,i)}function wS(s,e){let i=null;for(const a of s.fieldTransforms){const u=e.data.field(a.field),h=ev(a.transform,u||null);h!=null&&(i===null&&(i=tn.empty()),i.set(a.field,h))}return i||null}function My(s,e){return s.type===e.type&&!!s.key.isEqual(e.key)&&!!s.precondition.isEqual(e.precondition)&&!!function(a,u){return a===void 0&&u===void 0||!(!a||!u)&&cs(a,u,(h,d)=>SS(h,d))}(s.fieldTransforms,e.fieldTransforms)&&(s.type===0?s.value.isEqual(e.value):s.type!==1||s.data.isEqual(e.data)&&s.fieldMask.isEqual(e.fieldMask))}class Xl extends ac{constructor(e,i,a,u=[]){super(),this.key=e,this.value=i,this.precondition=a,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Er extends ac{constructor(e,i,a,u,h=[]){super(),this.key=e,this.data=i,this.fieldMask=a,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function sv(s){const e=new Map;return s.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const a=s.data.field(i);e.set(i,a)}}),e}function xy(s,e,i){const a=new Map;qt(s.length===i.length);for(let u=0;u<i.length;u++){const h=s[u],d=h.transform,g=e.data.field(h.field);a.set(h.field,AS(d,g,i[u]))}return a}function Uy(s,e,i){const a=new Map;for(const u of s){const h=u.transform,d=i.data.field(u.field);a.set(u.field,TS(h,d,e))}return a}class hd extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class DS extends ac{constructor(e,i){super(),this.key=e,this.precondition=i,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{constructor(e,i,a,u){this.batchId=e,this.localWriteTime=i,this.baseMutations=a,this.mutations=u}applyToRemoteDocument(e,i){const a=i.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(e.key)&&RS(h,e,a[u])}}applyToLocalView(e,i){for(const a of this.baseMutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(e.key)&&(i=Bl(a,e,i,this.localWriteTime));return i}applyToLocalDocumentSet(e,i){const a=W_();return this.mutations.forEach(u=>{const h=e.get(u.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(u.key)?null:g;const v=av(d,g);v!==null&&a.set(u.key,v),d.isValidDocument()||d.convertToNoDocument(pt.min())}),a}keys(){return this.mutations.reduce((e,i)=>e.add(i.key),Vt())}isEqual(e){return this.batchId===e.batchId&&cs(this.mutations,e.mutations,(i,a)=>My(i,a))&&cs(this.baseMutations,e.baseMutations,(i,a)=>My(i,a))}}class fd{constructor(e,i,a,u){this.batch=e,this.commitVersion=i,this.mutationResults=a,this.docVersions=u}static from(e,i,a){qt(e.mutations.length===a.length);let u=function(){return pS}();const h=e.mutations;for(let d=0;d<h.length;d++)u=u.insert(h[d].key,a[d].version);return new fd(e,i,a,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,i){this.largestBatchId=e,this.mutation=i}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,i){this.count=e,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Mt;function NS(s){switch(s){case Z.OK:return dt();case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return dt()}}function lv(s){if(s===void 0)return Ii("GRPC error has no .code"),Z.UNKNOWN;switch(s){case ge.OK:return Z.OK;case ge.CANCELLED:return Z.CANCELLED;case ge.UNKNOWN:return Z.UNKNOWN;case ge.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case ge.INTERNAL:return Z.INTERNAL;case ge.UNAVAILABLE:return Z.UNAVAILABLE;case ge.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case ge.NOT_FOUND:return Z.NOT_FOUND;case ge.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case ge.ABORTED:return Z.ABORTED;case ge.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case ge.DATA_LOSS:return Z.DATA_LOSS;default:return dt()}}(Mt=ge||(ge={}))[Mt.OK=0]="OK",Mt[Mt.CANCELLED=1]="CANCELLED",Mt[Mt.UNKNOWN=2]="UNKNOWN",Mt[Mt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Mt[Mt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Mt[Mt.NOT_FOUND=5]="NOT_FOUND",Mt[Mt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Mt[Mt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Mt[Mt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Mt[Mt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Mt[Mt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Mt[Mt.ABORTED=10]="ABORTED",Mt[Mt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Mt[Mt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Mt[Mt.INTERNAL=13]="INTERNAL",Mt[Mt.UNAVAILABLE=14]="UNAVAILABLE",Mt[Mt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OS=new cr([4294967295,4294967295],0);function zy(s){const e=N_().encode(s),i=new b_;return i.update(e),new Uint8Array(i.digest())}function Ly(s){const e=new DataView(s.buffer),i=e.getUint32(0,!0),a=e.getUint32(4,!0),u=e.getUint32(8,!0),h=e.getUint32(12,!0);return[new cr([i,a],0),new cr([u,h],0)]}class dd{constructor(e,i,a){if(this.bitmap=e,this.padding=i,this.hashCount=a,i<0||i>=8)throw new xl(`Invalid padding: ${i}`);if(a<0)throw new xl(`Invalid hash count: ${a}`);if(e.length>0&&this.hashCount===0)throw new xl(`Invalid hash count: ${a}`);if(e.length===0&&i!==0)throw new xl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*e.length-i,this.de=cr.fromNumber(this.Ee)}Ae(e,i,a){let u=e.add(i.multiply(cr.fromNumber(a)));return u.compare(OS)===1&&(u=new cr([u.getBits(0),u.getBits(1)],0)),u.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;const i=zy(e),[a,u]=Ly(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);if(!this.Re(d))return!1}return!0}static create(e,i,a){const u=e%8==0?0:8-e%8,h=new Uint8Array(Math.ceil(e/8)),d=new dd(h,u,i);return a.forEach(g=>d.insert(g)),d}insert(e){if(this.Ee===0)return;const i=zy(e),[a,u]=Ly(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(a,u,h);this.Ve(d)}}Ve(e){const i=Math.floor(e/8),a=e%8;this.bitmap[i]|=1<<a}}class xl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,i,a,u,h){this.snapshotVersion=e,this.targetChanges=i,this.targetMismatches=a,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(e,i,a){const u=new Map;return u.set(e,Zl.createSynthesizedTargetChangeForCurrentChange(e,i,a)),new sc(pt.min(),u,new ne(bt),Ni(),Vt())}}class Zl{constructor(e,i,a,u,h){this.resumeToken=e,this.current=i,this.addedDocuments=a,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(e,i,a){return new Zl(a,i,Vt(),Vt(),Vt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo{constructor(e,i,a,u){this.me=e,this.removedTargetIds=i,this.key=a,this.fe=u}}class uv{constructor(e,i){this.targetId=e,this.ge=i}}class ov{constructor(e,i,a=Be.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=i,this.resumeToken=a,this.cause=u}}class Py{constructor(){this.pe=0,this.ye=By(),this.we=Be.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=Vt(),i=Vt(),a=Vt();return this.ye.forEach((u,h)=>{switch(h){case 0:e=e.add(u);break;case 2:i=i.add(u);break;case 1:a=a.add(u);break;default:dt()}}),new Zl(this.we,this.Se,e,i,a)}Me(){this.be=!1,this.ye=By()}xe(e,i){this.be=!0,this.ye=this.ye.insert(e,i)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,qt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class MS{constructor(e){this.ke=e,this.qe=new Map,this.Qe=Ni(),this.$e=Do(),this.Ue=Do(),this.Ke=new ne(bt)}We(e){for(const i of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(i,e.fe):this.ze(i,e.key,e.fe);for(const i of e.removedTargetIds)this.ze(i,e.key,e.fe)}je(e){this.forEachTarget(e,i=>{const a=this.He(i);switch(e.state){case 0:this.Je(i)&&a.Ce(e.resumeToken);break;case 1:a.Be(),a.De||a.Me(),a.Ce(e.resumeToken);break;case 2:a.Be(),a.De||this.removeTarget(i);break;case 3:this.Je(i)&&(a.Le(),a.Ce(e.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),a.Ce(e.resumeToken));break;default:dt()}})}forEachTarget(e,i){e.targetIds.length>0?e.targetIds.forEach(i):this.qe.forEach((a,u)=>{this.Je(u)&&i(u)})}Ze(e){const i=e.targetId,a=e.ge.count,u=this.Xe(i);if(u){const h=u.target;if(kf(h))if(a===0){const d=new ot(h.path);this.ze(i,d,Qe.newNoDocument(d,pt.min()))}else qt(a===1);else{const d=this.et(i);if(d!==a){const g=this.tt(e),v=g?this.nt(g,e,d):1;if(v!==0){this.Ye(i);const _=v===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,_)}}}}}tt(e){const i=e.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:a="",padding:u=0},hashCount:h=0}=i;let d,g;try{d=gr(a).toUint8Array()}catch(v){if(v instanceof U_)return os("Decoding the base64 bloom filter in existence filter failed ("+v.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw v}try{g=new dd(d,u,h)}catch(v){return os(v instanceof xl?"BloomFilter error: ":"Applying bloom filter failed: ",v),null}return g.Ee===0?null:g}nt(e,i,a){return i.ge.count===a-this.st(e,i.targetId)?0:2}st(e,i){const a=this.ke.getRemoteKeysForTarget(i);let u=0;return a.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;e.mightContain(g)||(this.ze(i,h,null),u++)}),u}ot(e){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&kf(g.target)){const v=new ot(g.target.path);this._t(v).has(d)||this.ut(d,v)||this.ze(d,v,Qe.newNoDocument(v,e))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let a=Vt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(v=>{const _=this.Xe(v);return!_||_.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(a=a.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(e));const u=new sc(e,i,this.Ke,this.Qe,a);return this.Qe=Ni(),this.$e=Do(),this.Ue=Do(),this.Ke=new ne(bt),u}Ge(e,i){if(!this.Je(e))return;const a=this.ut(e,i.key)?2:0;this.He(e).xe(i.key,a),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(e)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(e))}ze(e,i,a){if(!this.Je(e))return;const u=this.He(e);this.ut(e,i)?u.xe(i,1):u.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(e)),this.Ue=this.Ue.insert(i,this.ct(i).add(e)),a&&(this.Qe=this.Qe.insert(i,a))}removeTarget(e){this.qe.delete(e)}et(e){const i=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+i.addedDocuments.size-i.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let i=this.qe.get(e);return i||(i=new Py,this.qe.set(e,i)),i}ct(e){let i=this.Ue.get(e);return i||(i=new Se(bt),this.Ue=this.Ue.insert(e,i)),i}_t(e){let i=this.$e.get(e);return i||(i=new Se(bt),this.$e=this.$e.insert(e,i)),i}Je(e){const i=this.Xe(e)!==null;return i||it("WatchChangeAggregator","Detected inactive target",e),i}Xe(e){const i=this.qe.get(e);return i&&i.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Py),this.ke.getRemoteKeysForTarget(e).forEach(i=>{this.ze(e,i,null)})}ut(e,i){return this.ke.getRemoteKeysForTarget(e).has(i)}}function Do(){return new ne(ot.comparator)}function By(){return new ne(ot.comparator)}const xS={asc:"ASCENDING",desc:"DESCENDING"},US={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zS={and:"AND",or:"OR"};class LS{constructor(e,i){this.databaseId=e,this.useProto3Json=i}}function jf(s,e){return s.useProto3Json||Wo(e)?e:{value:e}}function Yo(s,e){return s.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cv(s,e){return s.useProto3Json?e.toBase64():e.toUint8Array()}function PS(s,e){return Yo(s,e.toTimestamp())}function Wn(s){return qt(!!s),pt.fromTimestamp(function(i){const a=mr(i);return new Ae(a.seconds,a.nanos)}(s))}function md(s,e){return Hf(s,e).canonicalString()}function Hf(s,e){const i=function(u){return new te(["projects",u.projectId,"databases",u.database])}(s).child("documents");return e===void 0?i:i.child(e)}function hv(s){const e=te.fromString(s);return qt(pv(e)),e}function Gf(s,e){return md(s.databaseId,e.path)}function wf(s,e){const i=hv(e);if(i.get(1)!==s.databaseId.projectId)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+s.databaseId.projectId);if(i.get(3)!==s.databaseId.database)throw new lt(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+s.databaseId.database);return new ot(dv(i))}function fv(s,e){return md(s.databaseId,e)}function BS(s){const e=hv(s);return e.length===4?te.emptyPath():dv(e)}function Qf(s){return new te(["projects",s.databaseId.projectId,"databases",s.databaseId.database]).canonicalString()}function dv(s){return qt(s.length>4&&s.get(4)==="documents"),s.popFirst(5)}function ky(s,e,i){return{name:Gf(s,e),fields:i.value.mapValue.fields}}function kS(s,e){let i;if("targetChange"in e){e.targetChange;const a=function(_){return _==="NO_CHANGE"?0:_==="ADD"?1:_==="REMOVE"?2:_==="CURRENT"?3:_==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),u=e.targetChange.targetIds||[],h=function(_,A){return _.useProto3Json?(qt(A===void 0||typeof A=="string"),Be.fromBase64String(A||"")):(qt(A===void 0||A instanceof Buffer||A instanceof Uint8Array),Be.fromUint8Array(A||new Uint8Array))}(s,e.targetChange.resumeToken),d=e.targetChange.cause,g=d&&function(_){const A=_.code===void 0?Z.UNKNOWN:lv(_.code);return new lt(A,_.message||"")}(d);i=new ov(a,u,h,g||null)}else if("documentChange"in e){e.documentChange;const a=e.documentChange;a.document,a.document.name,a.document.updateTime;const u=wf(s,a.document.name),h=Wn(a.document.updateTime),d=a.document.createTime?Wn(a.document.createTime):pt.min(),g=new tn({mapValue:{fields:a.document.fields}}),v=Qe.newFoundDocument(u,h,d,g),_=a.targetIds||[],A=a.removedTargetIds||[];i=new xo(_,A,v.key,v)}else if("documentDelete"in e){e.documentDelete;const a=e.documentDelete;a.document;const u=wf(s,a.document),h=a.readTime?Wn(a.readTime):pt.min(),d=Qe.newNoDocument(u,h),g=a.removedTargetIds||[];i=new xo([],g,d.key,d)}else if("documentRemove"in e){e.documentRemove;const a=e.documentRemove;a.document;const u=wf(s,a.document),h=a.removedTargetIds||[];i=new xo([],h,u,null)}else{if(!("filter"in e))return dt();{e.filter;const a=e.filter;a.targetId;const{count:u=0,unchangedNames:h}=a,d=new IS(u,h),g=a.targetId;i=new uv(g,d)}}return i}function qS(s,e){let i;if(e instanceof Xl)i={update:ky(s,e.key,e.value)};else if(e instanceof hd)i={delete:Gf(s,e.key)};else if(e instanceof Er)i={update:ky(s,e.key,e.data),updateMask:ZS(e.fieldMask)};else{if(!(e instanceof DS))return dt();i={verify:Gf(s,e.key)}}return e.fieldTransforms.length>0&&(i.updateTransforms=e.fieldTransforms.map(a=>function(h,d){const g=d.transform;if(g instanceof Qo)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(g instanceof Yl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:g.elements}};if(g instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:g.elements}};if(g instanceof Ko)return{fieldPath:d.field.canonicalString(),increment:g.Ie};throw dt()}(0,a))),e.precondition.isNone||(i.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:PS(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:dt()}(s,e.precondition)),i}function jS(s,e){return s&&s.length>0?(qt(e!==void 0),s.map(i=>function(u,h){let d=u.updateTime?Wn(u.updateTime):Wn(h);return d.isEqual(pt.min())&&(d=Wn(h)),new bS(d,u.transformResults||[])}(i,e))):[]}function HS(s,e){return{documents:[fv(s,e.path)]}}function GS(s,e){const i={structuredQuery:{}},a=e.path;let u;e.collectionGroup!==null?(u=a,i.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(u=a.popLast(),i.structuredQuery.from=[{collectionId:a.lastSegment()}]),i.parent=fv(s,u);const h=function(_){if(_.length!==0)return gv(ei.create(_,"and"))}(e.filters);h&&(i.structuredQuery.where=h);const d=function(_){if(_.length!==0)return _.map(A=>function(P){return{field:as(P.field),direction:YS(P.dir)}}(A))}(e.orderBy);d&&(i.structuredQuery.orderBy=d);const g=jf(s,e.limit);return g!==null&&(i.structuredQuery.limit=g),e.startAt&&(i.structuredQuery.startAt=function(_){return{before:_.inclusive,values:_.position}}(e.startAt)),e.endAt&&(i.structuredQuery.endAt=function(_){return{before:!_.inclusive,values:_.position}}(e.endAt)),{ht:i,parent:u}}function QS(s){let e=BS(s.parent);const i=s.structuredQuery,a=i.from?i.from.length:0;let u=null;if(a>0){qt(a===1);const A=i.from[0];A.allDescendants?u=A.collectionId:e=e.child(A.collectionId)}let h=[];i.where&&(h=function(V){const P=mv(V);return P instanceof ei&&Q_(P)?P.getFilters():[P]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(P=>function(F){return new Go(ss(F.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(P))}(i.orderBy));let g=null;i.limit&&(g=function(V){let P;return P=typeof V=="object"?V.value:V,Wo(P)?null:P}(i.limit));let v=null;i.startAt&&(v=function(V){const P=!!V.before,j=V.values||[];return new Ho(j,P)}(i.startAt));let _=null;return i.endAt&&(_=function(V){const P=!V.before,j=V.values||[];return new Ho(j,P)}(i.endAt)),cS(e,u,d,h,g,"F",v,_)}function KS(s,e){const i=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return i==null?null:{"goog-listen-tags":i}}function mv(s){return s.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const a=ss(i.unaryFilter.field);return Te.create(a,"==",{doubleValue:NaN});case"IS_NULL":const u=ss(i.unaryFilter.field);return Te.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=ss(i.unaryFilter.field);return Te.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=ss(i.unaryFilter.field);return Te.create(d,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(s):s.fieldFilter!==void 0?function(i){return Te.create(ss(i.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(i.fieldFilter.op),i.fieldFilter.value)}(s):s.compositeFilter!==void 0?function(i){return ei.create(i.compositeFilter.filters.map(a=>mv(a)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return dt()}}(i.compositeFilter.op))}(s):dt()}function YS(s){return xS[s]}function FS(s){return US[s]}function XS(s){return zS[s]}function as(s){return{fieldPath:s.canonicalString()}}function ss(s){return Pe.fromServerFormat(s.fieldPath)}function gv(s){return s instanceof Te?function(i){if(i.op==="=="){if(Dy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NAN"}};if(wy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(Dy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NAN"}};if(wy(i.value))return{unaryFilter:{field:as(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:as(i.field),op:FS(i.op),value:i.value}}}(s):s instanceof ei?function(i){const a=i.getFilters().map(u=>gv(u));return a.length===1?a[0]:{compositeFilter:{op:XS(i.op),filters:a}}}(s):dt()}function ZS(s){const e=[];return s.fields.forEach(i=>e.push(i.canonicalString())),{fieldPaths:e}}function pv(s){return s.length>=4&&s.get(0)==="projects"&&s.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr{constructor(e,i,a,u,h=pt.min(),d=pt.min(),g=Be.EMPTY_BYTE_STRING,v=null){this.target=e,this.targetId=i,this.purpose=a,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=v}withSequenceNumber(e){return new lr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,i){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new lr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $S{constructor(e){this.Tt=e}}function JS(s){const e=QS({parent:s.parent,structuredQuery:s.structuredQuery});return s.limitType==="LAST"?qf(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{constructor(){this.Tn=new t1}addToCollectionParentIndex(e,i){return this.Tn.add(i),Y.resolve()}getCollectionParents(e,i){return Y.resolve(this.Tn.getEntries(i))}addFieldIndex(e,i){return Y.resolve()}deleteFieldIndex(e,i){return Y.resolve()}deleteAllFieldIndexes(e){return Y.resolve()}createTargetIndexes(e,i){return Y.resolve()}getDocumentsMatchingTarget(e,i){return Y.resolve(null)}getIndexType(e,i){return Y.resolve(0)}getFieldIndexes(e,i){return Y.resolve([])}getNextCollectionGroupToUpdate(e){return Y.resolve(null)}getMinOffset(e,i){return Y.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,i){return Y.resolve(dr.min())}updateCollectionGroup(e,i,a){return Y.resolve()}updateIndexEntries(e,i){return Y.resolve()}}class t1{constructor(){this.index={}}add(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i]||new Se(te.comparator),h=!u.has(a);return this.index[i]=u.add(a),h}has(e){const i=e.lastSegment(),a=e.popLast(),u=this.index[i];return u&&u.has(a)}getEntries(e){return(this.index[e]||new Se(te.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yv=41943040;class We{static withCacheSize(e){return new We(e,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,i,a){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */We.DEFAULT_COLLECTION_PERCENTILE=10,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,We.DEFAULT=new We(yv,We.DEFAULT_COLLECTION_PERCENTILE,We.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),We.DISABLED=new We(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Un(){return new ds(0)}static Kn(){return new ds(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy="LruGarbageCollector",e1=1048576;function Hy([s,e],[i,a]){const u=bt(s,i);return u===0?bt(e,a):u}class n1{constructor(e){this.Hn=e,this.buffer=new Se(Hy),this.Jn=0}Yn(){return++this.Jn}Zn(e){const i=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const a=this.buffer.last();Hy(i,a)<0&&(this.buffer=this.buffer.delete(a).add(i))}}get maxValue(){return this.buffer.last()[0]}}class i1{constructor(e,i,a){this.garbageCollector=e,this.asyncQueue=i,this.localStore=a,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){it(jy,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){Es(i)?it(jy,"Ignoring IndexedDB error during garbage collection: ",i):await vs(i)}await this.er(3e5)})}}class r1{constructor(e,i){this.tr=e,this.params=i}calculateTargetCount(e,i){return this.tr.nr(e).next(a=>Math.floor(i/100*a))}nthSequenceNumber(e,i){if(i===0)return Y.resolve(Jo.ae);const a=new n1(i);return this.tr.forEachTarget(e,u=>a.Zn(u.sequenceNumber)).next(()=>this.tr.rr(e,u=>a.Zn(u))).next(()=>a.maxValue)}removeTargets(e,i,a){return this.tr.removeTargets(e,i,a)}removeOrphanedDocuments(e,i){return this.tr.removeOrphanedDocuments(e,i)}collect(e,i){return this.params.cacheSizeCollectionThreshold===-1?(it("LruGarbageCollector","Garbage collection skipped; disabled"),Y.resolve(qy)):this.getCacheSize(e).next(a=>a<this.params.cacheSizeCollectionThreshold?(it("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qy):this.ir(e,i))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,i){let a,u,h,d,g,v,_;const A=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(it("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),u=this.params.maximumSequenceNumbersToCollect):u=V,d=Date.now(),this.nthSequenceNumber(e,u))).next(V=>(a=V,g=Date.now(),this.removeTargets(e,a,i))).next(V=>(h=V,v=Date.now(),this.removeOrphanedDocuments(e,a))).next(V=>(_=Date.now(),is()<=xt.DEBUG&&it("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-A}ms
	Determined least recently used ${u} in `+(g-d)+`ms
	Removed ${h} targets in `+(v-g)+`ms
	Removed ${V} documents in `+(_-v)+`ms
Total Duration: ${_-A}ms`),Y.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:V})))}}function a1(s,e){return new r1(s,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(){this.changes=new oa(e=>e.toString(),(e,i)=>e.isEqual(i)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,i){this.assertNotApplied(),this.changes.set(e,Qe.newInvalidDocument(e).setReadTime(i))}getEntry(e,i){this.assertNotApplied();const a=this.changes.get(i);return a!==void 0?Y.resolve(a):this.getFromCache(e,i)}getEntries(e,i){return this.getAllFromCache(e,i)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1{constructor(e,i){this.overlayedDocument=e,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1{constructor(e,i,a,u){this.remoteDocumentCache=e,this.mutationQueue=i,this.documentOverlayCache=a,this.indexManager=u}getDocument(e,i){let a=null;return this.documentOverlayCache.getOverlay(e,i).next(u=>(a=u,this.remoteDocumentCache.getEntry(e,i))).next(u=>(a!==null&&Bl(a.mutation,u,fn.empty(),Ae.now()),u))}getDocuments(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.getLocalViewOfDocuments(e,a,Vt()).next(()=>a))}getLocalViewOfDocuments(e,i,a=Vt()){const u=aa();return this.populateOverlays(e,u,i).next(()=>this.computeViews(e,i,u,a).next(h=>{let d=Ml();return h.forEach((g,v)=>{d=d.insert(g,v.overlayedDocument)}),d}))}getOverlayedDocuments(e,i){const a=aa();return this.populateOverlays(e,a,i).next(()=>this.computeViews(e,i,a,Vt()))}populateOverlays(e,i,a){const u=[];return a.forEach(h=>{i.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(e,u).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(e,i,a,u){let h=Ni();const d=Pl(),g=function(){return Pl()}();return i.forEach((v,_)=>{const A=a.get(_.key);u.has(_.key)&&(A===void 0||A.mutation instanceof Er)?h=h.insert(_.key,_):A!==void 0?(d.set(_.key,A.mutation.getFieldMask()),Bl(A.mutation,_,A.mutation.getFieldMask(),Ae.now())):d.set(_.key,fn.empty())}),this.recalculateAndSaveOverlays(e,h).next(v=>(v.forEach((_,A)=>d.set(_,A)),i.forEach((_,A)=>{var V;return g.set(_,new l1(A,(V=d.get(_))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(e,i){const a=Pl();let u=new ne((d,g)=>d-g),h=Vt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,i).next(d=>{for(const g of d)g.keys().forEach(v=>{const _=i.get(v);if(_===null)return;let A=a.get(v)||fn.empty();A=g.applyToLocalView(_,A),a.set(v,A);const V=(u.get(g.batchId)||Vt()).add(v);u=u.insert(g.batchId,V)})}).next(()=>{const d=[],g=u.getReverseIterator();for(;g.hasNext();){const v=g.getNext(),_=v.key,A=v.value,V=W_();A.forEach(P=>{if(!h.has(P)){const j=av(i.get(P),a.get(P));j!==null&&V.set(P,j),h=h.add(P)}}),d.push(this.documentOverlayCache.saveOverlays(e,_,V))}return Y.waitFor(d)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(e,i){return this.remoteDocumentCache.getEntries(e,i).next(a=>this.recalculateAndSaveOverlays(e,a))}getDocumentsMatchingQuery(e,i,a,u){return function(d){return ot.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(e,i.path):hS(i)?this.getDocumentsMatchingCollectionGroupQuery(e,i,a,u):this.getDocumentsMatchingCollectionQuery(e,i,a,u)}getNextDocuments(e,i,a,u){return this.remoteDocumentCache.getAllFromCollectionGroup(e,i,a,u).next(h=>{const d=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,i,a.largestBatchId,u-h.size):Y.resolve(aa());let g=Hl,v=h;return d.next(_=>Y.forEach(_,(A,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(A)?Y.resolve():this.remoteDocumentCache.getEntry(e,A).next(P=>{v=v.insert(A,P)}))).next(()=>this.populateOverlays(e,_,h)).next(()=>this.computeViews(e,v,_,Vt())).next(A=>({batchId:g,changes:J_(A)})))})}getDocumentsMatchingDocumentQuery(e,i){return this.getDocument(e,new ot(i)).next(a=>{let u=Ml();return a.isFoundDocument()&&(u=u.insert(a.key,a)),u})}getDocumentsMatchingCollectionGroupQuery(e,i,a,u){const h=i.collectionGroup;let d=Ml();return this.indexManager.getCollectionParents(e,h).next(g=>Y.forEach(g,v=>{const _=function(V,P){return new ec(P,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,v.child(h));return this.getDocumentsMatchingCollectionQuery(e,_,a,u).next(A=>{A.forEach((V,P)=>{d=d.insert(V,P)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,i,a,u){let h;return this.documentOverlayCache.getOverlaysForCollection(e,i.path,a.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,i,a,h,u))).next(d=>{h.forEach((v,_)=>{const A=_.getKey();d.get(A)===null&&(d=d.insert(A,Qe.newInvalidDocument(A)))});let g=Ml();return d.forEach((v,_)=>{const A=h.get(v);A!==void 0&&Bl(A.mutation,_,fn.empty(),Ae.now()),ic(i,_)&&(g=g.insert(v,_))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,i){return Y.resolve(this.dr.get(i))}saveBundleMetadata(e,i){return this.dr.set(i.id,function(u){return{id:u.id,version:u.version,createTime:Wn(u.createTime)}}(i)),Y.resolve()}getNamedQuery(e,i){return Y.resolve(this.Ar.get(i))}saveNamedQuery(e,i){return this.Ar.set(i.name,function(u){return{name:u.name,query:JS(u.bundledQuery),readTime:Wn(u.readTime)}}(i)),Y.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{constructor(){this.overlays=new ne(ot.comparator),this.Rr=new Map}getOverlay(e,i){return Y.resolve(this.overlays.get(i))}getOverlays(e,i){const a=aa();return Y.forEach(i,u=>this.getOverlay(e,u).next(h=>{h!==null&&a.set(u,h)})).next(()=>a)}saveOverlays(e,i,a){return a.forEach((u,h)=>{this.Et(e,i,h)}),Y.resolve()}removeOverlaysForBatchId(e,i,a){const u=this.Rr.get(a);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(a)),Y.resolve()}getOverlaysForCollection(e,i,a){const u=aa(),h=i.length+1,d=new ot(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const v=g.getNext().value,_=v.getKey();if(!i.isPrefixOf(_.path))break;_.path.length===h&&v.largestBatchId>a&&u.set(v.getKey(),v)}return Y.resolve(u)}getOverlaysForCollectionGroup(e,i,a,u){let h=new ne((_,A)=>_-A);const d=this.overlays.getIterator();for(;d.hasNext();){const _=d.getNext().value;if(_.getKey().getCollectionGroup()===i&&_.largestBatchId>a){let A=h.get(_.largestBatchId);A===null&&(A=aa(),h=h.insert(_.largestBatchId,A)),A.set(_.getKey(),_)}}const g=aa(),v=h.getIterator();for(;v.hasNext()&&(v.getNext().value.forEach((_,A)=>g.set(_,A)),!(g.size()>=u)););return Y.resolve(g)}Et(e,i,a){const u=this.overlays.get(a.key);if(u!==null){const d=this.Rr.get(u.largestBatchId).delete(a.key);this.Rr.set(u.largestBatchId,d)}this.overlays=this.overlays.insert(a.key,new VS(i,a));let h=this.Rr.get(i);h===void 0&&(h=Vt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(a.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.sessionToken=Be.EMPTY_BYTE_STRING}getSessionToken(e){return Y.resolve(this.sessionToken)}setSessionToken(e,i){return this.sessionToken=i,Y.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(){this.Vr=new Se(Ie.mr),this.gr=new Se(Ie.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,i){const a=new Ie(e,i);this.Vr=this.Vr.add(a),this.gr=this.gr.add(a)}yr(e,i){e.forEach(a=>this.addReference(a,i))}removeReference(e,i){this.wr(new Ie(e,i))}Sr(e,i){e.forEach(a=>this.removeReference(a,i))}br(e){const i=new ot(new te([])),a=new Ie(i,e),u=new Ie(i,e+1),h=[];return this.gr.forEachInRange([a,u],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){const i=new ot(new te([])),a=new Ie(i,e),u=new Ie(i,e+1);let h=Vt();return this.gr.forEachInRange([a,u],d=>{h=h.add(d.key)}),h}containsKey(e){const i=new Ie(e,0),a=this.Vr.firstAfterOrEqual(i);return a!==null&&e.isEqual(a.key)}}class Ie{constructor(e,i){this.key=e,this.Cr=i}static mr(e,i){return ot.comparator(e.key,i.key)||bt(e.Cr,i.Cr)}static pr(e,i){return bt(e.Cr,i.Cr)||ot.comparator(e.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,i){this.indexManager=e,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new Se(Ie.mr)}checkEmpty(e){return Y.resolve(this.mutationQueue.length===0)}addMutationBatch(e,i,a,u){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new CS(h,i,a,u);this.mutationQueue.push(d);for(const g of u)this.Mr=this.Mr.add(new Ie(g.key,h)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Y.resolve(d)}lookupMutationBatch(e,i){return Y.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(e,i){const a=i+1,u=this.Nr(a),h=u<0?0:u;return Y.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Y.resolve(this.mutationQueue.length===0?rd:this.Fr-1)}getAllMutationBatches(e){return Y.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,i){const a=new Ie(i,0),u=new Ie(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([a,u],d=>{const g=this.Or(d.Cr);h.push(g)}),Y.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(e,i){let a=new Se(bt);return i.forEach(u=>{const h=new Ie(u,0),d=new Ie(u,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{a=a.add(g.Cr)})}),Y.resolve(this.Br(a))}getAllMutationBatchesAffectingQuery(e,i){const a=i.path,u=a.length+1;let h=a;ot.isDocumentKey(h)||(h=h.child(""));const d=new Ie(new ot(h),0);let g=new Se(bt);return this.Mr.forEachWhile(v=>{const _=v.key.path;return!!a.isPrefixOf(_)&&(_.length===u&&(g=g.add(v.Cr)),!0)},d),Y.resolve(this.Br(g))}Br(e){const i=[];return e.forEach(a=>{const u=this.Or(a);u!==null&&i.push(u)}),i}removeMutationBatch(e,i){qt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let a=this.Mr;return Y.forEach(i.mutations,u=>{const h=new Ie(u.key,i.batchId);return a=a.delete(h),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Mr=a})}qn(e){}containsKey(e,i){const a=new Ie(i,0),u=this.Mr.firstAfterOrEqual(a);return Y.resolve(i.isEqual(u&&u.key))}performConsistencyCheck(e){return this.mutationQueue.length,Y.resolve()}Lr(e,i){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){const i=this.Nr(e);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e){this.kr=e,this.docs=function(){return new ne(ot.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,i){const a=i.key,u=this.docs.get(a),h=u?u.size:0,d=this.kr(i);return this.docs=this.docs.insert(a,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(e,a.path.popLast())}removeEntry(e){const i=this.docs.get(e);i&&(this.docs=this.docs.remove(e),this.size-=i.size)}getEntry(e,i){const a=this.docs.get(i);return Y.resolve(a?a.document.mutableCopy():Qe.newInvalidDocument(i))}getEntries(e,i){let a=Ni();return i.forEach(u=>{const h=this.docs.get(u);a=a.insert(u,h?h.document.mutableCopy():Qe.newInvalidDocument(u))}),Y.resolve(a)}getDocumentsMatchingQuery(e,i,a,u){let h=Ni();const d=i.path,g=new ot(d.child("__id-9223372036854775808__")),v=this.docs.getIteratorFrom(g);for(;v.hasNext();){const{key:_,value:{document:A}}=v.getNext();if(!d.isPrefixOf(_.path))break;_.path.length>d.length+1||jA(qA(A),a)<=0||(u.has(A.key)||ic(i,A))&&(h=h.insert(A.key,A.mutableCopy()))}return Y.resolve(h)}getAllFromCollectionGroup(e,i,a,u){dt()}qr(e,i){return Y.forEach(this.docs,a=>i(a))}newChangeBuffer(e){return new m1(this)}getSize(e){return Y.resolve(this.size)}}class m1 extends s1{constructor(e){super(),this.Ir=e}applyChanges(e){const i=[];return this.changes.forEach((a,u)=>{u.isValidDocument()?i.push(this.Ir.addEntry(e,u)):this.Ir.removeEntry(a)}),Y.waitFor(i)}getFromCache(e,i){return this.Ir.getEntry(e,i)}getAllFromCache(e,i){return this.Ir.getEntries(e,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g1{constructor(e){this.persistence=e,this.Qr=new oa(i=>ld(i),ud),this.lastRemoteSnapshotVersion=pt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new gd,this.targetCount=0,this.Kr=ds.Un()}forEachTarget(e,i){return this.Qr.forEach((a,u)=>i(u)),Y.resolve()}getLastRemoteSnapshotVersion(e){return Y.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Y.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Kr.next(),Y.resolve(this.highestTargetId)}setTargetsMetadata(e,i,a){return a&&(this.lastRemoteSnapshotVersion=a),i>this.$r&&(this.$r=i),Y.resolve()}zn(e){this.Qr.set(e.target,e);const i=e.targetId;i>this.highestTargetId&&(this.Kr=new ds(i),this.highestTargetId=i),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,i){return this.zn(i),this.targetCount+=1,Y.resolve()}updateTargetData(e,i){return this.zn(i),Y.resolve()}removeTargetData(e,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,Y.resolve()}removeTargets(e,i,a){let u=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&a.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(e,g.targetId)),u++)}),Y.waitFor(h).next(()=>u)}getTargetCount(e){return Y.resolve(this.targetCount)}getTargetData(e,i){const a=this.Qr.get(i)||null;return Y.resolve(a)}addMatchingKeys(e,i,a){return this.Ur.yr(i,a),Y.resolve()}removeMatchingKeys(e,i,a){this.Ur.Sr(i,a);const u=this.persistence.referenceDelegate,h=[];return u&&i.forEach(d=>{h.push(u.markPotentiallyOrphaned(e,d))}),Y.waitFor(h)}removeMatchingKeysForTargetId(e,i){return this.Ur.br(i),Y.resolve()}getMatchingKeysForTargetId(e,i){const a=this.Ur.vr(i);return Y.resolve(a)}containsKey(e,i){return Y.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{constructor(e,i){this.Wr={},this.overlays={},this.Gr=new Jo(0),this.zr=!1,this.zr=!0,this.jr=new h1,this.referenceDelegate=e(this),this.Hr=new g1(this),this.indexManager=new WS,this.remoteDocumentCache=function(u){return new d1(u)}(a=>this.referenceDelegate.Jr(a)),this.serializer=new $S(i),this.Yr=new o1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let i=this.overlays[e.toKey()];return i||(i=new c1,this.overlays[e.toKey()]=i),i}getMutationQueue(e,i){let a=this.Wr[e.toKey()];return a||(a=new f1(i,this.referenceDelegate),this.Wr[e.toKey()]=a),a}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,i,a){it("MemoryPersistence","Starting transaction:",e);const u=new p1(this.Gr.next());return this.referenceDelegate.Zr(),a(u).next(h=>this.referenceDelegate.Xr(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}ei(e,i){return Y.or(Object.values(this.Wr).map(a=>()=>a.containsKey(e,i)))}}class p1 extends GA{constructor(e){super(),this.currentSequenceNumber=e}}class pd{constructor(e){this.persistence=e,this.ti=new gd,this.ni=null}static ri(e){return new pd(e)}get ii(){if(this.ni)return this.ni;throw dt()}addReference(e,i,a){return this.ti.addReference(a,i),this.ii.delete(a.toString()),Y.resolve()}removeReference(e,i,a){return this.ti.removeReference(a,i),this.ii.add(a.toString()),Y.resolve()}markPotentiallyOrphaned(e,i){return this.ii.add(i.toString()),Y.resolve()}removeTarget(e,i){this.ti.br(i.targetId).forEach(u=>this.ii.add(u.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(e,i.targetId).next(u=>{u.forEach(h=>this.ii.add(h.toString()))}).next(()=>a.removeTargetData(e,i))}Zr(){this.ni=new Set}Xr(e){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Y.forEach(this.ii,a=>{const u=ot.fromPath(a);return this.si(e,u).next(h=>{h||i.removeEntry(u,pt.min())})}).next(()=>(this.ni=null,i.apply(e)))}updateLimboDocument(e,i){return this.si(e,i).next(a=>{a?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(e){return 0}si(e,i){return Y.or([()=>Y.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(e,i),()=>this.persistence.ei(e,i)])}}class Fo{constructor(e,i){this.persistence=e,this.oi=new oa(a=>YA(a.path),(a,u)=>a.isEqual(u)),this.garbageCollector=a1(this,i)}static ri(e,i){return new Fo(e,i)}Zr(){}Xr(e){return Y.resolve()}forEachTarget(e,i){return this.persistence.getTargetCache().forEachTarget(e,i)}nr(e){const i=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(a=>i.next(u=>a+u))}sr(e){let i=0;return this.rr(e,a=>{i++}).next(()=>i)}rr(e,i){return Y.forEach(this.oi,(a,u)=>this.ar(e,a,u).next(h=>h?Y.resolve():i(u)))}removeTargets(e,i,a){return this.persistence.getTargetCache().removeTargets(e,i,a)}removeOrphanedDocuments(e,i){let a=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.qr(e,d=>this.ar(e,d,i).next(g=>{g||(a++,h.removeEntry(d,pt.min()))})).next(()=>h.apply(e)).next(()=>a)}markPotentiallyOrphaned(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}removeTarget(e,i){const a=i.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,a)}addReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Y.resolve()}removeReference(e,i,a){return this.oi.set(a,e.currentSequenceNumber),Y.resolve()}updateLimboDocument(e,i){return this.oi.set(i,e.currentSequenceNumber),Y.resolve()}Jr(e){let i=e.key.toString().length;return e.isFoundDocument()&&(i+=No(e.data.value)),i}ar(e,i,a){return Y.or([()=>this.persistence.ei(e,i),()=>this.persistence.getTargetCache().containsKey(e,i),()=>{const u=this.oi.get(i);return Y.resolve(u!==void 0&&u>a)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,i,a,u){this.targetId=e,this.fromCache=i,this.Hi=a,this.Ji=u}static Yi(e,i){let a=Vt(),u=Vt();for(const h of i.docChanges)switch(h.type){case 0:a=a.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new yd(e,i.fromCache,a,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return dT()?8:QA(hT())>0?6:4}()}initialize(e,i){this.ns=e,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(e,i,a,u){const h={result:null};return this.rs(e,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(e,i,u,a).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new y1;return this._s(e,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(e,i,d,g.size)})}).next(()=>h.result)}us(e,i,a,u){return a.documentReadCount<this.es?(is()<=xt.DEBUG&&it("QueryEngine","SDK will not create cache indexes for query:",rs(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),Y.resolve()):(is()<=xt.DEBUG&&it("QueryEngine","Query:",rs(i),"scans",a.documentReadCount,"local documents and returns",u,"documents as results."),a.documentReadCount>this.ts*u?(is()<=xt.DEBUG&&it("QueryEngine","The SDK decides to create cache indexes for query:",rs(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jn(i))):Y.resolve())}rs(e,i){if(Ny(i))return Y.resolve(null);let a=Jn(i);return this.indexManager.getIndexType(e,a).next(u=>u===0?null:(i.limit!==null&&u===1&&(i=qf(i,null,"F"),a=Jn(i)),this.indexManager.getDocumentsMatchingTarget(e,a).next(h=>{const d=Vt(...h);return this.ns.getDocuments(e,d).next(g=>this.indexManager.getMinOffset(e,a).next(v=>{const _=this.cs(i,g);return this.ls(i,_,d,v.readTime)?this.rs(e,qf(i,null,"F")):this.hs(e,_,i,v)}))})))}ss(e,i,a,u){return Ny(i)||u.isEqual(pt.min())?Y.resolve(null):this.ns.getDocuments(e,a).next(h=>{const d=this.cs(i,h);return this.ls(i,d,a,u)?Y.resolve(null):(is()<=xt.DEBUG&&it("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),rs(i)),this.hs(e,d,i,kA(u,Hl)).next(g=>g))})}cs(e,i){let a=new Se(Z_(e));return i.forEach((u,h)=>{ic(e,h)&&(a=a.add(h))}),a}ls(e,i,a,u){if(e.limit===null)return!1;if(a.size!==i.size)return!0;const h=e.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}_s(e,i,a){return is()<=xt.DEBUG&&it("QueryEngine","Using full collection scan to execute query:",rs(i)),this.ns.getDocumentsMatchingQuery(e,i,dr.min(),a)}hs(e,i,a,u){return this.ns.getDocumentsMatchingQuery(e,a,u).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _d="LocalStore",v1=3e8;class E1{constructor(e,i,a,u){this.persistence=e,this.Ps=i,this.serializer=u,this.Ts=new ne(bt),this.Is=new oa(h=>ld(h),ud),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(a)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new u1(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>e.collect(i,this.Ts))}}function T1(s,e,i,a){return new E1(s,e,i,a)}async function vv(s,e){const i=yt(s);return await i.persistence.runTransaction("Handle user change","readonly",a=>{let u;return i.mutationQueue.getAllMutationBatches(a).next(h=>(u=h,i.As(e),i.mutationQueue.getAllMutationBatches(a))).next(h=>{const d=[],g=[];let v=Vt();for(const _ of u){d.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}for(const _ of h){g.push(_.batchId);for(const A of _.mutations)v=v.add(A.key)}return i.localDocuments.getDocuments(a,v).next(_=>({Rs:_,removedBatchIds:d,addedBatchIds:g}))})})}function A1(s,e){const i=yt(s);return i.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const u=e.batch.keys(),h=i.ds.newChangeBuffer({trackRemovals:!0});return function(g,v,_,A){const V=_.batch,P=V.keys();let j=Y.resolve();return P.forEach(F=>{j=j.next(()=>A.getEntry(v,F)).next(nt=>{const J=_.docVersions.get(F);qt(J!==null),nt.version.compareTo(J)<0&&(V.applyToRemoteDocument(nt,_),nt.isValidDocument()&&(nt.setReadTime(_.commitVersion),A.addEntry(nt)))})}),j.next(()=>g.mutationQueue.removeMutationBatch(v,V))}(i,a,e,h).next(()=>h.apply(a)).next(()=>i.mutationQueue.performConsistencyCheck(a)).next(()=>i.documentOverlayCache.removeOverlaysForBatchId(a,u,e.batch.batchId)).next(()=>i.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(g){let v=Vt();for(let _=0;_<g.mutationResults.length;++_)g.mutationResults[_].transformResults.length>0&&(v=v.add(g.batch.mutations[_].key));return v}(e))).next(()=>i.localDocuments.getDocuments(a,u))})}function Ev(s){const e=yt(s);return e.persistence.runTransaction("Get last remote snapshot version","readonly",i=>e.Hr.getLastRemoteSnapshotVersion(i))}function S1(s,e){const i=yt(s),a=e.snapshotVersion;let u=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});u=i.Ts;const g=[];e.targetChanges.forEach((A,V)=>{const P=u.get(V);if(!P)return;g.push(i.Hr.removeMatchingKeys(h,A.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,A.addedDocuments,V)));let j=P.withSequenceNumber(h.currentSequenceNumber);e.targetMismatches.get(V)!==null?j=j.withResumeToken(Be.EMPTY_BYTE_STRING,pt.min()).withLastLimboFreeSnapshotVersion(pt.min()):A.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(A.resumeToken,a)),u=u.insert(V,j),function(nt,J,Tt){return nt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-nt.snapshotVersion.toMicroseconds()>=v1?!0:Tt.addedDocuments.size+Tt.modifiedDocuments.size+Tt.removedDocuments.size>0}(P,j,A)&&g.push(i.Hr.updateTargetData(h,j))});let v=Ni(),_=Vt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,A))}),g.push(b1(h,d,e.documentUpdates).next(A=>{v=A.Vs,_=A.fs})),!a.isEqual(pt.min())){const A=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,a));g.push(A)}return Y.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,v,_)).next(()=>v)}).then(h=>(i.Ts=u,h))}function b1(s,e,i){let a=Vt(),u=Vt();return i.forEach(h=>a=a.add(h)),e.getEntries(s,a).next(h=>{let d=Ni();return i.forEach((g,v)=>{const _=h.get(g);v.isFoundDocument()!==_.isFoundDocument()&&(u=u.add(g)),v.isNoDocument()&&v.version.isEqual(pt.min())?(e.removeEntry(g,v.readTime),d=d.insert(g,v)):!_.isValidDocument()||v.version.compareTo(_.version)>0||v.version.compareTo(_.version)===0&&_.hasPendingWrites?(e.addEntry(v),d=d.insert(g,v)):it(_d,"Ignoring outdated watch update for ",g,". Current version:",_.version," Watch version:",v.version)}),{Vs:d,fs:u}})}function R1(s,e){const i=yt(s);return i.persistence.runTransaction("Get next mutation batch","readonly",a=>(e===void 0&&(e=rd),i.mutationQueue.getNextMutationBatchAfterBatchId(a,e)))}function w1(s,e){const i=yt(s);return i.persistence.runTransaction("Allocate target","readwrite",a=>{let u;return i.Hr.getTargetData(a,e).next(h=>h?(u=h,Y.resolve(u)):i.Hr.allocateTargetId(a).next(d=>(u=new lr(e,d,"TargetPurposeListen",a.currentSequenceNumber),i.Hr.addTargetData(a,u).next(()=>u))))}).then(a=>{const u=i.Ts.get(a.targetId);return(u===null||a.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(a.targetId,a),i.Is.set(e,a.targetId)),a})}async function Kf(s,e,i){const a=yt(s),u=a.Ts.get(e),h=i?"readwrite":"readwrite-primary";try{i||await a.persistence.runTransaction("Release target",h,d=>a.persistence.referenceDelegate.removeTarget(d,u))}catch(d){if(!Es(d))throw d;it(_d,`Failed to update sequence numbers for target ${e}: ${d}`)}a.Ts=a.Ts.remove(e),a.Is.delete(u.target)}function Gy(s,e,i){const a=yt(s);let u=pt.min(),h=Vt();return a.persistence.runTransaction("Execute query","readwrite",d=>function(v,_,A){const V=yt(v),P=V.Is.get(A);return P!==void 0?Y.resolve(V.Ts.get(P)):V.Hr.getTargetData(_,A)}(a,d,Jn(e)).next(g=>{if(g)return u=g.lastLimboFreeSnapshotVersion,a.Hr.getMatchingKeysForTargetId(d,g.targetId).next(v=>{h=v})}).next(()=>a.Ps.getDocumentsMatchingQuery(d,e,i?u:pt.min(),i?h:Vt())).next(g=>(D1(a,dS(e),g),{documents:g,gs:h})))}function D1(s,e,i){let a=s.Es.get(e)||pt.min();i.forEach((u,h)=>{h.readTime.compareTo(a)>0&&(a=h.readTime)}),s.Es.set(e,a)}class Qy{constructor(){this.activeTargetIds=vS()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class C1{constructor(){this.ho=new Qy,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,i,a){}addLocalQueryTarget(e,i=!0){return i&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,i,a){this.Po[e]=i}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Qy,Promise.resolve()}handleUserChange(e,i,a){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{To(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky="ConnectivityMonitor";class Yy{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){it(Ky,"Network connectivity changed: AVAILABLE");for(const e of this.Vo)e(0)}Ro(){it(Ky,"Network connectivity changed: UNAVAILABLE");for(const e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Co=null;function Yf(){return Co===null?Co=function(){return 268435456+Math.round(2147483648*Math.random())}():Co++,"0x"+Co.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Df="RestConnection",I1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class N1{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const i=e.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.po=i+"://"+e.host,this.yo=`projects/${a}/databases/${u}`,this.wo=this.databaseId.database===qo?`project_id=${a}`:`project_id=${a}&database_id=${u}`}So(e,i,a,u,h){const d=Yf(),g=this.bo(e,i.toUriEncodedString());it(Df,`Sending RPC '${e}' ${d}:`,g,a);const v={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(v,u,h),this.vo(e,g,v,a).then(_=>(it(Df,`Received RPC '${e}' ${d}: `,_),_),_=>{throw os(Df,`RPC '${e}' ${d} failed with error: `,_,"url: ",g,"request:",a),_})}Co(e,i,a,u,h,d){return this.So(e,i,a,u,h)}Do(e,i,a){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+_s}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((u,h)=>e[h]=u),a&&a.headers.forEach((u,h)=>e[h]=u)}bo(e,i){const a=I1[e];return`${this.po}/v1/${i}:${a}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Uo(e){this.ko(e)}Ko(e){this.qo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class M1 extends N1{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,i,a,u){const h=Yf();return new Promise((d,g)=>{const v=new R_;v.setWithCredentials(!0),v.listenOnce(w_.COMPLETE,()=>{try{switch(v.getLastErrorCode()){case Io.NO_ERROR:const A=v.getResponseJson();it(He,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(A)),d(A);break;case Io.TIMEOUT:it(He,`RPC '${e}' ${h} timed out`),g(new lt(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Io.HTTP_ERROR:const V=v.getStatus();if(it(He,`RPC '${e}' ${h} failed with status:`,V,"response text:",v.getResponseText()),V>0){let P=v.getResponseJson();Array.isArray(P)&&(P=P[0]);const j=P==null?void 0:P.error;if(j&&j.status&&j.message){const F=function(J){const Tt=J.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(Tt)>=0?Tt:Z.UNKNOWN}(j.status);g(new lt(F,j.message))}else g(new lt(Z.UNKNOWN,"Server responded with status "+v.getStatus()))}else g(new lt(Z.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{it(He,`RPC '${e}' ${h} completed.`)}});const _=JSON.stringify(u);it(He,`RPC '${e}' ${h} sending request:`,u),v.send(i,"POST",_,a,15)})}Wo(e,i,a){const u=Yf(),h=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=V_(),g=C_(),v={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},_=this.longPollingOptions.timeoutSeconds;_!==void 0&&(v.longPollingTimeout=Math.round(1e3*_)),this.useFetchStreams&&(v.useFetchStreams=!0),this.Do(v.initMessageHeaders,i,a),v.encodeInitMessageHeaders=!0;const A=h.join("");it(He,`Creating RPC '${e}' stream ${u}: ${A}`,v);const V=d.createWebChannel(A,v);let P=!1,j=!1;const F=new O1({Fo:J=>{j?it(He,`Not sending because RPC '${e}' stream ${u} is closed:`,J):(P||(it(He,`Opening RPC '${e}' stream ${u} transport.`),V.open(),P=!0),it(He,`RPC '${e}' stream ${u} sending:`,J),V.send(J))},Mo:()=>V.close()}),nt=(J,Tt,At)=>{J.listen(Tt,gt=>{try{At(gt)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return nt(V,Ol.EventType.OPEN,()=>{j||(it(He,`RPC '${e}' stream ${u} transport opened.`),F.Qo())}),nt(V,Ol.EventType.CLOSE,()=>{j||(j=!0,it(He,`RPC '${e}' stream ${u} transport closed`),F.Uo())}),nt(V,Ol.EventType.ERROR,J=>{j||(j=!0,os(He,`RPC '${e}' stream ${u} transport errored:`,J),F.Uo(new lt(Z.UNAVAILABLE,"The operation could not be completed")))}),nt(V,Ol.EventType.MESSAGE,J=>{var Tt;if(!j){const At=J.data[0];qt(!!At);const gt=At,Bt=(gt==null?void 0:gt.error)||((Tt=gt[0])===null||Tt===void 0?void 0:Tt.error);if(Bt){it(He,`RPC '${e}' stream ${u} received error:`,Bt);const _t=Bt.status;let zt=function(w){const I=ge[w];if(I!==void 0)return lv(I)}(_t),N=Bt.message;zt===void 0&&(zt=Z.INTERNAL,N="Unknown error status: "+_t+" with message "+Bt.message),j=!0,F.Uo(new lt(zt,N)),V.close()}else it(He,`RPC '${e}' stream ${u} received:`,At),F.Ko(At)}}),nt(g,D_.STAT_EVENT,J=>{J.stat===Uf.PROXY?it(He,`RPC '${e}' stream ${u} detected buffering proxy`):J.stat===Uf.NOPROXY&&it(He,`RPC '${e}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{F.$o()},0),F}}function Cf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lc(s){return new LS(s,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tv{constructor(e,i,a=1e3,u=1.5,h=6e4){this.Ti=e,this.timerId=i,this.Go=a,this.zo=u,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();const i=Math.floor(this.Ho+this.e_()),a=Math.max(0,Date.now()-this.Yo),u=Math.max(0,i-a);u>0&&it("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${a} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,u,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy="PersistentStream";class Av{constructor(e,i,a,u,h,d,g,v){this.Ti=e,this.n_=a,this.r_=u,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=v,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new Tv(e,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(e,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():i&&i.code===Z.RESOURCE_EXHAUSTED?(Ii(i.toString()),Ii("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const e=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,u])=>{this.i_===i&&this.V_(a,u)},a=>{e(()=>{const u=new lt(Z.UNKNOWN,"Fetching auth token failed: "+a.message);return this.m_(u)})})}V_(e,i){const a=this.R_(this.i_);this.stream=this.f_(e,i),this.stream.xo(()=>{a(()=>this.listener.xo())}),this.stream.No(()=>{a(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(u=>{a(()=>this.m_(u))}),this.stream.onMessage(u=>{a(()=>++this.__==1?this.g_(u):this.onNext(u))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(e){return it(Fy,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return i=>{this.Ti.enqueueAndForget(()=>this.i_===e?i():(it(Fy,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class x1 extends Av{constructor(e,i,a,u,h,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}f_(e,i){return this.connection.Wo("Listen",e,i)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();const i=kS(this.serializer,e),a=function(h){if(!("targetChange"in h))return pt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?pt.min():d.readTime?Wn(d.readTime):pt.min()}(e);return this.listener.p_(i,a)}y_(e){const i={};i.database=Qf(this.serializer),i.addTarget=function(h,d){let g;const v=d.target;if(g=kf(v)?{documents:HS(h,v)}:{query:GS(h,v).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=cv(h,d.resumeToken);const _=jf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}else if(d.snapshotVersion.compareTo(pt.min())>0){g.readTime=Yo(h,d.snapshotVersion.toTimestamp());const _=jf(h,d.expectedCount);_!==null&&(g.expectedCount=_)}return g}(this.serializer,e);const a=KS(this.serializer,e);a&&(i.labels=a),this.I_(i)}w_(e){const i={};i.database=Qf(this.serializer),i.removeTarget=e,this.I_(i)}}class U1 extends Av{constructor(e,i,a,u,h,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",i,a,u,d),this.serializer=h}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,i){return this.connection.Wo("Write",e,i)}g_(e){return qt(!!e.streamToken),this.lastStreamToken=e.streamToken,qt(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){qt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();const i=jS(e.writeResults,e.commitTime),a=Wn(e.commitTime);return this.listener.v_(a,i)}C_(){const e={};e.database=Qf(this.serializer),this.I_(e)}b_(e){const i={streamToken:this.lastStreamToken,writes:e.map(a=>qS(this.serializer,a))};this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{}class L1 extends z1{constructor(e,i,a,u){super(),this.authCredentials=e,this.appCheckCredentials=i,this.connection=a,this.serializer=u,this.F_=!1}M_(){if(this.F_)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,i,a,u){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(e,Hf(i,a),u,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new lt(Z.UNKNOWN,h.toString())})}Co(e,i,a,u,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(e,Hf(i,a),u,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new lt(Z.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class P1{constructor(e,i){this.asyncQueue=e,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){const i=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Ii(i),this.N_=!1):it("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class B1{constructor(e,i,a,u,h){this.localStore=e,this.datastore=i,this.asyncQueue=a,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{a.enqueueAndForget(async()=>{ca(this)&&(it(ua,"Restarting streams for network reachability change."),await async function(v){const _=yt(v);_.W_.add(4),await $l(_),_.j_.set("Unknown"),_.W_.delete(4),await uc(_)}(this))})}),this.j_=new P1(a,u)}}async function uc(s){if(ca(s))for(const e of s.G_)await e(!0)}async function $l(s){for(const e of s.G_)await e(!1)}function Sv(s,e){const i=yt(s);i.K_.has(e.targetId)||(i.K_.set(e.targetId,e),Ad(i)?Td(i):Ts(i).c_()&&Ed(i,e))}function vd(s,e){const i=yt(s),a=Ts(i);i.K_.delete(e),a.c_()&&bv(i,e),i.K_.size===0&&(a.c_()?a.P_():ca(i)&&i.j_.set("Unknown"))}function Ed(s,e){if(s.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(pt.min())>0){const i=s.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(i)}Ts(s).y_(e)}function bv(s,e){s.H_.Ne(e),Ts(s).w_(e)}function Td(s){s.H_=new MS({getRemoteKeysForTarget:e=>s.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>s.K_.get(e)||null,it:()=>s.datastore.serializer.databaseId}),Ts(s).start(),s.j_.B_()}function Ad(s){return ca(s)&&!Ts(s).u_()&&s.K_.size>0}function ca(s){return yt(s).W_.size===0}function Rv(s){s.H_=void 0}async function k1(s){s.j_.set("Online")}async function q1(s){s.K_.forEach((e,i)=>{Ed(s,e)})}async function j1(s,e){Rv(s),Ad(s)?(s.j_.q_(e),Td(s)):s.j_.set("Unknown")}async function H1(s,e,i){if(s.j_.set("Online"),e instanceof ov&&e.state===2&&e.cause)try{await async function(u,h){const d=h.cause;for(const g of h.targetIds)u.K_.has(g)&&(await u.remoteSyncer.rejectListen(g,d),u.K_.delete(g),u.H_.removeTarget(g))}(s,e)}catch(a){it(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),a),await Xo(s,a)}else if(e instanceof xo?s.H_.We(e):e instanceof uv?s.H_.Ze(e):s.H_.je(e),!i.isEqual(pt.min()))try{const a=await Ev(s.localStore);i.compareTo(a)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((v,_)=>{if(v.resumeToken.approximateByteSize()>0){const A=h.K_.get(_);A&&h.K_.set(_,A.withResumeToken(v.resumeToken,d))}}),g.targetMismatches.forEach((v,_)=>{const A=h.K_.get(v);if(!A)return;h.K_.set(v,A.withResumeToken(Be.EMPTY_BYTE_STRING,A.snapshotVersion)),bv(h,v);const V=new lr(A.target,v,_,A.sequenceNumber);Ed(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(s,i)}catch(a){it(ua,"Failed to raise snapshot:",a),await Xo(s,a)}}async function Xo(s,e,i){if(!Es(e))throw e;s.W_.add(1),await $l(s),s.j_.set("Offline"),i||(i=()=>Ev(s.localStore)),s.asyncQueue.enqueueRetryable(async()=>{it(ua,"Retrying IndexedDB access"),await i(),s.W_.delete(1),await uc(s)})}function wv(s,e){return e().catch(i=>Xo(s,i,e))}async function oc(s){const e=yt(s),i=yr(e);let a=e.U_.length>0?e.U_[e.U_.length-1].batchId:rd;for(;G1(e);)try{const u=await R1(e.localStore,a);if(u===null){e.U_.length===0&&i.P_();break}a=u.batchId,Q1(e,u)}catch(u){await Xo(e,u)}Dv(e)&&Cv(e)}function G1(s){return ca(s)&&s.U_.length<10}function Q1(s,e){s.U_.push(e);const i=yr(s);i.c_()&&i.S_&&i.b_(e.mutations)}function Dv(s){return ca(s)&&!yr(s).u_()&&s.U_.length>0}function Cv(s){yr(s).start()}async function K1(s){yr(s).C_()}async function Y1(s){const e=yr(s);for(const i of s.U_)e.b_(i.mutations)}async function F1(s,e,i){const a=s.U_.shift(),u=fd.from(a,e,i);await wv(s,()=>s.remoteSyncer.applySuccessfulWrite(u)),await oc(s)}async function X1(s,e){e&&yr(s).S_&&await async function(a,u){if(function(d){return NS(d)&&d!==Z.ABORTED}(u.code)){const h=a.U_.shift();yr(a).h_(),await wv(a,()=>a.remoteSyncer.rejectFailedWrite(h.batchId,u)),await oc(a)}}(s,e),Dv(s)&&Cv(s)}async function Xy(s,e){const i=yt(s);i.asyncQueue.verifyOperationInProgress(),it(ua,"RemoteStore received new credentials");const a=ca(i);i.W_.add(3),await $l(i),a&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(e),i.W_.delete(3),await uc(i)}async function Z1(s,e){const i=yt(s);e?(i.W_.delete(2),await uc(i)):e||(i.W_.add(2),await $l(i),i.j_.set("Unknown"))}function Ts(s){return s.J_||(s.J_=function(i,a,u){const h=yt(i);return h.M_(),new x1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:k1.bind(null,s),No:q1.bind(null,s),Lo:j1.bind(null,s),p_:H1.bind(null,s)}),s.G_.push(async e=>{e?(s.J_.h_(),Ad(s)?Td(s):s.j_.set("Unknown")):(await s.J_.stop(),Rv(s))})),s.J_}function yr(s){return s.Y_||(s.Y_=function(i,a,u){const h=yt(i);return h.M_(),new U1(a,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(s.datastore,s.asyncQueue,{xo:()=>Promise.resolve(),No:K1.bind(null,s),Lo:X1.bind(null,s),D_:Y1.bind(null,s),v_:F1.bind(null,s)}),s.G_.push(async e=>{e?(s.Y_.h_(),await oc(s)):(await s.Y_.stop(),s.U_.length>0&&(it(ua,`Stopping write stream with ${s.U_.length} pending writes`),s.U_=[]))})),s.Y_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,i,a,u,h){this.asyncQueue=e,this.timerId=i,this.targetTimeMs=a,this.op=u,this.removalCallback=h,this.deferred=new sa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,i,a,u,h){const d=Date.now()+a,g=new Sd(e,i,d,u,h);return g.start(a),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bd(s,e){if(Ii("AsyncQueue",`${e}: ${s}`),Es(s))return new lt(Z.UNAVAILABLE,`${e}: ${s}`);throw s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{static emptySet(e){return new us(e.comparator)}constructor(e){this.comparator=e?(i,a)=>e(i,a)||ot.comparator(i.key,a.key):(i,a)=>ot.comparator(i.key,a.key),this.keyedMap=Ml(),this.sortedSet=new ne(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const i=this.keyedMap.get(e);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((i,a)=>(e(i),!1))}add(e){const i=this.delete(e.key);return i.copy(i.keyedMap.insert(e.key,e),i.sortedSet.insert(e,null))}delete(e){const i=this.get(e);return i?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(i)):this}isEqual(e){if(!(e instanceof us)||this.size!==e.size)return!1;const i=this.sortedSet.getIterator(),a=e.sortedSet.getIterator();for(;i.hasNext();){const u=i.getNext().key,h=a.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const e=[];return this.forEach(i=>{e.push(i.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,i){const a=new us;return a.comparator=this.comparator,a.keyedMap=e,a.sortedSet=i,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zy{constructor(){this.Z_=new ne(ot.comparator)}track(e){const i=e.doc.key,a=this.Z_.get(i);a?e.type!==0&&a.type===3?this.Z_=this.Z_.insert(i,e):e.type===3&&a.type!==1?this.Z_=this.Z_.insert(i,{type:a.type,doc:e.doc}):e.type===2&&a.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):e.type===2&&a.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:e.doc}):e.type===1&&a.type===0?this.Z_=this.Z_.remove(i):e.type===1&&a.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:a.doc}):e.type===0&&a.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:e.doc}):dt():this.Z_=this.Z_.insert(i,e)}X_(){const e=[];return this.Z_.inorderTraversal((i,a)=>{e.push(a)}),e}}class ms{constructor(e,i,a,u,h,d,g,v,_){this.query=e,this.docs=i,this.oldDocs=a,this.docChanges=u,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=v,this.hasCachedResults=_}static fromInitialDocuments(e,i,a,u,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new ms(e,i,us.emptySet(i),d,a,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const i=this.docChanges,a=e.docChanges;if(i.length!==a.length)return!1;for(let u=0;u<i.length;u++)if(i[u].type!==a[u].type||!i[u].doc.isEqual(a[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}}class J1{constructor(){this.queries=$y(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,a){const u=yt(i),h=u.queries;u.queries=$y(),h.forEach((d,g)=>{for(const v of g.ta)v.onError(a)})})(this,new lt(Z.ABORTED,"Firestore shutting down"))}}function $y(){return new oa(s=>X_(s),nc)}async function W1(s,e){const i=yt(s);let a=3;const u=e.query;let h=i.queries.get(u);h?!h.na()&&e.ra()&&(a=2):(h=new $1,a=e.ra()?0:1);try{switch(a){case 0:h.ea=await i.onListen(u,!0);break;case 1:h.ea=await i.onListen(u,!1);break;case 2:await i.onFirstRemoteStoreListen(u)}}catch(d){const g=bd(d,`Initialization of query '${rs(e.query)}' failed`);return void e.onError(g)}i.queries.set(u,h),h.ta.push(e),e.sa(i.onlineState),h.ea&&e.oa(h.ea)&&Rd(i)}async function tb(s,e){const i=yt(s),a=e.query;let u=3;const h=i.queries.get(a);if(h){const d=h.ta.indexOf(e);d>=0&&(h.ta.splice(d,1),h.ta.length===0?u=e.ra()?0:1:!h.na()&&e.ra()&&(u=2))}switch(u){case 0:return i.queries.delete(a),i.onUnlisten(a,!0);case 1:return i.queries.delete(a),i.onUnlisten(a,!1);case 2:return i.onLastRemoteStoreUnlisten(a);default:return}}function eb(s,e){const i=yt(s);let a=!1;for(const u of e){const h=u.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(u)&&(a=!0);d.ea=u}}a&&Rd(i)}function nb(s,e,i){const a=yt(s),u=a.queries.get(e);if(u)for(const h of u.ta)h.onError(i);a.queries.delete(e)}function Rd(s){s.ia.forEach(e=>{e.next()})}var Ff,Jy;(Jy=Ff||(Ff={}))._a="default",Jy.Cache="cache";class ib{constructor(e,i,a){this.query=e,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=a||{}}oa(e){if(!this.options.includeMetadataChanges){const a=[];for(const u of e.docChanges)u.type!==3&&a.push(u);e=new ms(e.query,e.docs,e.oldDocs,a,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let i=!1;return this.ua?this.la(e)&&(this.aa.next(e),i=!0):this.ha(e,this.onlineState)&&(this.Pa(e),i=!0),this.ca=e,i}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),i=!0),i}ha(e,i){if(!e.fromCache||!this.ra())return!0;const a=i!=="Offline";return(!this.options.Ta||!a)&&(!e.docs.isEmpty()||e.hasCachedResults||i==="Offline")}la(e){if(e.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(e){e=ms.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==Ff.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(e){this.key=e}}class Iv{constructor(e){this.key=e}}class rb{constructor(e,i){this.query=e,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=Vt(),this.mutatedKeys=Vt(),this.ya=Z_(e),this.wa=new us(this.ya)}get Sa(){return this.fa}ba(e,i){const a=i?i.Da:new Zy,u=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=u,g=!1;const v=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,_=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((A,V)=>{const P=u.get(A),j=ic(this.query,V)?V:null,F=!!P&&this.mutatedKeys.has(P.key),nt=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let J=!1;P&&j?P.data.isEqual(j.data)?F!==nt&&(a.track({type:3,doc:j}),J=!0):this.va(P,j)||(a.track({type:2,doc:j}),J=!0,(v&&this.ya(j,v)>0||_&&this.ya(j,_)<0)&&(g=!0)):!P&&j?(a.track({type:0,doc:j}),J=!0):P&&!j&&(a.track({type:1,doc:P}),J=!0,(v||_)&&(g=!0)),J&&(j?(d=d.add(j),h=nt?h.add(A):h.delete(A)):(d=d.delete(A),h=h.delete(A)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const A=this.query.limitType==="F"?d.last():d.first();d=d.delete(A.key),h=h.delete(A.key),a.track({type:1,doc:A})}return{wa:d,Da:a,ls:g,mutatedKeys:h}}va(e,i){return e.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(e,i,a,u){const h=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;const d=e.Da.X_();d.sort((A,V)=>function(j,F){const nt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return nt(j)-nt(F)}(A.type,V.type)||this.ya(A.doc,V.doc)),this.Ca(a),u=u!=null&&u;const g=i&&!u?this.Fa():[],v=this.pa.size===0&&this.current&&!u?1:0,_=v!==this.ga;return this.ga=v,d.length!==0||_?{snapshot:new ms(this.query,e.wa,h,d,e.mutatedKeys,v===0,_,!1,!!a&&a.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new Zy,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),e.modifiedDocuments.forEach(i=>{}),e.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=e.current)}Fa(){if(!this.current)return[];const e=this.pa;this.pa=Vt(),this.wa.forEach(a=>{this.xa(a.key)&&(this.pa=this.pa.add(a.key))});const i=[];return e.forEach(a=>{this.pa.has(a)||i.push(new Iv(a))}),this.pa.forEach(a=>{e.has(a)||i.push(new Vv(a))}),i}Oa(e){this.fa=e.gs,this.pa=Vt();const i=this.ba(e.documents);return this.applyChanges(i,!0)}Na(){return ms.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const wd="SyncEngine";class ab{constructor(e,i,a){this.query=e,this.targetId=i,this.view=a}}class sb{constructor(e){this.key=e,this.Ba=!1}}class lb{constructor(e,i,a,u,h,d){this.localStore=e,this.remoteStore=i,this.eventManager=a,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new oa(g=>X_(g),nc),this.qa=new Map,this.Qa=new Set,this.$a=new ne(ot.comparator),this.Ua=new Map,this.Ka=new gd,this.Wa={},this.Ga=new Map,this.za=ds.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function ub(s,e,i=!0){const a=zv(s);let u;const h=a.ka.get(e);return h?(a.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.Na()):u=await Nv(a,e,i,!0),u}async function ob(s,e){const i=zv(s);await Nv(i,e,!0,!1)}async function Nv(s,e,i,a){const u=await w1(s.localStore,Jn(e)),h=u.targetId,d=s.sharedClientState.addLocalQueryTarget(h,i);let g;return a&&(g=await cb(s,e,h,d==="current",u.resumeToken)),s.isPrimaryClient&&i&&Sv(s.remoteStore,u),g}async function cb(s,e,i,a,u){s.Ha=(V,P,j)=>async function(nt,J,Tt,At){let gt=J.view.ba(Tt);gt.ls&&(gt=await Gy(nt.localStore,J.query,!1).then(({documents:N})=>J.view.ba(N,gt)));const Bt=At&&At.targetChanges.get(J.targetId),_t=At&&At.targetMismatches.get(J.targetId)!=null,zt=J.view.applyChanges(gt,nt.isPrimaryClient,Bt,_t);return t_(nt,J.targetId,zt.Ma),zt.snapshot}(s,V,P,j);const h=await Gy(s.localStore,e,!0),d=new rb(e,h.gs),g=d.ba(h.documents),v=Zl.createSynthesizedTargetChangeForCurrentChange(i,a&&s.onlineState!=="Offline",u),_=d.applyChanges(g,s.isPrimaryClient,v);t_(s,i,_.Ma);const A=new ab(e,i,d);return s.ka.set(e,A),s.qa.has(i)?s.qa.get(i).push(e):s.qa.set(i,[e]),_.snapshot}async function hb(s,e,i){const a=yt(s),u=a.ka.get(e),h=a.qa.get(u.targetId);if(h.length>1)return a.qa.set(u.targetId,h.filter(d=>!nc(d,e))),void a.ka.delete(e);a.isPrimaryClient?(a.sharedClientState.removeLocalQueryTarget(u.targetId),a.sharedClientState.isActiveQueryTarget(u.targetId)||await Kf(a.localStore,u.targetId,!1).then(()=>{a.sharedClientState.clearQueryState(u.targetId),i&&vd(a.remoteStore,u.targetId),Xf(a,u.targetId)}).catch(vs)):(Xf(a,u.targetId),await Kf(a.localStore,u.targetId,!0))}async function fb(s,e){const i=yt(s),a=i.ka.get(e),u=i.qa.get(a.targetId);i.isPrimaryClient&&u.length===1&&(i.sharedClientState.removeLocalQueryTarget(a.targetId),vd(i.remoteStore,a.targetId))}async function db(s,e,i){const a=Eb(s);try{const u=await function(d,g){const v=yt(d),_=Ae.now(),A=g.reduce((j,F)=>j.add(F.key),Vt());let V,P;return v.persistence.runTransaction("Locally write mutations","readwrite",j=>{let F=Ni(),nt=Vt();return v.ds.getEntries(j,A).next(J=>{F=J,F.forEach((Tt,At)=>{At.isValidDocument()||(nt=nt.add(Tt))})}).next(()=>v.localDocuments.getOverlayedDocuments(j,F)).next(J=>{V=J;const Tt=[];for(const At of g){const gt=wS(At,V.get(At.key).overlayedDocument);gt!=null&&Tt.push(new Er(At.key,gt,j_(gt.value.mapValue),Mn.exists(!0)))}return v.mutationQueue.addMutationBatch(j,_,Tt,g)}).next(J=>{P=J;const Tt=J.applyToLocalDocumentSet(V,nt);return v.documentOverlayCache.saveOverlays(j,J.batchId,Tt)})}).then(()=>({batchId:P.batchId,changes:J_(V)}))}(a.localStore,e);a.sharedClientState.addPendingMutation(u.batchId),function(d,g,v){let _=d.Wa[d.currentUser.toKey()];_||(_=new ne(bt)),_=_.insert(g,v),d.Wa[d.currentUser.toKey()]=_}(a,u.batchId,i),await Jl(a,u.changes),await oc(a.remoteStore)}catch(u){const h=bd(u,"Failed to persist write");i.reject(h)}}async function Ov(s,e){const i=yt(s);try{const a=await S1(i.localStore,e);e.targetChanges.forEach((u,h)=>{const d=i.Ua.get(h);d&&(qt(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?d.Ba=!0:u.modifiedDocuments.size>0?qt(d.Ba):u.removedDocuments.size>0&&(qt(d.Ba),d.Ba=!1))}),await Jl(i,a,e)}catch(a){await vs(a)}}function Wy(s,e,i){const a=yt(s);if(a.isPrimaryClient&&i===0||!a.isPrimaryClient&&i===1){const u=[];a.ka.forEach((h,d)=>{const g=d.view.sa(e);g.snapshot&&u.push(g.snapshot)}),function(d,g){const v=yt(d);v.onlineState=g;let _=!1;v.queries.forEach((A,V)=>{for(const P of V.ta)P.sa(g)&&(_=!0)}),_&&Rd(v)}(a.eventManager,e),u.length&&a.La.p_(u),a.onlineState=e,a.isPrimaryClient&&a.sharedClientState.setOnlineState(e)}}async function mb(s,e,i){const a=yt(s);a.sharedClientState.updateQueryState(e,"rejected",i);const u=a.Ua.get(e),h=u&&u.key;if(h){let d=new ne(ot.comparator);d=d.insert(h,Qe.newNoDocument(h,pt.min()));const g=Vt().add(h),v=new sc(pt.min(),new Map,new ne(bt),d,g);await Ov(a,v),a.$a=a.$a.remove(h),a.Ua.delete(e),Dd(a)}else await Kf(a.localStore,e,!1).then(()=>Xf(a,e,i)).catch(vs)}async function gb(s,e){const i=yt(s),a=e.batch.batchId;try{const u=await A1(i.localStore,e);xv(i,a,null),Mv(i,a),i.sharedClientState.updateMutationState(a,"acknowledged"),await Jl(i,u)}catch(u){await vs(u)}}async function pb(s,e,i){const a=yt(s);try{const u=await function(d,g){const v=yt(d);return v.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let A;return v.mutationQueue.lookupMutationBatch(_,g).next(V=>(qt(V!==null),A=V.keys(),v.mutationQueue.removeMutationBatch(_,V))).next(()=>v.mutationQueue.performConsistencyCheck(_)).next(()=>v.documentOverlayCache.removeOverlaysForBatchId(_,A,g)).next(()=>v.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,A)).next(()=>v.localDocuments.getDocuments(_,A))})}(a.localStore,e);xv(a,e,i),Mv(a,e),a.sharedClientState.updateMutationState(e,"rejected",i),await Jl(a,u)}catch(u){await vs(u)}}function Mv(s,e){(s.Ga.get(e)||[]).forEach(i=>{i.resolve()}),s.Ga.delete(e)}function xv(s,e,i){const a=yt(s);let u=a.Wa[a.currentUser.toKey()];if(u){const h=u.get(e);h&&(i?h.reject(i):h.resolve(),u=u.remove(e)),a.Wa[a.currentUser.toKey()]=u}}function Xf(s,e,i=null){s.sharedClientState.removeLocalQueryTarget(e);for(const a of s.qa.get(e))s.ka.delete(a),i&&s.La.Ja(a,i);s.qa.delete(e),s.isPrimaryClient&&s.Ka.br(e).forEach(a=>{s.Ka.containsKey(a)||Uv(s,a)})}function Uv(s,e){s.Qa.delete(e.path.canonicalString());const i=s.$a.get(e);i!==null&&(vd(s.remoteStore,i),s.$a=s.$a.remove(e),s.Ua.delete(i),Dd(s))}function t_(s,e,i){for(const a of i)a instanceof Vv?(s.Ka.addReference(a.key,e),yb(s,a)):a instanceof Iv?(it(wd,"Document no longer in limbo: "+a.key),s.Ka.removeReference(a.key,e),s.Ka.containsKey(a.key)||Uv(s,a.key)):dt()}function yb(s,e){const i=e.key,a=i.path.canonicalString();s.$a.get(i)||s.Qa.has(a)||(it(wd,"New document in limbo: "+i),s.Qa.add(a),Dd(s))}function Dd(s){for(;s.Qa.size>0&&s.$a.size<s.maxConcurrentLimboResolutions;){const e=s.Qa.values().next().value;s.Qa.delete(e);const i=new ot(te.fromString(e)),a=s.za.next();s.Ua.set(a,new sb(i)),s.$a=s.$a.insert(i,a),Sv(s.remoteStore,new lr(Jn(od(i.path)),a,"TargetPurposeLimboResolution",Jo.ae))}}async function Jl(s,e,i){const a=yt(s),u=[],h=[],d=[];a.ka.isEmpty()||(a.ka.forEach((g,v)=>{d.push(a.Ha(v,e,i).then(_=>{var A;if((_||i)&&a.isPrimaryClient){const V=_?!_.fromCache:(A=i==null?void 0:i.targetChanges.get(v.targetId))===null||A===void 0?void 0:A.current;a.sharedClientState.updateQueryState(v.targetId,V?"current":"not-current")}if(_){u.push(_);const V=yd.Yi(v.targetId,_);h.push(V)}}))}),await Promise.all(d),a.La.p_(u),await async function(v,_){const A=yt(v);try{await A.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>Y.forEach(_,P=>Y.forEach(P.Hi,j=>A.persistence.referenceDelegate.addReference(V,P.targetId,j)).next(()=>Y.forEach(P.Ji,j=>A.persistence.referenceDelegate.removeReference(V,P.targetId,j)))))}catch(V){if(!Es(V))throw V;it(_d,"Failed to update sequence numbers: "+V)}for(const V of _){const P=V.targetId;if(!V.fromCache){const j=A.Ts.get(P),F=j.snapshotVersion,nt=j.withLastLimboFreeSnapshotVersion(F);A.Ts=A.Ts.insert(P,nt)}}}(a.localStore,h))}async function _b(s,e){const i=yt(s);if(!i.currentUser.isEqual(e)){it(wd,"User change. New user:",e.toKey());const a=await vv(i.localStore,e);i.currentUser=e,function(h,d){h.Ga.forEach(g=>{g.forEach(v=>{v.reject(new lt(Z.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(e,a.removedBatchIds,a.addedBatchIds),await Jl(i,a.Rs)}}function vb(s,e){const i=yt(s),a=i.Ua.get(e);if(a&&a.Ba)return Vt().add(a.key);{let u=Vt();const h=i.qa.get(e);if(!h)return u;for(const d of h){const g=i.ka.get(d);u=u.unionWith(g.view.Sa)}return u}}function zv(s){const e=yt(s);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ov.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=vb.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=mb.bind(null,e),e.La.p_=eb.bind(null,e.eventManager),e.La.Ja=nb.bind(null,e.eventManager),e}function Eb(s){const e=yt(s);return e.remoteStore.remoteSyncer.applySuccessfulWrite=gb.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pb.bind(null,e),e}class Zo{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=lc(e.databaseInfo.databaseId),this.sharedClientState=this.Za(e),this.persistence=this.Xa(e),await this.persistence.start(),this.localStore=this.eu(e),this.gcScheduler=this.tu(e,this.localStore),this.indexBackfillerScheduler=this.nu(e,this.localStore)}tu(e,i){return null}nu(e,i){return null}eu(e){return T1(this.persistence,new _1,e.initialUser,this.serializer)}Xa(e){return new _v(pd.ri,this.serializer)}Za(e){return new C1}async terminate(){var e,i;(e=this.gcScheduler)===null||e===void 0||e.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Zo.provider={build:()=>new Zo};class Tb extends Zo{constructor(e){super(),this.cacheSizeBytes=e}tu(e,i){qt(this.persistence.referenceDelegate instanceof Fo);const a=this.persistence.referenceDelegate.garbageCollector;return new i1(a,e.asyncQueue,i)}Xa(e){const i=this.cacheSizeBytes!==void 0?We.withCacheSize(this.cacheSizeBytes):We.DEFAULT;return new _v(a=>Fo.ri(a,i),this.serializer)}}class Zf{async initialize(e,i){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>Wy(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=_b.bind(null,this.syncEngine),await Z1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new J1}()}createDatastore(e){const i=lc(e.databaseInfo.databaseId),a=function(h){return new M1(h)}(e.databaseInfo);return function(h,d,g,v){return new L1(h,d,g,v)}(e.authCredentials,e.appCheckCredentials,a,i)}createRemoteStore(e){return function(a,u,h,d,g){return new B1(a,u,h,d,g)}(this.localStore,this.datastore,e.asyncQueue,i=>Wy(this.syncEngine,i,0),function(){return Yy.D()?new Yy:new V1}())}createSyncEngine(e,i){return function(u,h,d,g,v,_,A){const V=new lb(u,h,d,g,v,_);return A&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,i)}async terminate(){var e,i;await async function(u){const h=yt(u);it(ua,"RemoteStore shutting down."),h.W_.add(5),await $l(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Zf.provider={build:()=>new Zf};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ab{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):Ii("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,i){setTimeout(()=>{this.muted||e(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r="FirestoreClient";class Sb{constructor(e,i,a,u,h){this.authCredentials=e,this.appCheckCredentials=i,this.asyncQueue=a,this.databaseInfo=u,this.user=Ge.UNAUTHENTICATED,this.clientId=O_.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(a,async d=>{it(_r,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(a,d=>(it(_r,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new sa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(i){const a=bd(i,"Failed to shutdown persistence");e.reject(a)}}),e.promise}}async function Vf(s,e){s.asyncQueue.verifyOperationInProgress(),it(_r,"Initializing OfflineComponentProvider");const i=s.configuration;await e.initialize(i);let a=i.initialUser;s.setCredentialChangeListener(async u=>{a.isEqual(u)||(await vv(e.localStore,u),a=u)}),e.persistence.setDatabaseDeletedListener(()=>s.terminate()),s._offlineComponents=e}async function e_(s,e){s.asyncQueue.verifyOperationInProgress();const i=await bb(s);it(_r,"Initializing OnlineComponentProvider"),await e.initialize(i,s.configuration),s.setCredentialChangeListener(a=>Xy(e.remoteStore,a)),s.setAppCheckTokenChangeListener((a,u)=>Xy(e.remoteStore,u)),s._onlineComponents=e}async function bb(s){if(!s._offlineComponents)if(s._uninitializedComponentsProvider){it(_r,"Using user provided OfflineComponentProvider");try{await Vf(s,s._uninitializedComponentsProvider._offline)}catch(e){const i=e;if(!function(u){return u.name==="FirebaseError"?u.code===Z.FAILED_PRECONDITION||u.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(i))throw i;os("Error using user provided cache. Falling back to memory cache: "+i),await Vf(s,new Zo)}}else it(_r,"Using default OfflineComponentProvider"),await Vf(s,new Tb(void 0));return s._offlineComponents}async function Lv(s){return s._onlineComponents||(s._uninitializedComponentsProvider?(it(_r,"Using user provided OnlineComponentProvider"),await e_(s,s._uninitializedComponentsProvider._online)):(it(_r,"Using default OnlineComponentProvider"),await e_(s,new Zf))),s._onlineComponents}function Rb(s){return Lv(s).then(e=>e.syncEngine)}async function n_(s){const e=await Lv(s),i=e.eventManager;return i.onListen=ub.bind(null,e.syncEngine),i.onUnlisten=hb.bind(null,e.syncEngine),i.onFirstRemoteStoreListen=ob.bind(null,e.syncEngine),i.onLastRemoteStoreUnlisten=fb.bind(null,e.syncEngine),i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pv(s){const e={};return s.timeoutSeconds!==void 0&&(e.timeoutSeconds=s.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bv(s,e,i){if(!i)throw new lt(Z.INVALID_ARGUMENT,`Function ${s}() cannot be called with an empty ${e}.`)}function wb(s,e,i,a){if(e===!0&&a===!0)throw new lt(Z.INVALID_ARGUMENT,`${s} and ${i} cannot be used together.`)}function r_(s){if(!ot.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${s} has ${s.length}.`)}function a_(s){if(ot.isDocumentKey(s))throw new lt(Z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${s} has ${s.length}.`)}function Cd(s){if(s===void 0)return"undefined";if(s===null)return"null";if(typeof s=="string")return s.length>20&&(s=`${s.substring(0,20)}...`),JSON.stringify(s);if(typeof s=="number"||typeof s=="boolean")return""+s;if(typeof s=="object"){if(s instanceof Array)return"an array";{const e=function(a){return a.constructor?a.constructor.name:null}(s);return e?`a custom ${e} object`:"an object"}}return typeof s=="function"?"a function":dt()}function hr(s,e){if("_delegate"in s&&(s=s._delegate),!(s instanceof e)){if(e.name===s.constructor.name)throw new lt(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=Cd(s);throw new lt(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${i}`)}}return s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv="firestore.googleapis.com",s_=!0;class l_{constructor(e){var i,a;if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=kv,this.ssl=s_}else this.host=e.host,this.ssl=(i=e.ssl)!==null&&i!==void 0?i:s_;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yv;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<e1)throw new lt(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}wb("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pv((a=e.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new lt(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(a,u){return a.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cc{constructor(e,i,a,u){this._authCredentials=e,this._appCheckCredentials=i,this._databaseId=a,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new l_({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new l_(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new NA;switch(a.type){case"firstParty":return new UA(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new lt(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const a=i_.get(i);a&&(it("ComponentProvider","Removing Datastore"),i_.delete(i),a.terminate())}(this),Promise.resolve()}}function Db(s,e,i,a={}){var u;const h=(s=hr(s,cc))._getSettings(),d=Object.assign(Object.assign({},h),{emulatorOptions:s._getEmulatorOptions()}),g=`${e}:${i}`;h.host!==kv&&h.host!==g&&os("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const v=Object.assign(Object.assign({},h),{host:g,ssl:!1,emulatorOptions:a});if(!Lo(v,d)&&(s._setSettings(v),a.mockUserToken)){let _,A;if(typeof a.mockUserToken=="string")_=a.mockUserToken,A=Ge.MOCK_USER;else{_=cT(a.mockUserToken,(u=s._app)===null||u===void 0?void 0:u.options.projectId);const V=a.mockUserToken.sub||a.mockUserToken.user_id;if(!V)throw new lt(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new Ge(V)}s._authCredentials=new OA(new I_(_,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc{constructor(e,i,a){this.converter=i,this._query=a,this.type="query",this.firestore=e}withConverter(e){return new hc(this.firestore,e,this._query)}}class dn{constructor(e,i,a){this.converter=i,this._key=a,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class fr extends hc{constructor(e,i,a){super(e,i,od(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ot(e))}withConverter(e){return new fr(this.firestore,e,this._path)}}function u_(s,e,...i){if(s=Ci(s),Bv("collection","path",e),s instanceof cc){const a=te.fromString(e,...i);return a_(a),new fr(s,null,a)}{if(!(s instanceof dn||s instanceof fr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return a_(a),new fr(s.firestore,null,a)}}function $f(s,e,...i){if(s=Ci(s),arguments.length===1&&(e=O_.newId()),Bv("doc","path",e),s instanceof cc){const a=te.fromString(e,...i);return r_(a),new dn(s,null,new ot(a))}{if(!(s instanceof dn||s instanceof fr))throw new lt(Z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=s._path.child(te.fromString(e,...i));return r_(a),new dn(s.firestore,s instanceof fr?s.converter:null,new ot(a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o_="AsyncQueue";class c_{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new Tv(this,"async_queue_retry"),this.Su=()=>{const a=Cf();a&&it(o_,"Visibility state changed to "+a.visibilityState),this.a_.t_()},this.bu=e;const i=Cf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;const i=Cf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});const i=new sa;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!Es(e))throw e;it(o_,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(e){const i=this.bu.then(()=>(this.pu=!0,e().catch(a=>{this.gu=a,this.pu=!1;const u=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(a);throw Ii("INTERNAL UNHANDLED ERROR: ",u),a}).then(a=>(this.pu=!1,a))));return this.bu=i,i}enqueueAfterDelay(e,i,a){this.Du(),this.wu.indexOf(e)>-1&&(i=0);const u=Sd.createAndSchedule(this,e,i,a,h=>this.Fu(h));return this.fu.push(u),u}Du(){this.gu&&dt()}verifyOperationInProgress(){}async Mu(){let e;do e=this.bu,await e;while(e!==this.bu)}xu(e){for(const i of this.fu)if(i.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((i,a)=>i.targetTimeMs-a.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),e!=="all"&&i.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){const i=this.fu.indexOf(e);this.fu.splice(i,1)}}function h_(s){return function(i,a){if(typeof i!="object"||i===null)return!1;const u=i;for(const h of a)if(h in u&&typeof u[h]=="function")return!0;return!1}(s,["next","error","complete"])}class gs extends cc{constructor(e,i,a,u){super(e,i,a,u),this.type="firestore",this._queue=new c_,this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new c_(e),this._firestoreClient=void 0,await e}}}function Cb(s,e){const i=typeof s=="object"?s:EA(),a=typeof s=="string"?s:qo,u=gA(i,"firestore").getImmediate({identifier:a});if(!u._initialized){const h=uT("firestore");h&&Db(u,...h)}return u}function qv(s){if(s._terminated)throw new lt(Z.FAILED_PRECONDITION,"The client has already been terminated.");return s._firestoreClient||Vb(s),s._firestoreClient}function Vb(s){var e,i,a;const u=s._freezeSettings(),h=function(g,v,_,A){return new ZA(g,v,_,A.host,A.ssl,A.experimentalForceLongPolling,A.experimentalAutoDetectLongPolling,Pv(A.experimentalLongPollingOptions),A.useFetchStreams)}(s._databaseId,((e=s._app)===null||e===void 0?void 0:e.options.appId)||"",s._persistenceKey,u);s._componentsProvider||!((i=u.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((a=u.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(s._componentsProvider={_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider}),s._firestoreClient=new Sb(s._authCredentials,s._appCheckCredentials,s._queue,h,s._componentsProvider&&function(g){const v=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(v),_online:v}}(s._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ps(Be.fromBase64String(e))}catch(i){throw new lt(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(e){return new ps(Be.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(...e){for(let i=0;i<e.length;++i)if(e[i].length===0)throw new lt(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Pe(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,i){if(!isFinite(e)||e<-90||e>90)throw new lt(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(i)||i<-180||i>180)throw new lt(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=e,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return bt(this._lat,e._lat)||bt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e){this._values=(e||[]).map(i=>i)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(a,u){if(a.length!==u.length)return!1;for(let h=0;h<a.length;++h)if(a[h]!==u[h])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=/^__.*__$/;class Nb{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return this.fieldMask!==null?new Er(e,this.data,this.fieldMask,i,this.fieldTransforms):new Xl(e,this.data,i,this.fieldTransforms)}}class jv{constructor(e,i,a){this.data=e,this.fieldMask=i,this.fieldTransforms=a}toMutation(e,i){return new Er(e,this.data,this.fieldMask,i,this.fieldTransforms)}}function Hv(s){switch(s){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class Od{constructor(e,i,a,u,h,d){this.settings=e,this.databaseId=i,this.serializer=a,this.ignoreUndefinedProperties=u,h===void 0&&this.Bu(),this.fieldTransforms=h||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new Od(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.$u(e),u}Uu(e){var i;const a=(i=this.path)===null||i===void 0?void 0:i.child(e),u=this.ku({path:a,Qu:!1});return u.Bu(),u}Ku(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return $o(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(i=>e.isPrefixOf(i))!==void 0||this.fieldTransforms.find(i=>e.isPrefixOf(i.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(Hv(this.Lu)&&Ib.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}}class Ob{constructor(e,i,a){this.databaseId=e,this.ignoreUndefinedProperties=i,this.serializer=a||lc(e)}ju(e,i,a,u=!1){return new Od({Lu:e,methodName:i,zu:a,path:Pe.emptyPath(),Qu:!1,Gu:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Gv(s){const e=s._freezeSettings(),i=lc(s._databaseId);return new Ob(s._databaseId,!!e.ignoreUndefinedProperties,i)}function Mb(s,e,i,a,u,h={}){const d=s.ju(h.merge||h.mergeFields?2:0,e,i,u);Md("Data must be an object, but it was:",d,a);const g=Qv(a,d);let v,_;if(h.merge)v=new fn(d.fieldMask),_=d.fieldTransforms;else if(h.mergeFields){const A=[];for(const V of h.mergeFields){const P=Jf(e,V,i);if(!d.contains(P))throw new lt(Z.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);Yv(A,P)||A.push(P)}v=new fn(A),_=d.fieldTransforms.filter(V=>v.covers(V.field))}else v=null,_=d.fieldTransforms;return new Nb(new tn(g),v,_)}class dc extends Vd{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dc}}function xb(s,e,i,a){const u=s.ju(1,e,i);Md("Data must be an object, but it was:",u,a);const h=[],d=tn.empty();vr(a,(v,_)=>{const A=xd(e,v,i);_=Ci(_);const V=u.Uu(A);if(_ instanceof dc)h.push(A);else{const P=mc(_,V);P!=null&&(h.push(A),d.set(A,P))}});const g=new fn(h);return new jv(d,g,u.fieldTransforms)}function Ub(s,e,i,a,u,h){const d=s.ju(1,e,i),g=[Jf(e,a,i)],v=[u];if(h.length%2!=0)throw new lt(Z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let P=0;P<h.length;P+=2)g.push(Jf(e,h[P])),v.push(h[P+1]);const _=[],A=tn.empty();for(let P=g.length-1;P>=0;--P)if(!Yv(_,g[P])){const j=g[P];let F=v[P];F=Ci(F);const nt=d.Uu(j);if(F instanceof dc)_.push(j);else{const J=mc(F,nt);J!=null&&(_.push(j),A.set(j,J))}}const V=new fn(_);return new jv(A,V,d.fieldTransforms)}function mc(s,e){if(Kv(s=Ci(s)))return Md("Unsupported field value:",e,s),Qv(s,e);if(s instanceof Vd)return function(a,u){if(!Hv(u.Lu))throw u.Wu(`${a._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Wu(`${a._methodName}() is not currently supported inside arrays`);const h=a._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(s,e),null;if(s===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),s instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(a,u){const h=[];let d=0;for(const g of a){let v=mc(g,u.Ku(d));v==null&&(v={nullValue:"NULL_VALUE"}),h.push(v),d++}return{arrayValue:{values:h}}}(s,e)}return function(a,u){if((a=Ci(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return ES(u.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const h=Ae.fromDate(a);return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Ae){const h=new Ae(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:Yo(u.serializer,h)}}if(a instanceof Id)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof ps)return{bytesValue:cv(u.serializer,a._byteString)};if(a instanceof dn){const h=u.databaseId,d=a.firestore._databaseId;if(!d.isEqual(h))throw u.Wu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:md(a.firestore._databaseId||u.databaseId,a._key.path)}}if(a instanceof Nd)return function(d,g){return{mapValue:{fields:{[k_]:{stringValue:q_},[jo]:{arrayValue:{values:d.toArray().map(_=>{if(typeof _!="number")throw g.Wu("VectorValues must only contain numeric values.");return cd(g.serializer,_)})}}}}}}(a,u);throw u.Wu(`Unsupported field value: ${Cd(a)}`)}(s,e)}function Qv(s,e){const i={};return x_(s)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vr(s,(a,u)=>{const h=mc(u,e.qu(a));h!=null&&(i[a]=h)}),{mapValue:{fields:i}}}function Kv(s){return!(typeof s!="object"||s===null||s instanceof Array||s instanceof Date||s instanceof Ae||s instanceof Id||s instanceof ps||s instanceof dn||s instanceof Vd||s instanceof Nd)}function Md(s,e,i){if(!Kv(i)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(i)){const a=Cd(i);throw a==="an object"?e.Wu(s+" a custom object"):e.Wu(s+" "+a)}}function Jf(s,e,i){if((e=Ci(e))instanceof fc)return e._internalPath;if(typeof e=="string")return xd(s,e);throw $o("Field path arguments must be of type string or ",s,!1,void 0,i)}const zb=new RegExp("[~\\*/\\[\\]]");function xd(s,e,i){if(e.search(zb)>=0)throw $o(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,s,!1,void 0,i);try{return new fc(...e.split("."))._internalPath}catch{throw $o(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,s,!1,void 0,i)}}function $o(s,e,i,a,u){const h=a&&!a.isEmpty(),d=u!==void 0;let g=`Function ${e}() called with invalid data`;i&&(g+=" (via `toFirestore()`)"),g+=". ";let v="";return(h||d)&&(v+=" (found",h&&(v+=` in field ${a}`),d&&(v+=` in document ${u}`),v+=")"),new lt(Z.INVALID_ARGUMENT,g+s+v)}function Yv(s,e){return s.some(i=>i.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,i,a,u,h){this._firestore=e,this._userDataWriter=i,this._key=a,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Lb(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const i=this._document.data.field(Xv("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i)}}}class Lb extends Fv{data(){return super.data()}}function Xv(s,e){return typeof e=="string"?xd(s,e):e instanceof fc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(s){if(s.limitType==="L"&&s.explicitOrderBy.length===0)throw new lt(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bb{convertValue(e,i="none"){switch(pr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,i);case 5:return e.stringValue;case 6:return this.convertBytes(gr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,i);case 11:return this.convertObject(e.mapValue,i);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,i){return this.convertObjectMap(e.fields,i)}convertObjectMap(e,i="none"){const a={};return vr(e,(u,h)=>{a[u]=this.convertValue(h,i)}),a}convertVectorValue(e){var i,a,u;const h=(u=(a=(i=e.fields)===null||i===void 0?void 0:i[jo].arrayValue)===null||a===void 0?void 0:a.values)===null||u===void 0?void 0:u.map(d=>ce(d.doubleValue));return new Nd(h)}convertGeoPoint(e){return new Id(ce(e.latitude),ce(e.longitude))}convertArray(e,i){return(e.values||[]).map(a=>this.convertValue(a,i))}convertServerTimestamp(e,i){switch(i){case"previous":const a=tc(e);return a==null?null:this.convertValue(a,i);case"estimate":return this.convertTimestamp(Gl(e));default:return null}}convertTimestamp(e){const i=mr(e);return new Ae(i.seconds,i.nanos)}convertDocumentKey(e,i){const a=te.fromString(e);qt(pv(a));const u=new Ql(a.get(1),a.get(3)),h=new ot(a.popFirst(5));return u.isEqual(i)||Ii(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(s,e,i){let a;return a=s?s.toFirestore(e):e,a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ul{constructor(e,i){this.hasPendingWrites=e,this.fromCache=i}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Zv extends Fv{constructor(e,i,a,u,h,d){super(e,i,a,u,d),this._firestore=e,this._firestoreImpl=e,this.metadata=h}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const i=new Uo(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,i={}){if(this._document){const a=this._document.data.field(Xv("DocumentSnapshot.get",e));if(a!==null)return this._userDataWriter.convertValue(a,i.serverTimestamps)}}}class Uo extends Zv{data(e={}){return super.data(e)}}class qb{constructor(e,i,a,u){this._firestore=e,this._userDataWriter=i,this._snapshot=u,this.metadata=new Ul(u.hasPendingWrites,u.fromCache),this.query=a}get docs(){const e=[];return this.forEach(i=>e.push(i)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,i){this._snapshot.docs.forEach(a=>{e.call(i,new Uo(this._firestore,this._userDataWriter,a.key,a,new Ul(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const i=!!e.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new lt(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let d=0;return u._snapshot.docChanges.map(g=>{const v=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ul(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);return g.doc,{type:"added",doc:v,oldIndex:-1,newIndex:d++}})}{let d=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const v=new Uo(u._firestore,u._userDataWriter,g.doc.key,g.doc,new Ul(u._snapshot.mutatedKeys.has(g.doc.key),u._snapshot.fromCache),u.query.converter);let _=-1,A=-1;return g.type!==0&&(_=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),A=d.indexOf(g.doc.key)),{type:jb(g.type),doc:v,oldIndex:_,newIndex:A}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function jb(s){switch(s){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}class $v extends Bb{constructor(e){super(),this.firestore=e}convertBytes(e){return new ps(e)}convertReference(e){const i=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,i)}}function Hb(s,e,i,...a){s=hr(s,dn);const u=hr(s.firestore,gs),h=Gv(u);let d;return d=typeof(e=Ci(e))=="string"||e instanceof fc?Ub(h,"updateDoc",s._key,e,i,a):xb(h,"updateDoc",s._key,e),Ud(u,[d.toMutation(s._key,Mn.exists(!0))])}function Gb(s){return Ud(hr(s.firestore,gs),[new hd(s._key,Mn.none())])}function Qb(s,e){const i=hr(s.firestore,gs),a=$f(s),u=kb(s.converter,e);return Ud(i,[Mb(Gv(s.firestore),"addDoc",a._key,u,s.converter!==null,{}).toMutation(a._key,Mn.exists(!1))]).then(()=>a)}function Kb(s,...e){var i,a,u;s=Ci(s);let h={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||h_(e[d])||(h=e[d],d++);const g={includeMetadataChanges:h.includeMetadataChanges,source:h.source};if(h_(e[d])){const V=e[d];e[d]=(i=V.next)===null||i===void 0?void 0:i.bind(V),e[d+1]=(a=V.error)===null||a===void 0?void 0:a.bind(V),e[d+2]=(u=V.complete)===null||u===void 0?void 0:u.bind(V)}let v,_,A;if(s instanceof dn)_=hr(s.firestore,gs),A=od(s._key.path),v={next:V=>{e[d]&&e[d](Yb(_,s,V))},error:e[d+1],complete:e[d+2]};else{const V=hr(s,hc);_=hr(V.firestore,gs),A=V._query;const P=new $v(_);v={next:j=>{e[d]&&e[d](new qb(_,P,V,j))},error:e[d+1],complete:e[d+2]},Pb(s._query)}return function(P,j,F,nt){const J=new Ab(nt),Tt=new ib(j,J,F);return P.asyncQueue.enqueueAndForget(async()=>W1(await n_(P),Tt)),()=>{J.su(),P.asyncQueue.enqueueAndForget(async()=>tb(await n_(P),Tt))}}(qv(_),A,g,v)}function Ud(s,e){return function(a,u){const h=new sa;return a.asyncQueue.enqueueAndForget(async()=>db(await Rb(a),u,h)),h.promise}(qv(s),e)}function Yb(s,e,i){const a=i.docs.get(e._key),u=new $v(s);return new Zv(s,u,e._key,a,new Ul(i.hasPendingWrites,i.fromCache),e.converter)}(function(e,i=!0){(function(u){_s=u})(vA),Bo(new ql("firestore",(a,{instanceIdentifier:u,options:h})=>{const d=a.getProvider("app").getImmediate(),g=new gs(new MA(a.getProvider("auth-internal")),new zA(d,a.getProvider("app-check-internal")),function(_,A){if(!Object.prototype.hasOwnProperty.apply(_.options,["projectId"]))throw new lt(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ql(_.options.projectId,A)}(d,u),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),ls(my,gy,e),ls(my,gy,"esm2017")})();var Fb="firebase",Xb="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ls(Fb,Xb,"app");const Zb={apiKey:"AIzaSyD1CaHJARh9ryDHxZYwFNnKioT-Zayqcos",authDomain:"todo-app-8d161.firebaseapp.com",projectId:"todo-app-8d161",storageBucket:"todo-app-8d161.firebasestorage.app",messagingSenderId:"855426273695",appId:"1:855426273695:web:f47dc2112fec411f82edaa"},$b=T_(Zb),Vo=Cb($b);function Jb(){const[s,e]=en.useState([]);return en.useEffect(()=>{const h=Kb(u_(Vo,"todos"),d=>{const g=d.docs.map(v=>({id:v.id,...v.data()}));e(g)});return()=>h()},[]),{todos:s,addTodo:async(h,d)=>{await Qb(u_(Vo,"todos"),{title:h,description:d,completed:!1})},updateTodo:async h=>{const{id:d,title:g,description:v,completed:_}=h,A=$f(Vo,"todos",d);await Hb(A,{title:g,description:v,completed:_})},deleteTodo:async h=>{const d=$f(Vo,"todos",h);await Gb(d)}}}function Wb(){const{todos:s,addTodo:e,updateTodo:i,deleteTodo:a}=Jb(),[u,h]=en.useState(!1),[d,g]=en.useState(null),v=F=>{e(F.title,F.description)},_=F=>{i(F)},A=F=>{const nt={...F,completed:!F.completed};i(nt)},V=F=>{a(F)},P=()=>{g(null),h(!0)},j=F=>{g(F),h(!0)};return Et.jsxs(Et.Fragment,{children:[Et.jsxs("div",{className:"items-center justify-center",children:[Et.jsx(HE,{text:"Todo List",size:"xl",className:"text-black-600"}),Et.jsx(QE,{text:"This is an example project for todo list",size:"md",className:"italic"})]}),Et.jsx("div",{className:"p-4 flex justify-end",children:Et.jsx(kl,{leftIcon:Et.jsx(BE,{size:16}),onClick:P,children:"Add New"})}),Et.jsx("div",{className:"space-y-4 p-4",children:s.map(F=>Et.jsx(ZE,{title:F.title,description:F.description,completed:F.completed,onEdit:()=>j(F),onToggle:()=>A(F),onDelete:()=>V(F.id)},F.id))}),Et.jsx($E,{isOpen:u,onClose:()=>h(!1),onSubmit:d?_:v,mode:d?"edit":"add",editData:d??void 0})]})}NE.createRoot(document.getElementById("root")).render(Et.jsx(en.StrictMode,{children:Et.jsx(Wb,{})}));
